.LOG
12:54 2014-07-01
GTD
0, -18:00

1, today
1), health check.
2), 13:40-14:12 nap.
3), 14:12-17:53 snapshot doc.

14:35 2014-07-01
snapshot
1, comment
 * load domain snapshot configuration file(format: libxl-json) to
 * libxl_domain_snapshot struct for the domain domid and
 * domain snapshot name(snapshot->name).

 * store libxl_domain_snapshot struct to domain snapshot configuration
 * file(format: libxl-json) belong to specific domain(domain id: domid).
 * file name will be snapshotdata-<snapshot_name>.libxl-json
2, snapshot
libxl__qmp_disk_snapshot_transaction do not support external snapshot.
3, 突然忘了snapshot里面的path什么时候会用到?
path is only used when invoke qemu-img command. currently, only revert.
libxl_disk_to_snapshot is in wrong version. it could merge snapshot struct and disk info.
TODO consider how to deal with it.
4, TODO
感觉libxl_disk_to_snapshot函数问题很多啊, 什么是否判断是否可以做snapshot呢?
感觉还是需要加type的, 如果用户需要指明全局的type, 每个disk可以覆盖全局的flag.
否则就是操作disk snapshot时, 检查是否可以做snapshot. 但是这样感觉比较乱
(16:02 2014-07-02)
已经加了type, 改代码吧。

16:12 2014-07-01
bash
set -x
set +x

09:50 2014-07-02
suse, colleague, L3/Maintenance, Vit Pelcak
All,

I'm glad to announce that Vit Pelcak takes over the role
of Team Lead Maintenance QA Prague in the L3/Maintenance department.

Together with Heiko Rommel and Tony Yuan, who lead the Nuremberg and the China
QA Maintenace teams, he will lead our QA Maintenance effort.

Please join me in congratulating Vit to his new role and in
offering him our full support for his work.


Thanks a lot,
Mike

--
Michael Hager
Director L3/Maintenance

SUSE LINUX Products GmbH
Maxfeldstr. 5, D-90409 Nürnberg
GF:  Jeff Hawn, Jennifer Guild, Felix Imendörffer, HRB 16746 (AG Nürnberg)

09:52 2014-07-02
suse, colleague, team, suse lab, performance
Hello all,

I'd like to introduce a new team in the Labs, one that will be focusing on
tracking, understanding and improving the performance characteristics of SLES.

The team will be led by

Mel Gorman

and

Jan Kára
Mike Galbraith
Jan "Moskyto" Matějka
Tony Jones

will be the initial crew. I expect the team to grow as it takes on new
challenges.

I welcome Mel in his new role as a teamlead, and wish both him and the
team a lot of success!

--
Vojtech Pavlik
Director SUSE Labs

10:10 2014-07-02
GTD
0, 9:40-17:55

1, today
1), 10:11-10:18 summary virtualization. see"10:11 2014-07-02"
TODO: add my voice recording.
2), 10:19-17:49 snapshot doc.
3), 11:15-14:00 send stuff to my parents.

10:11 2014-07-02
summay, virtualization, kernel; qemu; management tools
1, 从虚拟化技术看内核的新feature.
1), memory relative
tmem: 最开始为了xen引入.
ksm: for kvm?
huge tlb, transparent tlb.
2), pvops

2, qemu
multi data pane.

3, management tools
看起来用libvirt控制xen或kvm虚拟机是一样的. 其实libvirt控制xen经常要通过hypercall到xen hypervisor. 控制qemu多数是直接和qemu进程打交道. 如果有必要qemu或通过kvm fd和kernel kvm module说话.

10:35 2014-07-02
software skill, quilt import

18:10 2014-07-02
software skill, language, locale
LANG=zh_CN.utf8 LC_ALL=zh_CN.utf8 man ls

10:21 2014-07-03
GTD
0, 10:13

1, today
1), send snapshot doc v5 candidate to Chunyan and Roger.
2), 10:20-11:35 snapshot code.
3), 11:35-12:19 lunch.
4), 13:30-14:20 go to hospital

12:33 2014-07-03
/usr/bin/qemu-kvm -name clmd_n1_sles12 -S -machine pc-i440fx-1.4,accel=kvm,usb=off -m 768 -smp 4,sockets=4,cores=1,threads=1 -uuid a4eb4367-b880-3b11-d1e8-d5d2b2c1a3aa -no-user-config -nodefaults -chardev socket,id=charmonitor,path=/var/lib/libvirt/qemu/clmd_n1_sles12.monitor,server,nowait -mon chardev=charmonitor,id=monitor,mode=control -rtc base=utc -no-shutdown -device piix3-usb-uhci,id=usb,bus=pci.0,addr=0x1.0x2 -drive file=/mnt/vm/clmd_n1_sles12/disk0.raw,if=none,id=drive-virtio-disk0,format=raw -device virtio-blk-pci,scsi=off,bus=pci.0,addr=0x4,drive=drive-virtio-disk0,id=virtio-disk0,bootindex=1 -netdev tap,fd=23,id=hostnet0,vhost=on,vhostfd=25 -device virtio-net-pci,netdev=hostnet0,id=net0,mac=52:54:00:0c:78:00,bus=pci.0,addr=0x3 -vnc 0.0.0.0:0 -vga cirrus -device virtio-balloon-pci,id=balloon0,bus=pci.0,addr=0x5

