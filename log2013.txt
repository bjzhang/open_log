.LOG
14:25 2013-01-04
embedded, arm, Alwinner A10; Samsung Exynos 5250; 
1, Allwinner A10
全志的A10去年在国内外都很火爆阿，在国外一个嵌入式网站，占了6/10个去年最热帖子。
在国外火热的重要原因就是提供了比respberry Pi性能更好的但价格相近的开源平台。
http://www.cnx-software.com/2012/12/31/top-10-posts-of-2012-on-cnxsoft-blog/
图中左上角是迈乐A1000/A2000, MK802II是右边的三个优盘大小的mini TV中的一个。
2, Samsung Exynox 5250
超低价Cortex-A15来袭，想用最先进的arm处理器么？想在arm上体验虚拟化技术么？三星推出135$的Exynos5250开发板： http://www.howchip.com/shop/item.php?it_id=BRIX5250A
只是运到国内还要30多刀的运费。

14:55 2013-01-07
phone, moto roke e6
1, moto official site
http://sourceforge.net/projects/rokre6.motorola/files/ROKRE6/R533_G_11.11.04P/
2, moto e6 sdk
http://code.google.com/p/moto-e6-sdk/downloads/list
also ref this blog
http://blog.csdn.net/keensword007/article/details/5009710

12:50 2013-01-08
arm, Cortex-M, STM32
1, rt-thread art
http://www.rt-thread.org/
2, STM32F4 dicovery
http://www.st.com/stm32f4-discovery
f407
3, PX4
https://pixhawk.ethz.ch/px4/start
PX4 is an open-source, open-hardware project aiming at providing a high-end autopilot to the academic, hobby and industrial communities (BSD licensed) at low costs and high availability. 

13:00 2013-01-08
http://www.anandtech.com/show/6568/qualcomm-krait-400-krait-300-snapdragon-800
1, Krait 300: TSMC's 28nm LP process, up to 1.9GHz
Whereas the current Krait core tops out at around 1.5GHz, Krait 300 will run at up to 1.9GHz. 
Another big addition to the architecture is Krait 300 now features a hardware data prefetcher that preemptively grabs data out of main memory and brings it into L2 cache. The original Krait core had no L2 prefetchers.
Both Qualcomm and ARM have been very vague about what types of instructions can be executed out of order, but Krait 300 can execute more instructions out of their original program order. Building a robust OoOE (Out of Order Execution Engine) is very important to driving higher performance, and being able to reorder more types of instructions directly impacts single threaded performance.
2, Krait 400:TSMC's new 28nm HPm process, up to 2.3GHz
HPm process: High-K + Metal Gate, optimized for low power at peak performance
3, Snapdrogon 800: Krait 400, Adreno 330, 9x25 3rd LTE bb, 802.11ac bb, 2xLPDDR3, encode/decode of 4K HD content at 30 fps 

14:00 2013-01-08
基于MK802、Arduino和OpenCV库的互动开发
http://www.csksoft.net/blog/post/mk802_dev_demos.html, 一共有三个demo
1. 基于MK802的摄像头自动光源跟踪
2. 基于MK802的人脸摄像机云台跟踪
3. MK802将路由器网络通讯情况显示与VFD屏幕
http://opencv.org/

14:27 2013-01-08
usb, jtag
Jlink STM32仿真器 MINI JTAG仿真器(终身保修)
http://item.taobao.com/item.htm?spm=a230r.1.10.139.Pv12Oc&id=19382640535
bamvor: openocd shoud be work.

17:05 2013-01-08
web, blog, build blog on github
1, http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html
評論功能並不是只能用disqus，所有社會化評論服務都是可以整合進去的。disqus也因爲它不是開源的，在黑客社區受到一些批評。如果想玩 Static Blog Generators 的話，我推薦試一下 ruhoh.com 。是jekyll-bootstrap的作者，作了jekyll-bootstrap後重新思考出來的作品。
2, ref:
http://hzmook.github.com/2012/07/01/use-jekyll-build-blog-on-github.html

11:48 2013-01-09
nand port used in MK802
PC00, PC01, PC02, PC03, PC04, PC05, PC06, PC07, PC08, PC09, PC10, PC11, PC12, PC13, PC14, PC15, PC16, PC17, PC18, PC23, PC24,

14:47 2013-01-09
embedded, mcu, 智能小狗狗
1, 系统方案设计:
考虑用Allwinner A10还是STM32. STM32已有的板子都没法放到狗狗里面。只有MK802可以放进去。但是MK802没有引出音频接口，可以用USB音频芯片CM108。
MK802+CM108即使不重新画CM108子板感觉地方也够用, 这个音频播放本来也测试过。
现在的问题就是能否正常控制这两个电机了。
2, 遥控玩具车里控制电机正反转的零件是什么啊？
控制其正转反转的电路是有两对三极开关管控制的，一般是用8050和8550组成的正返电压带动马达。
3, 今天实验了电机的正反转。考虑自己做个H桥电路控制电机。
http://bbs.yleee.com.cn/viewthread.php?tid=8014
http://www.doc88.com/p-597322787787.html
4, 这样的话需要找一个PWM芯片. 想到最简单的办法用IO模拟PWM, 外面可能需要加驱动三极管. 如果复杂一点就要用NE555或MCU, 我不太希望用后者. 如果是后者还不如直接做个STM32F4的板子.
5, 还是先把H桥试通, 然后根据系统方案选型.
主要是觉得如果用MK802+STM32的方案, 系统比较复杂, 虽然灵活性很好. 价格不到25$, 运到国内需要300以上了, 价格上不如自己画.
如果是结合的话下面这个很实用, 2.0x0.7inch(5cmx1.9cm)
http://www.ghielectronics.com/catalog/product/353/
现在的想法是先买一个STM32F4的开发板, 把功能和方案定好后再做打算.
6, (19:29 2013-01-11)
很清楚的H桥电路.
http://www.robotain.com/tech/diy/201001/09253.html

14:49 2013-01-09
智能控制, 机器人
http://wiki.dfrobot.com.cn/index.php/%E9%A6%96%E9%A1%B5

19:58 2013-01-10
embedded, mcu, 智能小狗狗
1, 找到马达驱动芯片
1), L298N.
外围电路，一个电机需要四个快速恢复二极管(最好是肖特基二极管 Vf 小于1.2v. I 2A)。两个电源上需要100nf电容。
另需要470us电容，0.5欧姆sense resistor.
2), L7010R
2, (19:00 2013-01-11)
今天在ST上面看的时候发现了L293DD013TR: 两个H桥, 带保护二极管和过热保护.  

19:11 2013-01-11
PCB打样价格
1, http://www.sz-jlc.com
10cmx10cm
层数 总数 单价
2    10   13
2    50   8
2    1000 4
4    10   33
2, http://www.pcbpartner.cn
可以搜索到PCB公司.

23:53 2013-01-11
embedded, mcu, 智能小狗狗
1, audio dac
1), ti pcm1770. 
样片申请失败, 要求必须是学校地址才可以.
2, 对于cmos输出:l298 or l293d需要cc4049驱动
3, l293dd: 电源端vs, vss: 10uf, 100nf电容. 
4, (00:31 2013-01-14)
另一个电机驱动芯片, 支持CMOS驱动, 比较适合MK802.
tle4208g. 再仔细看看英飞凌的芯片.

18:00 2013-01-14
看了看资料, 如果没有风枪, 不太容易拆mk802上面的flash.

14:31 2013-1-15
目前方案
1, stm32f1做主控，用内部DAC接外部功放播放音频。用nrf24L01(NRF24L01+, NRF24L01P)做无线通信模块。当然如果用wifi更理想，等这个版本做完了下一步可以看看有没有合适的wifi模块.
1), NRF24L01. 2Mbps速率, 传wav文件肯定够了.
2, (13:49 2013-01-21)
1), 实验rt-thread成功, 目前方案如下:
(1), STM32: 通过L293D控制两个电机正反转.
(2), STM32: 内部DAC接LM386放大接喇叭, 用SPI总线接SD卡. 从SD卡上读WAV音乐并播放. 
(17:50 2013-01-25)
今天看到TDA1308做耳机放大的, 只要1.5RMB, 很便宜阿. 
"17:50 2013-01-25"end
(3), STM32: 之前看过NRF24L01做无线传输, 但是目前没有需要传输的数据, 所以考虑用红外遥控器遥控, 只要知道频率和编码, 还是很容易的.
(4), 远期计划. 评估MK802所需电流. 如果4个5号电池供电没问题, 考虑用MK802通过USB控制STM32的IO和设备. 这样可以发挥MK802的性能, 做一些更复杂的应用, 例如wifi传输音频视频等等. 

15:39 2013-01-16
1, development stm32 with gcc and openocd
http://www.triplespark.net/elec/pdev/arm/stm32.html
2, download firmware to stm32 in linux
1), the most popular one:
project homepage: http://code.google.com/p/stm32flash/
http://gostm32.blogspot.com/2010/09/better-program-for-bootloader.html
2), another doc:
http://www.micromouseonline.com/2009/05/08/stm32-arm-cortex-bootloader/#axzz1cSz9mzrr
3, stm32 library
1), 在 Linux 上編譯 stm32 library for stm32f10x
http://tw.myblog.yahoo.com/wukc-soft/article?mid=1433
2),libopenstm32 - a Free Software firmware library for STM32 ARM Cortex-M3 microcontrollers 
http://www.hermann-uwe.de/blog/libopenstm32-a-free-software-firmware-library-for-stm32-arm-cortex-m3-microcontrollers
4, uClinux on Cortex-M3/M4
http://electronicdesign.com/embedded/practical-advice-running-uclinux-cortex-m3m4
http://www.emcraft.com/
code: https://github.com/EmcraftSystems 

18:28 2013-01-18
embedded, stm32f1, rt-thread
1, get device infomation
bamvor@linux-bjrd:download_bin> stm32flash /dev/ttyUSB0
stm32flash - http://stm32flash.googlecode.com/         

Serial Config: 57600 8E1
Version      : 0x22     
Option 1     : 0x00     
Option 2     : 0x00     
Device ID    : 0x0414 (High-density)
RAM          : 64KiB  (512b reserved by bootloader)
Flash        : 512KiB (sector size: 2x2048)        
Option RAM   : 15b                                 
System RAM   : 2KiB                                

Resetting device... done.

2, flash read
bamvor@linux-bjrd:download_bin> stm32flash -r uart_test /dev/ttyUSB0 
stm32flash - http://stm32flash.googlecode.com/                       

Serial Config: 57600 8E1
Version      : 0x22     
Option 1     : 0x00     
Option 2     : 0x00     
Device ID    : 0x0414 (High-density)
RAM          : 64KiB  (512b reserved by bootloader)
Flash        : 512KiB (sector size: 2x2048)        
Option RAM   : 15b                                 
System RAM   : 2KiB                                

Read address 0x08080000 (100.00%) Done.

Resetting device... done.

3, flash write
bamvor@linux-bjrd:download_bin> stm32flash -w ../code/trunk/bsp/stm32f10x/rtthread.bin -v -g 0x0 /dev/ttyUSB0
stm32flash - http://stm32flash.googlecode.com/

Using Parser : Raw BINARY
Serial Config: 57600 8E1
Version      : 0x22
Option 1     : 0x00
Option 2     : 0x00
Device ID    : 0x0414 (High-density)
RAM          : 64KiB  (512b reserved by bootloader)
Flash        : 512KiB (sector size: 2x2048)
Option RAM   : 15b
System RAM   : 2KiB

Wrote and verified address 0x0800f290 (100.00%) Done.

Starting execution at address 0x08000000... done.

4, test rt-thread, finSH start successful
screen /dev/ttyUSB0 115200
 \ | /
- RT -     Thread Operating System
 / | \     1.1.0 build Jan 18 2013
 2006 - 2012 Copyright by rt-thread team
rtc is not configured
please configure with set_date and set_time
finsh>>

15:45 2013-01-21
Boradcom, allwinner, Raspberry Pi and the MK802 a Side-by-Side Comparison
http://complete-concrete-concise.com/blog/raspberry-pi-and-the-mk802-a-side-by-side-comparison

15:48 2013-01-21
usb to gpio
http://maxim.eefocus.com/%E8%AE%BE%E8%AE%A1%E6%88%91%E6%9C%80%E8%B5%9E/blog/09-04/168247_700ad.html
http://www.xdimax.com/usb_i2c/u2c12.html
http://numato.com/8-channel-usb-gpio-module

15:33 2013-01-22
Free and Open ARM Cortex MCU Embedded Development Tools
http://www.coocox.com/Nuvoton.htm
Nuvoton
Nuvoton (an affiliate of Winbond Electronics Corp.) offers a comprehensive portfolio of MCU devices based on ARM®, Cortex™-M, and 8051 processors. NuMicro® Family is Nuvoton's brand-new 32-bit Microcontroller product line based on the ARM® Cortex™-M0 processor with rich peripherals to offer superb features and connectivity capability. Besides the NUC100, NUC120, NUC130 and NUC140 series, a new series the NuMicro M051™ series, including the M052/54/58/516 is to satisfy the worldwide customers’ 8-bit/16-bit microcontroller demand with a higher performance of a 32-bit microcontroller.

16:09 2013-01-22
open source pcb software
http://fritzing.org/

14:06 2013-01-23
阿莫电子, 邮购
http://www.mailshop.cn/
阿莫PCB打样
http://www.amobbs.com/thread-5437560-1-1.html

15:31 2013-01-23
PCB制作, 热转印做PCB
http://blog.21ic.com/user1/4577/archives/2007/43813.html
http://www.pcbdown.com/html/pcbjishu/20100104/3101.html
http://bbs.yleee.com.cn/viewthread.php?tid=1114

14:35 2013-01-24
突然很想总结自己这几年的职业发展, 发现自己毕业后工作的公司可以用vvs来概括. 但是vvs钻石里面只有很少的杂志, 我的职业发展里面只有不多的光明. 

23:34 2013-01-24
stm32f103
1, dac
pa4: dac1, pa5: dac2.
2, pwm

16:21 2013-01-25
几种开源的TCP/IP协议栈分析
http://blog.csdn.net/tonggetongge/article/details/6399255
http://www.360doc.com/content/09/0102/00/92452_2242633.shtml
BSD 栈可完整实现TCP/IP协议，但代码庞大，70KB-150KB之间，裁减优化有难度，uIP和TinyTcp代码容量小巧，实现功能精简，限制了在一些较高要求场合下的应用，如可靠性与大容量数据传输。

LwIP 和uC/IP是同量级别的两个开源协议栈，两者代码容量和实现功能相似，LwIP没有操作系统针对性，它将协议栈与平台相关的代码抽象出来，用户如果要移 植到自己的系统，需要完成该部分代码的封装，并为网络应用支持提供了API接口的可选性。uC/IP协议最初是针对uC/OS设计，为方便用户移植实现， 同样也抽象了协议栈与平台相关代码，但是协议栈所需调用的系统函数大多参照uC/OS内核函数原型设计，并提供了协议栈的测试函数，方便用户参考，其不足 在于该协议栈对网络应用支持不足。

根据以上分析，从应用和开发的角度看，似乎LWIP更得到了网上很多朋友使用的青睐；uC/IP在文 档支持与软件升级管理上有很多不足，但是它最初是针对UC/OS而设计，如果选用UC/OS作为软件基础的话，在系统函数构造方面有优势。当然你选择其他 操作系统的话，可参照OS_NULL文件夹下的文件修改。 以上的这些开源协议栈也并非免费，拿来就可以用，据我所知，UC/OS的母公司推出UC/OS-TCP/IP花了6人*2年的工作量，国内某公司使用 LWIP作为移植的参照，花了4-5人*2年的工作量来测试与优化协议，使用商用TCP/IP栈的高费用就不足为奇了。 作为广大的爱好者学习而言，如果只是跑跑原型，实验一下效果，以上的几种开源协议栈都提供了测试的例子，应该是不错的选择。

9:40 2013-01-26
老杳吧, 高通投资下一代显示技术
高通表示决定向夏普投资1.2亿美元，对此雅各布的解释是，看重了夏普的IGZO技术。高通目前持有mirasol显示技术以及叫Pixtronic的显示技术，它可以通过一个像百叶窗开合的机制，来放进或挡住光线。这种技术非常省电，而其明亮度甚至能超过LCD和OLED。夏普拥有一种新型的、功耗非常低的晶体管技术叫IGZO，把IGZO技术和Pixtronic结合起来，能够制造出亮度非常好，而且功耗很低的显示器。

14:05 2013-1-27
企业间的竟争不是产品间的竟争，而是商业模式之间的竟争。
突然想起原来芸芸说过，京东或国美的业态其实并不新。

15:00 2013-1-27
1, 百度百科
安捷伦科技有限公司是世界最大的测试测量公司，是全球电子测量、生命科学与化学分析的领导者，其产品正在化学、环保、食品、医药和生命科学领域中广泛使用。安捷伦具有世界最先进的化学分析仪器，丰富的法规适应性和专业技术经验，以及优良的支持服务系统，这些都能够帮助您的实验室超前应对分析的挑战。
年净收入 66 亿美元（2012年）
员工人数 20,000（2012年）

20:18 2013-1-27
mail, 侯立刚, 耿淑琴, 推荐一个集成ARM和FPGA芯片的开源开发板

侯哥, 耿师姐

很久没联系了.

前段时间看到一个包括双核ARM的SOC+FPGA混合芯片[1], 也是以社区方式在运作[2].
ASIC部分是一个双核Cortex-A9加DDR3等memory control等. FPGA部分包括85k Logic Cells(130万等效门), 53200LUT, 更重要的是FPGA与ASIC部分通过AXI总线, 中断和AXI ACP连接, 对于基于AMBA3的IP设计来说很重要. 我觉得我们甚至可以把这个平台融入到IC或嵌入式系统类的课程. 

感觉这个很适合咱们实验室, IC工程师可以在这个平台上做自己的IP: 在现在手机或平板IC门数都早早超过一千万门了, 感觉做整个芯片越来越困难了, 同时IP越来越重要了, 有公司已经推出了基于这个芯片的GPU IP[3].

同时已经有公司[4], 做出了zynq+16cores RISC用于并行计算, 令人惊叹的是只要99$[5].
不管是xilinx还是altera都在做arm和FPGA的"混合"芯片, 这应该是一个趋势, 看起来很适合咱们实验室. 

[1] http://www.xilinx.com/products/silicon-devices/soc/zynq-7000/index.htm
[2] http://www.zedboard.org/
[3] http://www.logicbricks.com/Archive/3D-GPU-For-Xilinx-EPP-FPGA.aspx, http://www.logicbricks.com/Documentation/Flyers/logi3D_Graphics_Accelerator_01.pdf
[4] http://www.adapteva.com/
[5] http://www.kickstarter.com/projects/adapteva/parallella-a-supercomputer-for-everyone

提前祝你们春节快乐.

张健

22:31 2013-1-27
之前买了联通的H108L，发现物理有些地方有信号死角，上网看了看如果改装天线，发现有H108L有不同的版本：我射频部分的电路和下面第一个一样：
http://bbs.mydigit.cn/read.php?tid=311250
http://forum.anywlan.com/thread-106743-1-1.html
参考第二个帖子的说法，结合下面的帖子，发现本来路由器一般都预留了接外置天线的接口，需要用跳线电容选择不同的天线，详情可以参考：
http://www.right.com.cn/forum/thread-78788-1-1.html
H108L改装还可以参考：
http://bbs.mydigit.cn/read.php?tid=435802

另外，天线也不是增益也不是越大越好，天线增益越高覆盖的范围越大，角度也越窄，适合的才是最好的。
http://hzwx.taobao.com/view_page-55646676.htm?spm=2013.1.0.123.WfZJA1
方案确定后，去淘宝买U.FL (minipci)IPX to SMA转接线和高增益全向SMA天线(6db)。

废话不说，上图。

11:21 2013-01-28
GTD
1, plan: 最近自己的什么状态都不够好, 但是我又相信自己可以做的更好. 强制划分一下时间试试.
罗列一下自己想做的事情. 
1), 工作
(0), 日常工作(30')
((1)), work report.
((2)), communicate with Jiaju, Jim.
((3)), mailing list: xen, libvirt.
(1), 主要精力是完成公司交给我的任务(4h).
((1)), libvirt libxl xen4.2 patch read and testing. 本周完成. 
((2)), libvirt libxl lock patch.
((3)), libvirt libxl block stats api.
(2), 其次是做自己想做的和工作相关的事情(2h).
((1)), xen arm porting. 这里面包括看arm virtualization extension document(已经看过一遍), 阅读xen boot and xen arm code(仅仅是开始), 
((2)), libvirt xen 4.3 support. maybe PVH support.
(3), 提高工作效率的(1h).
((1)), coding excise. 继续看原来那本书.
((2)), 改进vim脚本(优先级低).
2), 业余
1), smart control: stm32 + rt-thread. 
2), 四轴飞行器. 

14:24 2013-01-28
moto, 四轴飞行器
1, 迷你四轴, 量产价格: 49$.
http://www.alwaysinnovating.com/company/pressrelease-5.htm
2, DIY四轴
1), 里面写了具体电机, 遥控器, LCD等型号, 很有参考价值:
http://blog.sina.com.cn/s/blog_a20e35ee01012yea.html
http://bbs.5imx.com/bbs/forum.php?mod=viewthread&tid=312846
2), 超小四轴, 基于STM32:
http://www.guokr.com/article/6171/
3, 东西都可以在淘宝买到, 例如
马达, 42RMB.
http://item.taobao.com/item.htm?spm=a230r.1.10.1.OXYsMM&id=12940705532&_u=sc5ptte4121
室内保护壳, 38RMB.
http://item.taobao.com/item.htm?spm=a230r.1.10.34.05Y970&id=16328381371&_u=sc5ptte6294
4, 淘宝上也有卖很便宜的四轴飞行器:
http://item.taobao.com/item.htm?spm=2013.1.48-7880593840.2.LU4yWu&id=16374027835

