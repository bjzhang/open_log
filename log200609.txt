
15:00 2006-9-1
(2006-9-2修改)
log辅助软件(日志助手):
搜索, 把搜索的结果按条目输出
方法: 
1, 用grep搜索关键字(keyword), 把行号写入文件.
grep -n -o keyword filename > filename_keyword
格式:
行号:关键字
行号:关键字
行号:关键字

2, 判断是否存在log分段标记文件.
如果不存在, 用grep生成该文件.
grep -n -e "2006-[[:xdigit:]]-[[:xdigit:]]" filename > filename_seg
grep -n -e "#2006[[:xdigit:]]" filename >> filename_seg
格式:log分段标记文件名 : log文件名_seg
每个文件中:
行号:分段标记
行号:分段标记
行号:分段标记
...
然后把结果文件("filename_seg")按数字排序, 保存在"filename_seg_result"中
sort -g filename_seg > filename_seg_result
注1, 判断标准: log分段标记文件的日期不早于log文件的日期.
注2, 分段标记: 日期, 但是加括号的日期不算. 例如: 
有效的日期: 2006-8-31 13:34 
无效的日期: (2006-8-31 13:34)
注3, 现在grep输出的内容中,有可能包含错误的内容, 以后改进.

3, 输入搜索结果文件中的行号, 判断该行号对应log分段标记文件中的那两个行号之间,
输出这两个行号之间的内容(包括第一个行号的内容, 也包括第二个行号的内容,
避免内容选取错误).


21:29 2006-9-1
嵌入式Linux，elf文件, 读取
readelf -a elf-filename
显示elf-filename-的信息

22:43 2006-9-1
linux, 搜索, 查找函数; man, grep
用man, grep查找函数. 例如, 查找把字符串传换为整数的函数,
可以执行
man -k string | grep int | more
其中-k 表示按关键字查找.

02:19 2006-9-2
log辅助软件(日志助手)进展
完成了fileReadTest02.c,可以作为读取关键字文件和log分段标记文件函数的基础.
明天上午一定要完成今天晚上的任务. 
经验: 程序才60行, 但是写了2个小时, 主要是思路不清楚, 就来回改, 效率很低.
以后要养成习惯, 必须先写清算法, 在写代码.

09:53 2006-9-2
linux, xhost, x-serve
xhost用于增删能访问x-serve的用户.
xhost +
表示任何人都可以访问本机的x-serve.
详见man xhost

09:55 2006-9-2
linux, 网络设置, shell(case, $?(待查***))
1, ntsysv, 用于开启关闭网络服务
iptables, 网络防火墙, 如果访问网络资源有问题, 可以先关闭试一试.
(11:34 2007-4-17)在/sbin/目录有iptables程序，作用是"administration tool for
IPv4 packet filtering and NAT"。
2, /etc/rc.d/init.d, 这里是所有服务的默认启动脚本.
iptables start, 开iptables服务;
iptables stop, 关iptables服务;
打开 iptables文件, 文件开始是定义变量和读取防火墙的配置文件, 然后是定义函数, 最后是处理命令行中第一个参数的case语句, 根据参数不同, 执行对应的操作. 例如, 如果输入
iptables start
会执行stop. start函数, 把$?的值赋给RETVAL, 然后退出.
但是不知道$?和exit $?是什么意思. 待查***

case "$1" in
    start)
        stop
        start
        RETVAL=$?
        ;;
    stop)
        [ "x$IPTABLES_SAVE_ON_STOP" = "xyes" ] && save
        stop
        RETVAL=$?
        ;;
    restart)
        restart
        RETVAL=$?
        ;;
    condrestart)
        [ -e "$VAR_SUBSYS_IPTABLES" ] && restart
        ;;
    status)
        status
        RETVAL=$?
        ;;
    panic)
        flush_n_delete
        set_policy DROP
        RETVAL=$?
        ;;
    save)
        save
        RETVAL=$?
        ;;
    *)
        echo $"Usage: $0 {start|stop|restart|condrestart|status|panic|save}"
        exit 1
        ;;
	esac

12:06 2006-9-3
linux编程，c语言，shell脚本。
log助手的任务
处理行号的函数, 有问题.
下午用switch, case. 每次循环读取一个字符. switch case内部不读取字符

16:12 2006-9-3
linux编程, busybox,uclib
学习linux编程时, 可以参考busybox和uclib的代码. 因为它们实现了linux中众多的常用函数和库函数。

17:52 2006-9-3
linux编程，c语言，shell脚本。
log助手的任务
完成函数,
思, 如何输出指定行号到文件结尾的内容

22:59 2006-9-3
c语言, 编译错误
[bamv2006@localhost UnixProgramming]$ gcc -o fileOutput fileOutput.c
fileOutput.c:204: error: conflicting types for 'usage'
fileOutput.c:148: error: previous implicit declaration of 'usage' was here
仔细检查上面204和148行, 都没有错. 后来搜索usage,
想看看还有什么地方使用了usage. 发现usage函数的原型声明写错了.
void usage();
写成了
void uasge();

21:42 2006-9-3
嵌入式培训，linux系统移植
亚嵌教育
http://www.akaedu.org/index.php
aka_lab@sohu.com
是上次李京波师兄去学linux系统移植的机构。师兄建议我问问能不能实习。
有时间关注一下亚嵌教育。待看***

01:02 2006-9-4
linux编程，c语言，shell脚本。
log助手的任务
修改fileOutput中的readLineNum函数
修改, 原: readLineNum只处理读取的第一行, 如果第一行中没有需要格式的行号就返回.
      现: 只有读到需要格式的行号, 或者文件结束才返回.

01:52 2006-9-4
linux编程，c语言，shell脚本。
log助手的任务
现有任务的c 编程部分完成, 大致看了一下, 结果没有大问题.
明天上午完善程序, 完成脚本.
编程的时候, 小错误还是很多, 比如问题考虑不全面. head语法不正确. 

13:10 2006-9-4
linux, 网卡驱动, 无线网络
找intel PRO/Wireless 2200BG Network Connection驱动的过程。
intel网站，产品-笔记本(laptop)-适配器(adapter)-Intel® PRO/Wireless network connection-软件和工具(Tools and software)-软件和工具(Tools and software)-Intel® Centrino® mobile technology Software and Driver Identification-下面，Intel® PRO/Wireless 2200BG Network Connection
相关网站：
http://support.intel.com/support/notebook/sb/cs-006408.htm intel各种网卡的驱动和开发网站
http://ipw2200.sourceforge.net/ intel 2200BG，2915ABG网卡的开发网站，上面有很全的文档帮助你安装驱动。
(14:27 2006-9-4)
安装驱动和工具的过程
开始没有安装ieee80211所以编译错误.
去http://sourceforge.net/projects/ieee80211
下载安装包, 安装, 有警告.
[root@localhost ieee80211]# make
Checking in /lib/modules/2.6.9-11.EL for ieee80211 components...
/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ieee80211/ieee80211_crypt_tkip.ko
/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ieee80211/ieee80211_crypt.ko
/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ieee80211/ieee80211_crypt_wep.ko
/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ieee80211/ieee80211.ko
/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ieee80211/ieee80211_crypt_ccmp.ko
Above files found.  Remove? [y],n y
make -C /lib/modules/2.6.9-11.EL/build M=/usr/src/ieee80211-1.2.15 modules
make[1]: Entering directory `/usr/src/kernels/2.6.9-11.EL-i686'
  CC [M]  /usr/src/ieee80211-1.2.15/ieee80211_module.o
  CC [M]  /usr/src/ieee80211-1.2.15/ieee80211_tx.o
  CC [M]  /usr/src/ieee80211-1.2.15/ieee80211_rx.o
  CC [M]  /usr/src/ieee80211-1.2.15/ieee80211_wx.o
  CC [M]  /usr/src/ieee80211-1.2.15/ieee80211_geo.o
  LD [M]  /usr/src/ieee80211-1.2.15/ieee80211.o
  CC [M]  /usr/src/ieee80211-1.2.15/ieee80211_crypt.o
  CC [M]  /usr/src/ieee80211-1.2.15/ieee80211_crypt_wep.o
  CC [M]  /usr/src/ieee80211-1.2.15/ieee80211_crypt_ccmp.o
  CC [M]  /usr/src/ieee80211-1.2.15/ieee80211_crypt_tkip.o
  Building modules, stage 2.
  MODPOST
Warning: could not find versions for .tmp_versions/ieee80211.mod
  CC      /usr/src/ieee80211-1.2.15/ieee80211.mod.o
  LD [M]  /usr/src/ieee80211-1.2.15/ieee80211.ko
  CC      /usr/src/ieee80211-1.2.15/ieee80211_crypt.mod.o
  LD [M]  /usr/src/ieee80211-1.2.15/ieee80211_crypt.ko
  CC      /usr/src/ieee80211-1.2.15/ieee80211_crypt_ccmp.mod.o
  LD [M]  /usr/src/ieee80211-1.2.15/ieee80211_crypt_ccmp.ko
  CC      /usr/src/ieee80211-1.2.15/ieee80211_crypt_tkip.mod.o
  LD [M]  /usr/src/ieee80211-1.2.15/ieee80211_crypt_tkip.ko
  CC      /usr/src/ieee80211-1.2.15/ieee80211_crypt_wep.mod.o
  LD [M]  /usr/src/ieee80211-1.2.15/ieee80211_crypt_wep.ko
make[1]: Leaving directory `/usr/src/kernels/2.6.9-11.EL-i686'

然后
[root@localhost ipw2200-1.1.4]# make
说找不到头文件, 于是把指明路径, 再编译:
[root@localhost ipw2200-1.1.4]# make
IEEE80211_INC=/media/linuxDoc/driver/2200BG//ieee80211-1.2.15
mkdir -p /media/linuxDoc/driver/2200bg/ipw2200-1.1.4/tmp/.tmp_versions
cp /usr/src/ieee80211/.tmp_versions/*.mod
/media/linuxDoc/driver/2200bg/ipw2200-1.1.4/tmp/.tmp_versions
cp /usr/src/ieee80211/.tmp_versions/../Modules.symvers
/media/linuxDoc/driver/2200bg/ipw2200-1.1.4
cp: stat‘/usr/src/ieee80211/.tmp_versions/../Modules.symvers’失败:
没有那个文件 或目录
make: [modules] 错误 1 (忽略)
make -C /lib/modules/2.6.9-11.EL/build
M=/media/linuxDoc/driver/2200bg/ipw2200-1.1.4
MODVERDIR=/media/linuxDoc/driver/2200bg/ipw2200-1.1.4/tmp/.tmp_versions
modules
make[1]: Entering directory `/usr/src/kernels/2.6.9-11.EL-i686'
  CC [M]  /media/linuxDoc/driver/2200bg/ipw2200-1.1.4/ipw2200.o
  Building modules, stage 2.
  MODPOST
Warning: could not find versions for .tmp_versions/ipw2200.mod
*** Warning: "escape_essid"
[/media/linuxDoc/driver/2200bg/ipw2200-1.1.4/ipw2200.ko] undefined!
  CC      /media/linuxDoc/driver/2200bg/ipw2200-1.1.4/ipw2200.mod.o
  LD [M]  /media/linuxDoc/driver/2200bg/ipw2200-1.1.4/ipw2200.ko
make[1]: Leaving directory `/usr/src/kernels/2.6.9-11.EL-i686'

下一步是LOADING FIRMWARE VIA HOT-PLUG
1, 把下载的firmware解压缩, 有四个文件需要复制到hotplug目录下.
/etc/hotplug/firmware.agent中可以看到:
FIRMWARE_DIR=/lib/firmware
这就是hotplug的目录

下一步, 加载模块
[root@localhost firmware]# modprobe ipw2200
WARNING: Could not open
'/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ieee80211/ieee80211_crypt.ko':
No such file or directory
WARNING: Could not open
'/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ieee80211/ieee80211.ko':
No such file or directory
显然又是路径问题, 进入ieee80211-1.2.1代码所在目录, 把*.ko复制到指定目录, 再次
[root@localhost firmware]# modprobe ipw2200
成功

然后在ipw2200目录下执行
./load
[root@localhost ipw2200-1.1.4]# ./load
Unloaded: ipw2200 ieee80211 ieee80211_crypt
insmod: error inserting './ipw2200.ko': -1 Unknown symbol in module
Loaded: ieee80211_crypt ieee80211_crypt_wep ieee80211_crypt_tkip
ieee80211_crypt_ccmp ieee80211

查看疑难解答:
第一条说原因是旧的ipw2200没有卸载干净.
按照文档中
7.  UPGRADING FROM PRIOR VERSIONS的内容, 再检查一下是否没有卸载干净.
不用./removeold, 手动卸载, 执行:
[root@localhost ieee80211]# for i in ieee80211 ipw2200; do \ >
find /lib/modules/`uname -r` -iname ${i}*; done
find: paths must precede expression
Usage: find [path...] [expression]
/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ipw2200
/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ipw2200/ipw2200.ko
即:
/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ipw2200目录下面有"ipw2200.ko"

然后在执行
[root@localhost ipw2200-1.1.4]# ./load
Unloaded: ieee80211 ieee80211_crypt_tkip ieee80211_crypt_ccmp
ieee80211_crypt_wep ieee80211_crypt
FATAL: Could not open
'/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ieee80211/ieee80211_crypt.ko':
No such file or directory
WARNING: Could not open
'/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ieee80211/ieee80211_crypt.ko':
No such file or directory
FATAL: Could not open
'/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ieee80211/ieee80211_crypt_wep.ko':
No such file or directory
WARNING: Could not open
'/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ieee80211/ieee80211_crypt.ko':
No such file or directory
FATAL: Could not open
'/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ieee80211/ieee80211_crypt_tkip.ko':
No such file or directory
WARNING: Could not open
'/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ieee80211/ieee80211_crypt.ko':
No such file or directory
FATAL: Could not open
'/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ieee80211/ieee80211_crypt_ccmp.ko':
No such file or directory
WARNING: Could not open
'/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ieee80211/ieee80211_crypt.ko':
No such file or directory
FATAL: Could not open
'/lib/modules/2.6.9-11.EL/kernel/drivers/net/wireless/ieee80211/ieee80211.ko':
No such file or directory
insmod: error inserting './ipw2200.ko': -1 Unknown symbol in module
No modules loaded.
原来的错误没有减少，而且需要复制*.ko文件.(17:30)
(19:01 2006-9-4)
仍然是同样的错误.
执行modprobe ipw2200
也出错.
重新编译ipw2200-1.1.4, 提示.tmp_versions/ipw2200.mod找不到
#locate .tmp_versions
...
/lib/modules/fglrx/build_mod/2.6.x/.tmp_versions
/lib/modules/fglrx/build_mod/2.6.x/.tmp_versions/fglrx.mod
/lib/modules/fglrx/build_mod/2.6.x/.tmp_versions
...

看558行

又重新看了README.ipw2200, 发现x.y.z中, 如果z!=0是不稳定版. 先试一下稳定版本

重新安装ieee80211
要求的四个选项中, 前三个编译成了模块, 最后一个是直接编译进了内核,
不知道有没有影响.
        Michael MIC (CONFIG_CRYPTO_MICHAEL_MIC)
        AES (CONFIG_CRYPTO_AES_586)
        ARC4 cipher algorithm (CONFIG_CRYPTO_ARC4)
        CRC32 (CONFIG_CRC32)


13:55 2006-9-4
网址，待看
http://acronyms.thefreedictionary.com/STDCC
从论坛上偶尔看到的。关注一下
(23:43 2006-9-29)
http://www.edaboard.com/
搜索时序借用时找到的网站
http://www.9iv.com/down/sort/14_1.htm
E维软件资讯网-行业软件-电子电路，众多专业软件。从这里下载了modelsim6.2b。***

13:57 2006-9-4
网址
http://fanqiang.chinaunix.net/ chinaunix，永远的unix：linux/Unix技术资料的宝库，
bamvor：有很多不错的文章，待看***

14:18 2006-9-4
linux, Redhat, RHEL, 内核模块(module)
/lib/modules/`uname -r`/build/include/linux/autoconf.h
好像是内核的配置文件. 
uname表示输出系统信息. 可以显示Linux内核版本.
uname -r表示内核版本(kernel release version)
uname -a是显示完整的内核信息, 我的机器(RHEL4 AS)是
Linux localhost.localdomain 2.6.9-11.EL #1 Fri May 20 18:17:57 EDT 2005 i686
i686 i386 GNU/Linux
autoconf.h里面如果编译为模块用"_MODULE"表示, 例如
#define CONFIG_CRYPTO_AES_586_MODULE 1

17:02 2006-9-4
linux, shell, 显示当前用户
#whoami
(用户名)
在shell脚本中
'shell命令'(要加"'"和"'"), 等于执行shell命令
例如:
if [ `whoami` != "root" ]; then
    echo "You must be root to run this script."
    return
fi
表示, 如果不是root用户, 显示提示信息后返回

19:53 2006-9-4
blackfin, uclinux, 
blackfin_uclinux邮件列表。
Kang shuo: 建议我试一下blackfin uclinux 2005R3 RC2
Blackfin simulation is not completely  until now.Cache and DMA is not simulated.So when you select some device that not supported by skyeye, maybe you will encounter some problems. I tried to make the newest release of blackfin uclinux run on skyeye and  need to wait several days before get an enhancement blackfin simulator.  You can try  2005R3 RC2 release of blackfin uclinux and make it run on SkyEye.

20:32 2006-9-4
笔记，blackfin_uclinux，Release Notes for uClinux for Blackfin Version 2005R3
Find the compiled blackfin executable linux in the following location
$(WORK_DIR)/uClinuxdist/linux2.6.x
Customize Application and Lib
In order to configure busybox 1.00, you should go into the folder“user/busybox1.00rc3/”and do menuconfig.
In order to configure uClibc, you should go into the folder “uClibc” and do menuconfig.
Customize for debugging
To do source level kernel debugging by kgdb, please refer to the README file in subfolder kgdb_patch. After apply the kgdb patch file to the kernel, a simple guide“kgdb_bfin.txt” can be found in subfolder “linux2.6.x/Documentation/blackfin/”

21:10 2006-9-4
找到了RHEL4的无线网络rpm安装包
ATrpms - by Distribution > Red Hat Enterprise Linux 4 > ipw2200-testing
http://atrpms.net/dist/el4/ipw2200-testing/
ATrpms - by Distribution > Red Hat Enterprise Linux 4 > ieee80211
http://atrpms.net/dist/el4/ieee80211/

21:16 2006-9-4
网址，一些搜集的网址，待看
无线网络
http://wiki.archlinux.org/index.php/Wpa_supplicant
Wpa supplicant
http://wiki.archlinux.org/index.php/Wireless_Setup
Wireless Setup
http://www.archlinux.org/
一个linux发行版
http://www.ubuntuforums.org/
一个论坛
http://atrpms.net/
第三方的rpm发布网站

21:43 2006-9-4
总结
今天设置无线网络用从下午，到晚上九点半。但是没有设置成功。
原因：
1, 资料没有找全。其实有rpm包。
2, 编译ieee80211时的编译警告（ieee80211.mod没有找到）以为不影响，没有处理。实际上很可能是因为这个文件的缺少造成无线网络安装不正确。
注：ieee80211.mod是内核编译出的模块么？查***
设置无线网络的问题暂缓，因为驱动安装正确后，还需要设置各种参数，那部分我也不熟悉。等作业压力小了以后在做。linux声卡的问题也那个时候解决。
晚上跑步后如果有时间把log助手今天的任务完成。
明天写dsp作业，编译blackfin uclinux

0:20 2006-9-5
网址，微电子, 常用网址***
水木清华站
http://bbs.tsinghua.edu.cn/frames.php
http://bbs.tsinghua.edu.cn/bbsdoc.php?board=METech 微电子技术
http://bbs.tsinghua.edu.cn/bbsodoc.php?board=HDL_PLD HDL语言及PLD
http://bbs.tsinghua.edu.cn/bbsodoc.php?board=Embedded 嵌入式系统
复旦, 日月光华bbs
http://bbs.fudan.edu.cn/cgi-bin/bbs/bbstdoc?board=EE

0:50 2006-9-5
嵌入式，mcu
http://www.ylib.com.cn/
上海爱拜丁电子科技发展有限公司
自：edacn论坛
嵌入应用，驰兔（rabbit）首选
Rabbit 3000 Microprocessors
Rabbit3000 是专门为嵌入式控制，通信和以太网连接而设计的微处理器，具有非常低的电磁干扰，它的指令集与概念设计与 2000 相同。 Rabbit3000 （运行于 54Mhz ），对 c 语言友好，代码紧凑以及对 1MB 代码数据空间的直接软件支持。 Rabbit3000 开发工具包括对 Internet 和网络连接的广泛支持以及完全免费的 TCP/IP 代码。    Rabbit3000 工作在 3.3V( 可承受 5V 的 I/O) ，其它优点有： 6 个串口（带 IrDA ） ,56 个数字 I/O, 积分编码器，卖宽调制输出，脉冲捕获以及测量能力，带后备电池的实时钟，集成接口，超低电源模式。紧凑的指令集与高时钟速度惊人地提高了数学，逻辑和 I/O 的速度。
详情请您浏览www.ylib.com.cn
E-MAIL:YLIB_AD_NET@126.COM
联系电话：021-51292201
bamvor: 关注一下，待看。

10:29 2006-9-5
blackfin, uclinux
blackfin_uClinux 2005R3-RC2,
toolchain: 2005R3
使用网上下载的defconfig, 编译正确, skyeye仿真仍然出错
去掉DMA, i-cache, d-cache,
编译出错;
  CC      drivers/serial/bf533_serial.o
drivers/serial/bf533_serial.c: In function `rs_start':
drivers/serial/bf533_serial.c:279: warning: implicit declaration of function
`get_dma_curr_irqstat'
在linux-2.6.x下面搜索包含"bf533_serial.c"的文件, 其中一个结果是:
./linux-2.6.x/drivers/serial/bf533_serial.c:/* bf533_serial.c: Serial driver
for BlackFin DSP internal UART.
说明UART可能使用到了DMA, 重新make menuconfig, 在内核配置的:
Character devices  --->   
    Serial drivers  ---> 
        Blackfin Serial Drive
             Mode (DMA on RX and TX),  改为
             Mode (PIO on RX and TX)
编译通过, 错误相同.

查原来怀疑的所有错误原因.
加一个MEM_ADD_WIDTH. (skyeye中没有找到)

15:35 2006-9-5
linux, shell脚本
把命令执行的结果作为字符串赋值给变量.
我现在的脚本中, 
tempfilename=`ls`
for i in $tempfilename
do
    if [ -f $i ];then
        echo $i
    fi
done
是显示当前目录下的所有文件. tempfilename后面的不是单引号"'",
而是"'"(数字1左边那个). 刚才运行书上的shell范例,
一直结果不正确(直接在命令行下面可以), 后来只好看看/etc/rc.d/init.d/中的脚本,
才发现是单引号用的不对.

15:51 2006-9-5
网址, 论坛
http://172.23.18.213:90/discuz
班里同学做的论坛

#2006-9-5
UM用例驱动对象建模——一种实际方法（Use Case Driven Object Modeling with UML: a Practical Approach）上网查有没有英文版


18:06 2006-9-5
网址，MSN群
http://bbs.xiaoi.cn/forumdisplay.php?fid=37
http://bbs.xiaoi.cn/viewthread.php?tid=45300&extra=page%3D1  常见问题
上网时偶然发现的，类似于QQ群。有时间研究一下***

18:21 2006-9-5
思，调整上网内容：***
觉得现在看的东西主要都是嵌入式系统的。
应该多看看linux的。以后多去linuxfans和chinaunix。
总体信息就去水木看看就行了。

19:43 2006-9-5
linux, shell, bash, 逻辑判断
bash脚本中的逻辑判断可以在"man bash"的CONDITIONAL EXPRESSIONS部分查到.
例如: file1 -nt file2
文件1是否比文件2新.
用法
if [ file1 -nt file2 ]; then
    echo "file1 is newer than file2"
fi

21:08 2006-9-5
linux, shell脚本
shell判断是否相等用"=", 不是"=="
判断字符串是否相同时, 包括输入参数的任何字符串都要", 如果没有加, 会出错:
./logAssistant.sh: line 14: [: =: unary operator expected
另外字符串和运算符之间要空格, 否则运算结果不正确.
例如:
if [ $1="" ]; then
应该写成
if [ "$1" = "" ]; then
(20:20 2006-11-11)写shAddDateToFile时又犯了同样错误，现在对脚本的掌握还很基本。

11:05 2006-9-6
c语言, 编译错误, gcc
fileOutput.c:239: error: syntax error before ';' token
错误的语句: 
fprintf((stdout, "hello\n"):
原因: fprintf后面多了一个括号. syntax error before ';'
token只是说明";"前面有错, 到底那里有错还需要自己判断. 如果暂时没找到错误,
可以把";"所在行甚至临近行注释, 这样把出错的区域确定下来. 另外如果这部分使用了宏,
有可能是宏里面的语法错误.

11:16 2006-9-6
linux编程，c语言，shell脚本。
log助手, 完成预定功能. 
(15:21 2006-9-6)
用dsp作为关键字搜索, 正确.
log助手还需要完善的地方:(重要程度: *到*****)
1, 分段标志的识别不准确:
例如, 文章中间的日期也被认为是分段标记;
需要修改logAsistant.sh脚本中用grep提取分段标记的部分.
****(部分改进, 可以精确匹配时间和日期格式, 但是没有判断时间和日期是否合理)
2, 可以自定义分段标记
***
3, 输入文件的文件名可以直接输入(含正则表达式)
例如: ./logAsistant.sh -f *.log
***
4, 加入词汇表
分为相同和相近两种。分别用t_，j_表示相同和相近。同时考虑简体，繁体和英语
例如: 毕设=t_毕业设计, 即搜索"毕设"同时可以找到"毕业设计"
DSP=t_dsp=t_数字信号处理器件. 等等
驱动=t_驱动程序=t_驱程
网址=j_网站
MCU=t_微控制器=j_单片机
脚本=script
指令=j_命令
Sequential Cell=t_序向元件=t_时序元件
信息=t_訊號
clock=t_时钟=t_時脈（时脉）
Synthesis=t_综合=t_合成
英文缩写：例如，edn=t_电子设计技术
常见词语的中英互译：例如，China=t_china（网页名称上不分大小写）=t_中国
embeded=t_嵌入式
Acorn RISC Machine=j_Advanced RISC Machine=t_ARM;Acorn RISC Machine=t_ARM
****
5, 灵活选择命令参数
例如: ./logAsistant -f 要搜索的文件名 -k 关键字
./logAsistant SEAECH_PATH=/home/
****
6, 可以设置工作目录.
现在只能把./logAsistant.sh 和fileOutput所在目录设置成搜索目录中.
但是这样不安全. 万一别人有重名的文件, 会有意想不到的结果.
#(2006-9-7 12:56)
输出的_seg, 和.$keyword文件显得太乱了，暂时改为使用后删除。等将来可以设置工作目录时，把这些中间文件放到一个临时目录中。
*()
*****
7, 行号处理可以简化.
用cut -d ":" -f1 filename
含义是以冒号（":"）做为分隔符(delimiter)，取filename的第一列输出到屏幕
可以把filename中第一列的内容提取出来, 这样fileOutput可以更简化.
8, 现有文件中必需加入一个最后的时间, 否则最后一条有用的信息无法输出.
***
9, 思: 实现这个功能: 到底用shell好, 还是用c好, 还是混合?
#(2006-9-7 12:55)
10, 是否移植到windows下？
可以考虑通过cygwin实现。
*()
***
10, log文件的管理问题。
除了log\目录的主要log文件，还有散布在其它文件夹的log文件，如何管理？
linux下可以考虑用符号链接解决：把所有log文件都做符号链接到log\目录下。
11, 上面都是小修改:
考虑一个大的修改:
把log助手功能扩充, 加入插入信息的功能(同时加入插入时间). 支持在结果中再进行搜索.现有log助手, 作为搜索模块. 
12, windows下搜索中文. 如果cygwin下的grep使用-f时,从文件读取的中文可以正确搜索. 在后台用脚本, 把windos命令行下面的输入的中文, 保存在文件中, 再使用cygwin的grep进行搜索.
(10-27)
log日志助手使用的grep等linux命令，能够通过mingw使用？
既然cygwin不支持中文，能不能用输入重定向的方法，把含有中文文字的文件做为logAssistant.sh的输入参数。
(2006-11-10)
算法：
#1, check the envrionment.
#2, output menu, which consist of add, search, exit, etc.
#3, entry the specific function according to the user's selection. when exit, go back to step 2.
#
#search function: 
#if cygwin, write the keyword to a file. Use this file as keyword file of grep searching.
#the old logAssistant.sh. convert it to a bash function.
#
#add function:
#reference the "shAddDateToFile" bash script.
#
(16:55 2006-11-10)cygwin下grep不支持UTF-8字符的搜索。暂时没有办法在windows下使用log助手
*****
13, linux自动插入时间. 可以先使用vi编辑, 编辑完成后由脚本把条目插入到合适的日志文件中。（完成2006-11-10）
*****
14, 使用缓冲, 提高文件读写效率. 现有脚本的速度有些慢, 应该是没有使用缓冲的原因. 
****
15, 支持更丰富的搜索模式: 忽略大小写的搜索, 全字匹配的搜索
****
16, log助手改进的总原则是: 模块划分更清晰, 充分利用Linux现有函数. 
*****

15:32 2006-9-6
我研究生毕设思路***
基于FPGA的linux开发平台.
FPGA用于产品的情况越来越多, 上面可能会运行操作系统. 出现问题后, 先要确定是软件还是硬件问题. 而且硬件本身的不稳定, 也会增加软件的出错可能.

怎么办?
本设计基于skyeye仿真平台. 用一个统一的接口把skyeye与硬件描述语言相连. 只要有CPU和硬件的代码, 不管是verilog还是systemC, 都可以通过一个同一的接口与验证平台相联.这个平台可以运行常见操作系统,同时支持常用硬件. 这样就可以在硬件平台没有完成, 或者系统出错需要定位错误时都会提高效率.

现有平台的问题: 都是针对特定CPU, 没有通用性. 多数不是免费的, 影响应用.
基本都是指令级仿真器. 而且都是用c 语言而不是硬件描述语言编写的.
需要专门有人维护. 

15:44 2006-9-6
linux, 中文输入
按住Ctrl+Shift的同时再按空格键, 可以选择输入法的语言.

16:47 2006-9-6
linux编程，c语言，shell脚本。
log助手ver0.1完成. 前后用了四天, 熟悉了gdb调试, shell中的grep, head,
tail等命令
说明见logAssistant.sh.

19:19 2006-9-6
linux编程，c语言，shell脚本。
log助手
#2006-9-6修改, ver0.11
#由于每次查的关键字不一定相同, 只是判断$file和${file}_keyword新旧没有意义.
改为>判断$file和${file}.$keyword的新旧, 不用_$keyword,
是为了避免关键字是seg时, 与${file}_seg重名.

19:38 2006-9-6
网址，嵌入式
http://www.visionmc.com/bindex.htm
上海创景计算机系统有限公司为实时嵌入式系统与软件开发提供完整解决方案，包括从实时系
统软件分析、设计到嵌入式软件代码生成及软件测试。同时凭借创景公司多年的实时系统开发
经验，提供各种技术培训与咨询服务。
bamvor: 有实时系统的UML工具，ERC32 CPU等等

20:34 2006-9-6
blackfin, uclinux, skyeye
现在怀疑的blackfin_uClinux不能在skyeye上面运行的原因
1, start addr is set to 0x00001000 by exec file.
之后, linux执行了什么语句, 然后用skyeye跟踪调试.(暂时不会调试)
2, 对比tsim上的uclinux
3, 修改时钟频率, 需要知道skyeye中什么地方设置的blackfin时钟频率.
4, 加一个MEM_ADD_WIDTH. (skyeye中没有找到)

20:44 2006-9-6
linux, framebuffer驱动
Uclinux-Write-Framebuffer-Driver.pdf阅读笔记
如何添加framebuffer驱动
首先在config.in 文件中添加一行代表用户自己驱动的选项。具体做法请参考config.in 的帮助文档。在make menuconfig 的时候首先进入Character devices,选中里面的Virtual terminal 和Support for console on virtual terminal. 退到上一层界面我们就可以看到Console device 的选项，进入后将光标落在Framebuffer Support 上，按回车键进入，在里面选择自己所需要的framebuffer设备即可。自己所添加的设备驱动的类型（如果在uclinux 下，应该以*选中，而不是M 选中），在编译的时候就会产生相应的o 文件。在Advanced low level 中可以配置bpp packed pixel support,然后选中Select compiled-in fonts 即可。

10:14 2006-9-7
网址，办公软件，openoffice
http://zh.openoffice.org/index_gb.html
简体中文版主页。openoffice现在有包括简繁中文在内的多种语言版本。有Windows | Linux | Solaris | Mac OS X (X11) | Linux PPC | FreeBSD多个版本

13:41 2006-9-7
linux, rpm
如果不是管理员, 执行rpm包会有下面的错误
[bamv2006@localhost ~]$ rpm -ivh kernel-module-ntfs-2.6.9-11.EL-2.1.20-0.rr.6.0.i686.rpm
error: can't create transaction lock

15:57 2006-9-7
linux, mount
挂载虚拟光盘.
mount -o loop 光盘文件的路径及文件名 挂载点
这是一个常用命令, 主要用于挂载映象文件(?有时间再仔细看一个man文档). 例如, 有一张虚拟光盘在/media/usbdisk/embeded_from_emule.iso, 要挂载到
/mnt/virtualCdrom/目录. 
#mount -t iso9660
/media/usbdisk/embeded_from_emule.iso /mnt/virtualCdrom/
mount: /media/usbdisk/embeded_from_emule.iso is not a block device (maybe try
`-o loop'?)
#mount -o loop /media/usbdisk/embeded_from_emule.iso /mnt/virtualCdrom/
#mount
... 
/media/usbdisk/embeded_from_emule.iso on /mnt/virtualCdrom type iso9660
(rw,loop=/dev/loop0)
#ls /mnt/virtualCdrom/
adt1000                                      flashupdate  嵌入式系统教学讲稿
ARM9嵌入式技术及嵌入式Linux高级实验教程.pdf  linux        汇编老师资料.rar
datasheet                                    modules      电路原理图
document                                     readme.txt
examples                                     tools

16:17 2006-9-7
linux技巧, 后台运行, &
acrcread, mozilla这些需要单独开窗口的软件, 在命令行启动时可以在命令的最后加入"&", 这样软件可以正常使用. 
例如:
#acroread Uclinux-Write-Framebuffer-Driver.pdf &
#mozilla &
#jobs
[1]-  Running                 acroread Uclinux-Write-Framebuffer-Driver.pdf &
[2]+  Running                 mozilla &
#ps
  PID TTY          TIME CMD
 4592 pts/1    00:00:00 bash
 4611 pts/1    00:00:01 acroread
 4631 pts/1    00:00:01 mozilla-bin
 4644 pts/1    00:00:00 ps

结束程序时直接关闭程序的窗口即可. 
 
21:08 2006-9-7
总结snapgear linux(leon2 on uClinux 2.0)
还差文件系统。重点放在ram disk上

22:22 2006-9-7
嵌入式，arm，资料
自：电子工程专辑论坛，bingo＿2046
http://forum.eetchina.com/thread.jspa?threadID=1200011686
资料挺多．可以上传不了．您需要什么能具体一点．我直接邮件给您. 大家也可以到：www.st.com/mcu上看看．ST ARM资料相当多．

22:29 2006-9-7
网址，待看
www.eetimes.com
乃燃常看的网站，待看***

22:39 2006-9-7
有时间关注一下柏拉图计划。见soc学生讲解的结尾。***
到底和IC设计，codesign什么关系？
和系统移植什么关系？
本科毕设？

11:05 2006-9-8
snapgear linux, leon2 on uClinux 2.0, 编译Linux, 清除原有数据;
bamor(2006-11-28): 删除中间文件的能力: make clean < make mrproper < make disclean //bamvor结束
打算重新做一下ramdisk的实验, 但是make subdirs时出错:
make ARCH=sparcnommu CROSS_COMPILE=sparc-linux- -C linux-2.0.x
KBUILD_VERBOSE=1  || exit 1
make[1]: Entering directory `/usr/src/src2/snapgear-p17/linux-2.0.x'
sparc-linux-gcc -g -D__KERNEL__
-I/usr/src/src2/snapgear-p17/linux-2.0.x/include -Wall -Wstrict-prototypes -O2
-fomit-frame-pointer -fno-strength-reduce -g -fno-builtin -msoft-float -pipe
-DNO_MM -DNO_FPU -DMAGIC_ROM_PTR -DNO_FORGET -D__linux_2_0_x
-DUTS_SYSNAME='"uClinux"'  -S arch/sparcnommu/kernel/asm-offsets.c -o
arch/sparcnommu/kernel/asm-offsets.s
  CHK     include/asm-sparcnommu/asm_offsets.h
make[1]: ***
没有规则可以创建“/usr/src/snapgear-p17/linux-2.0.x/include/linux/kernel.h”需要的目标“/usr/src/snapgear-p17/linux-2.0.x/include/linux/linkage.h”。
停止。
make[1]: Leaving directory `/usr/src/src2/snapgear-p17/linux-2.0.x'
make: *** [linux] 错误 1
观察上面的目录发现: 是linux目录的问题: /usr/src/src2/snapgear-p17/和/usr/src/snapgear-p17/, 一个是新的, 一个是旧的. 也就是说Makefile有些路径没有在重新make时更新. 最简单的办法是把snapgear linux重新解压缩.
但是想具体分析一下Makefile. 所以先查一下到底是哪里的问题.
(15:47 2006-9-8)
从" Entering directory `/usr/src/src2/snapgear-p17/linux-2.0.x' ", 可以看出,
上面的错误是在linux-2.0.x目录下发生的. 查找这个目录下的Makefile的all规则.部分内容如下: 
all:    do-it-all

#
# Make "config" the default target if there is no configuration file or
# "depend" the target if there is no top-level dependency information.
#
ifeq (.config,$(wildcard .config))
include .config
ifeq (.depend,$(wildcard .depend))
include .depend

ifdef CONFIG_UCLINUX
LINUX = linux
else
LINUX = vmlinux
endif

do-it-all:      Version $(LINUX)
else
CONFIGURATION = depend
do-it-all:      depend
endif
else
CONFIGURATION = config
do-it-all:      config
endif
ifeq (.config,$(wildcard .config))中的wildcard是什么意思?查***
可以看出, 会如果文件存在, 会加入.config, .depend文件文件. 分别查看这两个文件,
可以看出.config文件是make config生成的内核配置文件. .depend中是init/main.o,
init/version.o的依赖关系.
其中就有"/usr/src/snapgear-p17/linux-2.0.x/include/linux/kernel.h".
说明上面的错误是由于错误的依赖关系造成的. 可以直接删除这个文件
或者在linux顶层目录(/usr/src/src2/snapgear-p17)执行, make mrproper(清除的彻底程度: distclean > mrproper > clean, ), 然后重新make dep.(因为顶层Makefile的subdirs规则(all规则的第一个规则): 
subdirs: linux
        for dir in $(DIRS) ; do [ ! -d $$dir ] || $(MAKEARCH_KERNEL) -C $$dir
|| exit 1 ; done
需要先执行linux规则. linux规则:
.PHONY: linux
linux linux%_only:
        @if [ $(LINUXDIR) != linux-2.6.11 -a ! -f $(LINUXDIR)/.depend ] ; then
\                echo "ERROR: you need to do a 'make dep' first" ; \
                exit 1 ; \
        fi
        $(MAKEARCH_KERNEL) -C $(LINUXDIR) $(LINUXTARGET) || exit 1
        if [ -f $(LINUXDIR)/vmlinux ]; then \
                ln -f $(LINUXDIR)/vmlinux $(LINUXDIR)/linux ; \
        fi
if [ $(LINUXDIR) != linux-2.6.11 -a ! -f $(LINUXDIR)/.depend ], 表示:
如果[ linux目录不是linux-2.6.11(目录是版本号) 而且(-a=and)
linux目录下面没有".depend"这个文件. 执行下面的语句.
因为只有linux2.6.x不需要make dep, 所以只要不是linux2.6.x都需要先make dep.
执行"make mrproper"后, 需要重新make menuconfig

15:17 2006-9-8
leon2, uClinux, 启动代码
启动代码位于:
/linux-2.0.x/arch/sparcnommu/platform/LEON-2.x
start.c会引导linux. entry.S也在这个目录. 但是start.c中main函数的最后, "start_kernel();"被注释了. 查uCinux到底是怎么启动的.***
leon2中boot.S和head.S合并为crt0_rom.S, 位于上面目录的TSIM目录下.
start_kernel函数位于linux-2.0.x/init/main.c中.
(18:41 2006-11-15)
怀疑是由mkpom实现的，查***。

15:31 2006-9-8
leon2, uClinux
linux-2.0.x/arch/sparcnommu/Boards.mk是对开发板(BOARD)和平台(PLATFROM)的定义,
可以看出, 这里leon2(无mmu)和leon3(无mmu)的处理方法相同. 都是指向的LEON-2.x 平台

15:24 2006-9-9
我的个人发展方向，我的毕业设计，网络音视频播放器
候哥(holy)，罗师兄(luo)，我(bamvor)
1,做的内容：bamvor: linux底层开发。luo: 做完通用流程后，可以考虑做某一个领域的底层支持，例如网络，显示...; luo: 此外，上层推荐我做网络播放器，把现成的开源项目移植过来。
2, 用哪个开发板：holy: leon2的板子，bamvor: 倾向于leon2（优点：比较熟悉，已经做过的内容：uClinux移植，uClinux应用程序的移植，luo验证了硬件，没有跑过软件；缺点：VHDL不熟悉，不过可以和verilog一起仿真（不会，holy和luo说可以，编译成库，然后就可以一起仿真了））。
注：or1k的linux也是在仿真器上成功，朱师兄跑过简单的串口通信程序。
近期考虑：1, 在fpga上把应用程序和uclinux跑通。然后做显示部分的驱动和minigui的移植。之后做网络和音频的内容，其中网络，音频的驱动，音频AD都可以作为本科生毕设。
(10:29 2006-11-2)
or1k还有一个优点是基于MIPS指令集合，招聘一般要求熟悉ARM或MIPS体系结构。
如果用microblaze或powerPC，好处是有Xilinx的ESL工具支持。
(16:27 2006-11-13)
参考“数字音频播放器(Digital audio player )”，就是MP3之类的东西。
现有的考虑，网路，音频。“可以在家中自由享受的播放器”，mp3功能+无线通信（最低，nRF401等无线芯片；如果可能支持蓝牙或wi-fi，参考已有的蓝牙资料）

16:00 2006-9-9
我的毕业设计，基于fpga的leon2/leon3的uClinux/Linux的系统开发，待修改(9-14修改)
网络音视频播放器
具体问题: 
1, uClinux是否支持vga/lcd的显示, 驱动程序和2.6相差多少, 能否移植minigui. 如果不合适, 考虑用linux2.6, 做的同时可以同时做s3c2410linux的实验. 进行显示, minigui和linux的对比. 
2, gaisler提供哪些ip核, 是否有驱动. 
3, 大致的计划: 
第零步: 9月份总结snapgear, msp430光栅项目, C8051 PTT电话项目. 一周完成一个. 
第一步: 充分利用uClinux2.0做尽量多的实验, 最终可以利用uClinux2.0和fpga开发实际项目. 基于uClinux2.0, 如果linx2.6很容易可以成功(2-3天), 可以使用linux2.6. 时间: 本学期.
1.0 在fpga上运行调试无OS的应用程序
1.1 把linux下载到fpga开发板上, 运行现有的内容(roomfs, helloworld, ramdisk, jpeg)
1.2 使linux支持太阳人那个液晶(先是直接编程控制, 然后写成驱动, 由linux控制)
1.3 网路驱动程序，应用程序可以使用网络.
第二步: 在linux2.6/uClinux2.6上实现由于uClinux2.0版本限制没有实现的功能.
定位于可以实现丰富的功能, 包括音频, 视频等. 
如果有必要和可能基于linux2.6, 如果前一步基于uClinux2.0, 这一步要先用linux2.6实现上面的功能. 
2.0 使用NFS文件系统进行调试
2.1 使linux支持s3c2410那个液晶屏(触摸屏), 实现驱动程序;
2.2 移植minigui到linux
2.3 开发一个图形界面的小项目(参考unix/linux编程实践教程那本书), 实际使用minigui, 检验成果. 移植一个开源的项目也可以. 
2.4 jffs2文件系统.
2.5 网络和音频的支持. 
2.6 视频的支持
(22:51 2006-11-22)
自：[转帖]初学嵌入式系统
以下几个方面的人特别难找，一是能将Linux移植到某个新型号的开发版上；二是能写Linux驱动程序的人；三是熟悉Linux内核裁减和优化的人。
(20:15 2006-11-23)
坚持软核CPU和ARM并举。

20:56 2006-9-9
leon2, uClinux
leon2怎样在板上运行, 查leon2/邮件列表

21:47 2006-9-9
leon2, uClinux, ramdisk
找原来看的那篇文章.关于如何做ramdisk的.

10:40 2006-9-10
linux, 顶层Makefile,
1, modules:
modules_install:
前者是生成模块, 后者是把模块加入到内核. 
2, 可以参考《uClinux文章》中的<uClinux中Makefile整体分析>

10:53 2006-9-10
linux, 编译内核,
编译linux时的内核选项的含义可以参考:
1, Linux for Windows Addicts A 12-Step Program for Habitual Windows Users.pdf(windows用户转向linux的12个步骤)的第六章第三节"编译内核的内容", 对2.4内核的选项逐项说明.
2, <鸟哥的私房菜> 对应部分.

14:27 2006-9-10
常用网站，嵌入式
http://www.ednchina.com/blog/10046/category.aspx
ednchina，嵌入式系统博客，看***

14:38 2006-9-10
网址，嵌入式，arm
http://www.ednchina.com/blog/metop/778/message.aspx
几个不错的Windows下的ARM ToolChain

14:52 2006-9-10
经验，嵌入式，时序
自：
http://forum.eetchina.com/FORUM_POST_1200014881_0.HTM
其实，不用EEPROM的时候，用跳线方式是一样的，你可以把RTL8019的MAC地址写入它的相应寄存器即可。像你说的，写进去后，读出来是随机的，很可能是你的主控芯片与8019的时序配合出问题了，你要首先检查一下读写时序是否正确，也就是说你可以对8019的可读写的寄存器进行测试。只有对这些寄存器能正确读写，那么你下面的程序调试才有意义。
bamvor: 由此想起调试c8051时的经历，两次遇到时序问题
1, GM8166 I/O口扩展时开始使用定时器自己做时序，测试通过，但是后来由于偶然情况下会出现时序问题无法解决，后来使用的时SPI总线，就没有时序问题了。
2, FSK接收（来电显示），先后两次调试时都是定时器时间不正确，造成接收的信息不正确。
3, 液晶LCM101没调通，估计也是时序问题。
体会***：
1, 设计时序的问题，测试首先要从时序开始测试。否则后面可能会出难以理解的情况。
2, 对时序敏感的器件，如果能用现有总线，最好不要自己做时序；如果没有现有总线，优先考虑用汇编编写，再用c语言调用。
   怎么算是时序敏感：1), 模块的工作频率和系统的时钟或CPU时钟可比（小于10倍）
                     2), 模块有固定工作频率，不是一个工作频率的范围。一般没有时钟线的模块时钟频率是固定的。

16:20 2006-9-10
思，嵌入式，linux
基于fpga的leon2/leon3的uClinux/Linux的系统开发（网络音视频播放器）
现有linux on fpga的进展和要解决问题，括号内是具体内容，用途或意义。重要程度：+表
示非常需要，没有表示一般需要，-表示暂时不需要
		现有的				要解决的
基础：fpga上	无(过去tigerX做过，		fpga运行测试程序，能够用c控制必
无OS的程序	现在没有人会) 			要的硬件(CPU, UART, 液晶...)++
		gbd调试PC机普通			gbd远程调试普通
		应用程序(无OS)			应用程序(无OS)++
bootloader	无				移植已经支持目标体系结构的
						bootloader+
内核层次：
 编译内核	使用厂商的开发包		正确配置从网上直接下载的内核
 移植内核	无				linux已支持CPU的SOC芯片级移植-
 编译工具链	无				配置编译网上下载的工具链源码
 下载linux	在4510上下载板子提		在fpga板子上下载自己编译好的
		供的编译好的内核		内核++

应用层次：
 ram/rom读写	无				sram读写+
						flash读写(与非，或非)
						sdram读写
 调试						gdb本地调试uClinux应用程序++
						gdb本地调试uClinux内核
						gdb远程调试(利用NFS)++
 文件系统	romfs(基本文件系统)		jffs/jffs2+(flash读写)
		ramfs(临时保存数据)		NFS++(网络调试)
 驱动		无				简单字符设备+++(键盘, led)
						显示(lcd+++, vga)
						网络++(NFS, 应用程序常用)
 应用程序	移植简单应用程序		移植大规模应用程序(支持多任务)
 和中间件	(helloworld,jpeg)		(eg. 播放器)
						移植中间件++(minigui)
		开发(无)			开发+(网络基本操作,
						简单图形界面+(例如基于minigui))

硬件：
		只有16位单片机系		进行32位系统的硬件设计
		统的硬件设计经验		(存储器，各种接口，音频，显示
						视频等等)
LEON:
						如何引导+++，分析启动代码++
						中断的控制(开，关等等)+++

18:17 2006-9-10
网址，常用网址
http://www.eetchina.com/STATIC/SITE/ULTIMATEPRODUCTS.HTM
新品撷英：季度十大热门新品评析！ 
bamvor: 定期看这里的热门新品就可以了，把看硬件的时间减少到最小

18:20 2006-9-10
关注一下Eclipse嵌入式开发工具**

18:22 2006-9-10
常用网址，嵌入式
http://forum.eetchina.com/FORUM_LIST_10011_0.HTM
电子工程专辑，嵌入式系统专区***

18:27 2006-9-10
网址，嵌入式，待看
http://www.eetchina.com/STATIC/SITE/DOWNLOADCENTER.HTM
电子工程专辑，设计资料下载中心

19:49 2006-9-10
MCU，msp430
光栅项目中编译错误的原因会不会是flash不够用，先前认为够用是没考虑字库的大小。
下下周整理时看看情况，如果是flash大小，就删去一些功能。完成光栅基本功能就可以。同时和老郑打个招呼。下次郭跃再做时用一个比较大的起码64k以上，这样留有余地比较好。而且可以考虑跑操作系统做为扩展。另外建议郭跃第一个板子做成开发版，这样便于以后再做项目。

19:59 2006-9-10
leon2, fpga, 
下次跑leon2的应用程序时可以参考：
1, leon光盘/Leon_Software_Tools/CCS/BCC/bcc.html
从Simple examples开始，有一个简单的编译下载调试的实例。
另外leon2的编译器直接支持uIP TCP/IP stack，有它预编译的库见同一个文件。
2, leon光盘/Leon_Software_Tools/CCS/BCC/BCC_examples
3, leon光盘/Product_Documentation\Bitfiles\
leon2-1.0.28-xst\boards\gr-xc3s1500\
是一个已经配置好的可以直接下载的SOC设计。详见Readme.txt
3, leon光盘/Product_Documentation\GR-XC3S1500\GR-XC3S-1500_user_manual_rev1-0.pdf的3.4节是一个配置下载调试的实例。

21:38 2006-9-10
网址，嵌入式
http://www.ebdev.com/
http://www.ebdev.com/uclinux/linux0.htm linux相关资料，待看
http://www.beyondlogic.org/ 在这里找到了关于uClinux文件系统很有用的资料。详细看一下。待看***

21:45 2006-9-10
网址，嵌入式，文件系统，jffs2
http://www.ebdev.com/jupiter/HOW%20TO%20use%20MTD-JFFs.htm
HOW TO USE MTD/JFFS2 UNDER uClinux, 已保存
http://www.ebdev.com/english/jupiter_eng/doc/jffs.txt
jffs2文件系统的实际使用过程，已保存

23:18 2006-9-10
嵌入式, uClinux, 文件系统
snapgear-p17/linux-2.0.x/Documentation/filesystems/romfs.txt
这个文档还没有看过. 待看

16:23 2006-9-11
linux编程，c语言，shell脚本。
log助手
首先用
ls -R /media/Documents/bamvor张健的文档/micro微电子与计算机/Embeded嵌入式系统
> logDir.txt
生成所有资料文件目录的文本文件.
同时要搜索/home/bamv2006/UnixProgramming/*.c和*.sh文件
再用logAssistant.sh进行搜索. 对于非log文件，输出文件中保存搜索到信息的文件名，不具体列出内容。
(19:42 2006-9-11)
参考linux源代码/tools/romfs-inst.sh,
1, 脚本中如何加入多个参数, 文件中
while getopts 've:o:A:p:a:l:s:' opt "$@"
以及后面的case-esac语句就是对-v, -o, -e, -p, -e, -a, -A, -l, -s等参数的处理. 
2, case $# in
$#好像是表示参数的个数
3, "`basename $dst`"
basename是去掉字符串中的目录部分. bamvor: dirname命令是返回字符串中的目录部分.
"`"是执行指令
"""(双引号)是不执行里面的指令.
上面这样使用, 即能够获得$dst的basename, 也避免basename的结果可以执行时的意外执行.

20:05 2006-9-11
leon2, uClinux
启动文件是rcS不是init.d/rcS的原因可能是因为init.d/rcS的优先级高于rc, 所以存在/init.d/rcS时就执行了init.d/rcS.
blackfin uClinux-dist2005R3-RC2中,linux-dist2005R3-RC2/vendors/Samsung/4510B/Makefile, 就没有复制init.d/rcS的语句

20:53 2006-9-11
linux, x-windows
当x-windows出现问题时, 可以用Ctrl+Alt+Fx切换到其它终端, 用下面的命令找到x-windows的进程号, 然后杀死x-windows
[root@localhost log]# ps -e | grep X
22642 ?        00:00:07 X
22728 ?        00:00:00 Xsession
[root@localhost log]# kill 22642

ps -e表示显示所有进程, grep X表示搜索输入流中含有"X"的行, 并显示. 

15:58 2006-9-12
windows, spool, spoolsv.exe
spoolsv.exe占用99%系统资源时，可能是打印机遇到未打印完成的文件，反复尝试打印，所以消耗了过多的系统资源。可以删除%systemroot/system32/spool/PRINTERS文件夹。

00:51 2006-9-13
嵌入式，基于fpga的leon2/leon3的uClinux/Linux的系统开发（网络音视频播放器）
这个项目一个人做肯定不行，考虑下面几个人员的来源：
1, 实验室研二和研一保研同学，李洋洋leon2代码比较熟悉，如果愿意进行fpga的系统设计挺好的。
2, 研一新生。一起完成驱动程序编写，文件系统等工作。
3, 微电子大三学生（先问一下候哥是否同意）。大三做这些对于他们找实习和工作都很有好处。
2,3的起步都可以是把msp430的液晶代码移植到leon2上（无操作系统）。主要是需要c语言扎实。同时让他们学习我现有的linux文档。
研一还可以学习HDL仿真(向李洋洋学LEON仿真)。和我一起做网络实验和网络驱动的编写。如果找大三同学，是不是可以直接贴广告，筛选可以严格一些，着重考查c语言基本功（例如基础知识：enum，typedef，预编译指令，指针；基本编代码的能力：例如，写一个复制数组的函数，查我程序中的错误）和英语的快速阅读(给三篇文档，各出一道找出文档大意的题，例如太阳人那个液晶如何初始化？）)。
4, 本科毕业设计，基于fpga的图形开发界面的建立（minigui和液晶驱动基于linux2.6）

01:02 2006-9-13
(19:27 2006-9-13修改)
研二，近期计划：
leon2 uClinux, msp430光栅项目（整理代码，形成文档，写出经验），c8051 PTT电话项目（系统架构，项目经验）
vlsi, asic作业
明年3月上海会议的摘要（英语, 10.1之前）
安排：
下周，会议论文搜集资料，看往届论文，写摘要，vlsi, asic
下下周，msp430光栅项目;
十一：c8051 PTT电话项目

整理msp430，c8051的内容分为：c语言基本功，程序设计方法。（已加入文档）
c语言基本功：
指针的使用：指针的含义，使用指针要注意不要指向无意义的地址。使用指针写一个字符串数组复制的代码，c8051, copyIntArray等。
编写函数：函数和宏，编译宏时编译器不进行检查。如果有编译器支持内联函数就不要使用宏。嵌入式系统中，如果ram空间有限，函数调用层次不应该太多，如果函数很简单直接用宏或内联函数实现。函数应该是内聚大，耦合小的代码集合。
自定义类型的使用(typedef 结构体，枚举类型)。可以用枚举类型做为系统的状态变量，这样状态处理就与具体数值没有关系。而且与预定义相比还起到了封装的作用。
其它经验：
底层函数要经过认真的测试。如果是底层函数造成的错误，查找起来很费时间。如果有厂商提供的函数库中有这个函数，尽量用库里的函数，避免自己编写函数出错。做c8051时，字符串处理都是自己编写的，其中一个字符串函数的错误，造成了一个系统死机的错误。
实际使用硬件调试时，如果结果不正确，可以考虑是不是干扰的原因。先验证硬件是否正确，硬件不稳定也会造成软件错误。

17:03 2006-9-13
实验室发展方向
和乃燃一起和研一新生聊聊。以前学过什么课，实验室情况，自己的兴趣。大致进行了划分。
打算有时间分数字前端，数字后端，模拟，系统集成四块给新生介绍，然后让他们有一些了解，做些简单的东西。
系统集成这边是三个内容：msp430液晶汉字显示，建立leon2 uClinux系统（编译），向uClinux移植应用程序，（还有一块是驱动程序，我现在还不会）

20:00 2006-9-13
leon2, uClinux
现在编译的uClinux的image包居然有8M，linux12M，太大了：（

20:42 2006-9-13
linux, 电源管理
去"/usr/src/kernels/2.6.9-11.EL-i686/"目录, 用make xconfig配置现有的redhat linux系统, 发现电池管理已经打开, 帮助文档说"/proc/acpi/battery/"是电池状态. 退出make xconfig后, 进入"/proc/acpi/battery/BAT0", 有alarm, state, info三个文件. 其中state文件中主要是电池状态, 例如还剩余的电量(mW/h). info是电池信息, 例如编号. alarm文件不知道. 这个功能现在是编译成模块了, 不知道是否还有其它功能, 例如电量不足的提醒. 如果没有, 以后可以自己写一个程序, 实时在屏幕上显示剩余电量, 并根据现有用电情况, 估计还能使用的时间. 
(00:08 2006-9-13)
写了一个显示电池电量的脚本: batteryState.sh 直接执行就可以. 默认1秒刷新一次.
觉得功能太简单了, 打算写一个c程序功能: 充电时显示已经充多少电, 充电百分比.
放电时显示剩余电量(百分比), 预计的剩余时间. 困了, 以后有空再写.//
另外, ntfs功能内核的确有, 看起来和我现在装的是一个软件, 所以也不用再编译内核了.
看来, 会编译内核, 还是很有用的.

00:29 2006-9-14
linux, shell脚本, 判断
逻辑运算符与两边要比较的内容要空一格. 如果把
if [ "$1" = ""  ]; then
写成
if [ "$1"=""  ]; then
[...]的结果永远是真.
这个问题我用了20分钟才解决:(

11:07 2006-9-14
leon2, uClinux, 文档
还需要做的，
1，2.1在PC机的linux下编译运行应用程序
2，复制所有修改的文件到Leon2 on uClinux内的相关目录

14:44 2006-9-14
linux, shell脚本(scripts)
shift: (待翻译)
       shift [n]
              The positional parameters from n+1 ... are renamed to  $1  ....
              Parameters  represented  by  the  numbers $# down to $#-n+1 are
              unset.  n must be a non-negative number less than or  equal  to
              $#.   If n is 0, no parameters are changed.  If n is not given,
              it is assumed to be 1.  If n is greater than $#, the positional
              parameters  are not changed.  The return status is greater than
              zero if n is greater than $# or less than zero; otherwise 0.
输入参数向左移动n个.
expr:
expr表示计算后面表达式的值. 操作数,操作符之间要有空格

16:18 2006-9-14
linux, shell脚本
一直在写脚本, 结果不符合需要, 后来直接写了一个配置文件(addToPath), 然后source就可以.
但是学会了"getopts"这个命令, 可以处理"-a abc"和"-c"这种参数. 详见/home/bamv2006/UnixProgramming/examples.sh

22:35 2006-9-14
实验室发展方向
实验室已经经过了几年的发展，现在应该认真考虑一下实验室应该怎么发展。过去几年实验室做了很多工作，但是实际内容少，积累下来的内容少。
我理解的实验室现状：
1，最强的是数字IC设计中从综合开始，包括后端全程的内容。目前实验室侯哥，王伟（后端），冯哲（后端）。
2，数字前端设计，仅次于前者。乃燃
(14:28 2006-9-15)
和乃燃聊了一下实验室的发展方向。
乃燃同意我的想法，觉得有必要做一个平台，大家围绕一个东西(linux on fpga)来做。但是同时也认为VHDL是个问题。我觉得可以先用LEON2把linux在fpga跑起来。然后如果可以把verilog放到VHDL中一起做仿真，这样是最快的办法。如果不行，就只有根据leon2的经验把tigerX的linux在fpga上跑通，这样难度比较大，时间难以估计。
项目具体想法见9-9: 基于fpga的leon2/leon3的uClinux/Linux的系统开发

20:56 2006-9-15
Linux的源代码可以从www.kernel.org得到，或者你可以查看linux代码交叉引用网站：http://lxr.linux.no/ 进行在线的代码查看，这是一个很好的工具网站

21:28 2006-9-15
网址，linux，arm
这组文章对于arm linux的各个方面都有介绍，可能不太适合初学。
http://dev.yesky.com/6/2527006.shtml
ARM的嵌入式Linux移植体验之基本概念
http://dev.yesky.com/321/2547321.shtml
嵌入式linux启动信息注释之bootloader 
http://dev.yesky.com/131/2531131.shtml
ARM的嵌入式Linux移植体验之应用实例
http://dev.yesky.com/53/2529553.shtml
ARM的嵌入式Linux移植体验之设备驱动
http://dev.yesky.com/153/2527653.shtml
ARM的嵌入式Linux移植体验之操作系统
http://dev.yesky.com/276/2527276.shtml
ARM的嵌入式Linux移植体验之BootLoader 
http://dev.yesky.com/355/2547355.shtml
linux内核初始化及启动之start_kernel
http://dev.yesky.com/364/2547364.shtml
linux内核初始化及启动之用户模式开始

21:30 2006-9-15
嵌入式，太阳能
用MSP430实现太阳能交通信号控制机=+
bamvor: 联实验室led项目

22:31 2006-9-15
网址，软件，UML
http://soft.yesky.com/lesson/281/2472281.shtml
大量UML开发教程和技巧 轻松玩建模 统一建模语言UML快速入门
天极网的教程，待看***

05:05 2006-9-16
linux, ldd
自：bluetooth(蓝牙)在S3C2410上的移植（二）
http://blog.21ic.com/more.asp?name=sockit&id=11406
先看一下各个程序需要用到什么库，比如:
#ldd /usr/sbin/hcid
自：学习嵌入式Linux系统的笔记和体会
ldd 检查一下是不是静态程序

05:26 2006-9-16
网址，嵌入式，linux
http://www.hhcn.com/chinese/modules/index.htm
华恒科技，论坛不错

05:29 2006-9-16
网址，嵌入式，linux
http://blog.21ic.com/blog.asp?name=sockit
企企鹅日记，有很多嵌入式linux相关文章，不错***

05:40 2006-9-16
网址，嵌入式，linux
欢迎大家推荐、补充相关站点、资源~
　　相关的新闻站点
嵌入式开发网──新闻
http://www.embed.com.cn/news/newsmain.asp
国内有关嵌入式开发的论坛
嵌入者之家论坛
http://www.embeder.com/bbs/index.asp
电子产品世界的论坛
http://bbs.edw.com.cn/index.asp

国内站点
华恒公司的主页，里面有很多的相关资料，有待大家去发现
http://www.hhcn.com/chinese/embedlinux-res.html
SkyEye嵌入式硬件仿真项目
www.skyeye.org
http://gro.clinux.org/projects/skyeye/
公社的SkyEye项目专栏
http://www.linuxfans.org/nuke/module...viewforum&f=58
SkyEye Project
http://www.huihoo.org/mirrors/skyeye/index.html
Pday水清木华，一个国内看嵌入式新闻的好地方！
http://www.pday.com.cn/
中国单片机公共实验室
http://www.bol-system.com/
中国Linux论坛的嵌入式版，有很多开发板原理图的资料
http://openarm.linuxforum.net/
嵌入开发网
http://www.embed.com.cn/
驱动开发网之嵌入式版块，挺综合的一个网站
http://www.driverdevelop.com/index.php
电子爱好者家园
http://home.ee521.com/main.asp
艾比德嵌入开发网
http://www.ebdev.com/
嵌入式资讯网
http://www.embeded.cn

国外站点
Linux设备网站，由Rick Lehrbaum创建和维护，是一个嵌入式Linux入门网站，其中包含嵌入式Linux行业的每日新闻、完整系列的快速参考指南、由重要开发者撰写的大量文章，还包括一个交互论坛。
http://www.linuxdevices.com/
下载嵌入式Linux交叉编译工具链的好地方
SnapGear Embedded Linux Distribution Home Page
http://www.snapgear.org/snapgear/index.html
http://www.uclinux.org/pub/uClinux/u...f-tools/gcc-3/
嵌入式Linux联盟(ELC)，一个非盈利性的厂商中立的同业工会，其目标是在整个嵌入式、应用和设备市场中发展和推广Linux。
www.embedded-linux.org
Beyond Logic公司主页，提供了许多嵌入式Linux系统开发的资料。
http://www.beyondlogic.org
嵌入式Linux期刊(ELJ，Embedded Linux Journal)，主要关注Linux和其他开源软件在嵌入式系统中的应用。 其中有很多业界领导者为ELJ撰写文章。
embedded.linuxjournal.com
有几本写嵌入式Linux系统的书
http://www.embeddedlogic.com/ELSweb/booklinks.html
有关PowerPC体系的嵌入式
www.mvista.com
www.denx.de/e/index1.php
IXP4XX Open Source Developers Guide
http://ixp4xx-osdg.sourceforge.net/
uClinux/ARM项目
http://adam.kaist.ac.kr/~hschoe/notice.html

个人主页

一个业余爱好者代礼周的个人主页，都是实践出来的
http://www.lomx.net/index.htm
renbagshoes的个人主页，有些资料可能对你有用
http://timity2.a77.zgsj.com
老刘软件
http://www.laoliu-soft.net/


嵌入式Linux操作系统
小型化的嵌入式Linux版本
uClinux — 在没有 MMU 的系统上运行的 Linux。目前支持 Motorola 68K、MCF5206 和 MCF5207 ColdFire 微处理器。
http://www.uclinux.org/index.html

Etlinux — 设计用于在小型工业计算机，尤其是 PC/104 模块上运行的 Linux 的完全分发版
http://www.prosa.it/etlinux/index.html

Tiny Linux ── 可以运行在 386 上的 Linux 分发版。
http://tiny.seul.org/en/

ThinLinux ── 面向专用的照相机服务器、X-10 控制器、MP3 播放器和其它类似的嵌入式应用的最小化的 Linux 分发版。
www.thinlinux.org

LRP(Linux Route Project)
http://www.linuxrouter.org

Peeweelinux一个小的嵌入式Linux发行版
http://freshmeat.net/projects/peeweelinux

具有实时扩展功能的嵌入式Linux版本
RTLinux(Real Time Linux)是新墨西哥州大学计算机系的Victor Yodaiken和Michael Baranov在1996年开始开发的，现由Fsm Labs公司开发，其最新版本是RTLinux Pro1.2版(针对Linux-2.4版本内核)。RTLinux最基本的概念就是“架空”Linux内核，以便让其他的实时进程尽快地被执行。
http://www.fsmlabs.com
http://www.rtlinux.com

RTAI(Realtime Application Interface)源于RTLinux，当时由于RTLinux的架构问题，RTLinux内核从2.0版移植到2.2版发生了很大的困难，一直没有完成。在Dipartimento di Ingegneria Aerospaziale Politecnico di Milano工作的Paolo Mantegazza和他的同事们就决定自行做移植的工作，由RTLinux的困境他们认识到，必须解决将来可能面临的兼容性问题，于是RTAI诞生了。它是一个GNU项目，它在Linux内核中加入一系列可以保证硬实时的编程接口，来实现Linux的实时性。RTAI和RTLinux的区别在于它们实现方法不同。
http://www.rtai.org

EL/IX

SRT-Linux

MontaVista Linux是MontaVista公司发行的具有商业性质的嵌入式实时Linux。它直接修改Linux内核代码中的调度机制和算法，把Linux内核修改成称为Relatively Fully Preemptable Kernel的抢占式内核，以达到一定的实时性，是一种软实时的Linux。
http://www.mvista.com

TimeSys Linux是一个商业化软件，它同时提供了2种实时Linux的方法：一种与MontaVista Linux类似，把Linux的内核改为抢占式内核；另一种采用与RTAI类似的方法，在内核层提供了一套保证实时要求的API接口。
http://www.timesys.com

嵌入式GUI

Microwindows由Century Software的CEO Greg Haerr主持开发的一个公开源码(LGPL)的项目。Microwindows致力于为一些小型设备和平台提供现代图形窗口环境。 Microwindows支持许多硬件平台，移植性很强。Microwindows的主要目的之一便是运行在嵌入式Linux上，并且提供了基于 Win32/X的两套API接口。
http://www.microwindows.org
http://microwindows.org

MiniGUI由原清华大学教师魏永明先生开发，是中国人做的得较好的自由软件之一。 MiniGUI 是一种面向嵌入式系统或者实时系统的公开源码(LGPL)的图形用户界面支持系统。它主要运行于Linux控制台，实际可以运行在任何一种具有POSIX 线程支持的POSIX兼容系统上。
http://www.minigui.org
飞漫软件的MiniGUI项目
http://www.minigui.com/company/cindex.shtml

Qt/Embedded是著名的QT库开发商Trolltech正在进行的面向嵌入式系统的QT版本。Qt/Embedded对于各种硬件接口到GUI工具包提供了完整的图形栈。Qt/Embedded的API同Qt/X11和Qt/Windows的相同，但它并不是基于X11库的。Qt/Embedded是公开源码(LGPL)项目。
http://www.trolltech.com

OpenGUI基于一个用汇编实现的x86图形内核，提供了一个快速的、32位的、高层的C/C++图形接口。OpenGUI也是一个公开源码(LGPL)项目。OpenGUI提供了二维绘图原语，消息驱动的API和BMP文件格式支持。
http://www.tutok.sk/fastgl

PicoGUI是一个可以工作在包括手持式设备等各种硬件上的小型的、可移植的、基于客户/服务器结构的GUI。同X Window系统一样，它具有客户—服务器结构的灵活性，但又不同于X Window系统，它将字体、BMP文件、控件以及一些应用程序所需要的其它的一些资源直接集成在服务器。虽然减少了系统的灵活性，但在速度上有了很大的提高，并且减小了程序大小。
http://picogui.org

Tiny-X是一个为嵌入式系统而开发的紧缩型的X Window服务器。它由SuSE赞助，由XFree86的核心成员Keith Packard开发。Tiny-X的目标是可以在小内存或几乎无内存的情况下良好运行。
http://www.pps.jussieu.fr/~jch/software/kdrive.html

PIXIL提供嵌入式在高级因特网中应用程序的应用。它虽然是为商业化准备的，但它提供GPL协议下的版本，区别是没有技术支持。
http://www.pixil.org

NxZilla - Mozilla on NanoX
http://nxzilla.sourceforge.net

Simple DirectMedia Layer is a cross-platform multimedia library designed to provide low level access to audio, keyboard, mouse, joystick, 3D hardware via OpenGL, and 2D video framebuffer. It is used by MPEG playback software, emulators, and many popular games, including the award winning Linux port of "Civilization: Call To Power."
http://www.libsdl.org/index.php

GtkFB: GTK+ for the Linux Framebuffer
http://www.linuxdevices.com/articles/AT9024868021.html


嵌入式Linux与Java
Java 2 Micro Edition(J2ME官方站点)
http://www.javasoft.com/j2me/

waba为小设备提供一个编程平台。它被定义为一种语言，一个虚拟机，一个类文件格式以及功能类的设置。
http://wabasoft.com/products.shtml

Kaffe is a clean room implementation of the Java virtual machine, plus the associated class libraries needed to provide a Java runtime environment. The Kaffe virtual machine is free software, licensed under the terms of the GNU General Public License.
Kaffe is a great choice as a base for virtual machine education and/or research, or if you need a virtual machine as an integral component of an open source or free software Java distribution.
http://www.kaffe.org
Wonka(一个java虚拟机，超小)
http://www.acunia.com/wonka

选择内核
x86
http://www.kernel.org
ARM
http://www.arm.linux.org.uk/developer
PowerPC
http://penguinppc.org
MIPS
http://www.linux-mips.org
SuperH
http://linuxsh.sourceforge.net
M68K
http://www.linux-m68k.org
其他
http://www.linuxabc.net 

10:23 2006-9-16
系统集成的经验
要有系统的观点：由于缺乏经验，光栅项目和PTT终端项目的软件框架都是在写代码开始后进行了修改，再编写代码过程中才最终确定。对于这类中小项目，是不应该出现的。

23:09 2006-9-16
网站，嵌入式，工控，待看
http://www.gongkong.com/
自动化、企业信息化—中国工控网—中国工业控制及自动化领域权威咨询、资讯传媒!
www.7613.com
中国工控信息网 www.7613.com--@信息生活@享受工作@

13:56 2006-9-18
linux, 网络设置
/etc/hosts可以把ip地址设置为一个名称，便于使用。例如
172.23.19.141		edalinux5
这样使用telnet时，就可以
telnet edalinux5
不用
telnet 172.23.19.141

14:02 2006-9-18
实验室服务器使用
启动模拟后端软件(virtuso)
登录服务器后：
cds_cic
layoutPlus&

14:24 2006-9-18
实验室项目，msp430，光栅***
上次下载有问题可能是下载错了版本，后来的版本都在单独的目录下，可以用1.0版的那个代码下载一下试试。

18:20 2006-9-18
嵌入式，linux，手机
自：从Linux发展看手机商业模式未来走向
关注下列组织或网站
开源发展实验室（OSDL）、消费电子Linux论坛（CELF）、Linux电话标准论坛、以及由摩托罗拉、NEC、NTTDoCoMo、松下移动电信、三星电子、沃达丰组成的同盟

18:24 2006-9-18
嵌入式札记，linux，驱动，lcd
自：嵌入式系统中LCD驱动的实现原理——转载
帧缓冲区是出现在Linux 2.2.xx及以后版本内核当中的一种驱动程序接口，这种接口将显示设备抽象为帧缓冲区设备区。
在应用程序中，操作/dev/fb的一般步骤如下：打开/dev/fb设备文件；用ioctrl操作取得当前显示屏幕的参数，如屏幕分辨率和每个像素的比特数，根据屏幕参数可计算屏幕缓冲区的大小；将屏幕缓冲区映射到用户空间；映射后即可直接读写屏幕缓冲区，进行绘图和图片显示了。
在对S3C2410的LCD编写模块化驱动程序时，首先要从内核中去除LCD驱动。

18:53 2006-9-18
网站，嵌入式，待看
http://www.programfan.com/
编程爱好者网站
www.ccidnet.com
中国IT权威门户——赛迪网

18:56 2006-9-18
网站，常用网站***
http://forum.cellphone.eetchina.com/FORUM_LIST_10020_0.HTM
电子工程专辑，手机设计，操作系统与应用软件

9:22 2006-9-19
网站，嵌入式，待看
http://www.linuxbyte.net/
http://cnxhacker.net/

11:22 2006-9-19
嵌入式，linux，skyeye，cygwin
skyeye maillist
A step-by-step instruction for skyeye on cygwin
时间：Mon, 18 Sep 2006 23:09:04 +0800
可以在下面的网址找到：
http://lists.gro.clinux.org/pipermail/skyeye-developer/

22:13 2006-9-19
windows, word技巧
图表编号可以通过“插入－引用－题注”中
1, 加入图表编号
标签选择“图表”，下面的“编号”设置选择所需格式。即可
2, 引用图表编号
选择“插入－引用－交叉引用”，选择所要引用的图表编号即可。当图表编号变化是更新域代码即可。
更新域代码的方法：在选中域代码，右键单击，选择“更新域”。
3, 建立图表目录
选择“插入－引用－索引和目录”的图表和目录选项卡。其余设置方法与插入目录相同。
注：此方法同样适用于表格编号等。openOffice与此类似。

22:45 2006-9-19
ftp上有我传的资料，在upload目录
1, linux教程
对于大家linux入门很有帮助的内容
2, 2005级研究生课件
我研一的课件，笔记和总结

13:28 2006-9-20
网址，arm9
http://www.embedon.com/
http://www.embedon.com/down.asp
深圳远峰，实验室买的arm s3c2410学习板
s3c2410资料可以去这里看看
ARM9学习板仅提供六个月E-Mail及论坛的技术支持，不提供电话方式的技术支持。E-Mail及论坛技术支持的响应时间为一个工作日。 
id YF2410IIS-BJJDLKJ051124。问一下谢通师兄是否注册过。
只有6个月的email和论坛技术支持。所以这学期要把开发板上linux基本内容跑完。


14:25 2006-9-20
嵌入式，linux
http://joyfire.net/，再看***

11:19 2006-9-21
嵌入式，leon，maillist
http://tech.groups.yahoo.com/group/leon_sparc/
http://tech.groups.yahoo.com/group/leon_announce/
查fpga上下载linux下载的资料

18:31 2006-9-21
(23:13 2006-10-12)
近期要做的事（作废）
#完成《嵌入式linux》简单修改，写完leon2 on uCLinux和dsp作业（完成）
#写显示那个会议的摘要（这周必须写完，请师姐给看看）。
#没事儿时注册leon邮件列表（完成）
#写完asic作业，约4小时工作量（周一）。（完成）
#问校研究生部，找软件工程老师（周五下午或下周一）***
#杂，实验室，研一：与乃燃一起向吴老师说研一的安排。
下次和吴老师谈毕设时，问问吴老师对我在外面接活的看法。能不能拿到实验室做。
#准备专业英语的prezantation，周二9.26，5分钟，研究方向。（周一9.25准备）（完成）
#如果研一同学完成现有手头项目，想做数字IC，看uart的VHDL模型，仿真下载，王龙伟如果想接触数字IC，推荐他做这个。*** 
#总结msp430和c8051两个项目经验——《我了解的MCU》
#实验室：先把雏鹰那个板子画出来，如果急就先做出来。（已完成，需要我再看一下，给老罗也看一下）
#arm，s3c2410板子只有6个月的email和论坛技术支持。所以这学期要把开发板上linux基本内容跑完。
#linux/uClinux下载到fpga上。
(15:52 2006-10-16)
数字IC部分: leon2的配置, 下载和调试. 另外, 有机会可以建议孙建辉看看数字后端. 
系统集成部分: c语言在leon2的调试, 运行uClinux.
看看王宁在看什么***
可以让洋洋和王龙伟一起学习ISE和leon2的配置，下载。以及fpga板级c语音调试。这样两个人可以互补。

作业
软件工程：

	用例		*****	没有头绪，需要对leon2项目，PTT电话项目进行，日志
				系统三个项目分析。
				(2006-8-11)上网找一个音视频产品，从这个产品的功
				能出发，进行分析，硬件平台使用leon2这个平台。***
(9:50 2006-8-24)
要做的事, 去谢通师兄机器找rfid那个界面程序
(14:09 2006-9-24)
把<中国大百科全书>做成映象, 放在移动硬盘里
(14:26 2006-9-26)
下载《代码大全》的电子版(完成)

18:49 2006-9-21
嵌入式，数字IC设计（乃燃）
一种论文的结构：算法，硬件实现，实验方法
数字系统三部分：控制，数据通道，存储器。其中存储器的设计要考虑存储器本征延时和系统设计延时。
数字系统的设计：功耗，速读，面积。

19:01 2006-9-21
杂，嵌入式，国产CPU
找国产的CPU吧,不要认为国货就一定不好.我公司是国内CPU设计源厂,考虑一下,联络我吧,我在深圳.
刘先生:13077878690
E-MAIL:wintek158@126.com

19:20 2006-9-21
嵌入式，静电
二极管的ESD问题！
自：电子工程专辑论坛
http://forum.eetchina.com/FORUM_POST_1200016258_0.HTM?click_from=1000010666,8883567706,2006-09-21,EECOL,FORUM
发布时间： 2006-9-21 上午9:08
肖特基二极管主要是通过其正向电流导通，应用于整流回路之中，而无法做到ESD保护。
能够起到ESD保护的二极管是TVS（Transient Voltage Suppressor)——瞬态电压抑制二极管。通过TVS的反向导通特性，并联在电路中，正常情况下，TVS是不工作的，当ESD来到时候，瞬态导通，对地卸载能量，从而抑制电压。TVS完全符合IEC 61000-4-2，Level 4（空气放电15KV，接触放电8KV）。

15:13 2006-9-21
软件技巧，暴风影音
播放硬盘上的dvd文件：
把VIDEO_TS这个目录直接拖入暴风影音即可。和直接看dvd一样。

19:14 2006-9-22
微电子03级保研名单
侯中原	男	22	汉	团员	电子科学与技术，做过单片机
周中华	男	21	汉	党员	电子科学与技术
孔  璐	女	20	汉	团员	微电子

12:21 2006-9-22
网址，显示技术
http://cn.fpdisplay.com/Default.Shtml
中华液晶网--全球最大的液晶产业门户网站
原来吕志超也向我推荐过这个网站
12:26 2006-9-22
http://ad07.ecnu.edu.cn/
http://ad07.ecnu.edu.cn/SIDL.htm
会议网站
http://www.sid.org/
组织方网站
(16:29 2006-9-28)
中国期刊网的期刊导航可以查到Chinese Journal of Electron Devices(中国电子器件杂志)所有杂志
(16:58 2006-9-28)
abstract:
1, using object-oriented programming to write the driver
2, auto adjust the contrast according to the display content

21:18 2006-9-22
网址，嵌入式，linux，+++
http://www.linuxmine.com

22:19 2006-9-24
常用网址，嵌入式，待看***
http://www.embeded.cn/article/list_005001_1.htm
嵌入式咨询网-技术文章-业界资讯-嵌入式
http://www.embeded.cn/article/list_004001_1.htm
嵌入式咨询网-技术文章-程序杂谈-嵌入式

22:24 2006-9-25
书，编程
＜代码大全＞(CODE COMPLETE)，电子工业出版社。这本书涉及编程的各个方面，告诉你如何完成高质量的软件。***，www.netyi.net有。

00:53 2006-9-26
1，关注陈德明实验室AVR单片机项目，了解AVR单片机，音频编码。(见200610.txt, 19:49 2006-10-13，陈德明实验室的项目)
2，实验室下一步的安排：与乃燃商量。
分为两部分人，一组HDL语言，二组嵌入式linux。它们的交集fpga, 各自向各自的方向发展
但是都要在fpga上验证.
步骤：
1，首先围绕如何使用fpga进行工作。实现fpga使用c程序直接控制硬件。实现串口的通信。
一组，HDL仿真，在NC或modelsim上运行由c编译的16进制机器码。SOC的仿真。
二组，了解SOC中的硬件，逐一使用c语言调试硬件。
2，
一组，乘法器的优化？
二组，linux的启动代码。
3，驱动程序
4，MINIGUI
5，移植应用程序

14:24 2006-9-26
网站，电子书***
www.netyi.net
电子书的好网站, 用户名：bamv2006

16:22 2006-9-27
嵌入式, leon2, 调试
DSU = debug support unit
GRMON可以使用jtag, uart, ethernet,pci等接口进行调试，看看leon2配置好的bitmap中是否支持了网口，如果没有需要加入。

00:44
写给即将毕业的电子信息工程专业的女生(续), 加入原文件
 回daniel.lilu，刚刚看了你的帖子，觉得你在30岁之前能有这么丰富的经历，也算是一笔宝贵的财富了。
我认为人到30，也是应该为自己定个方向了。做项目经理是个不错的出路。
我认为项目经理必须具备以下素质：
1.善于发现人才，团结同事。懂得察颜观色，除了能很好的与老板沟通，很好的理解老板的想法之外，还需要及时了解员工的想法。
2.能统观大局，做事情有条理、有计划。每个项目的前期评估、定案工作非常重要，几乎占了整个项目进度的一半甚至更多，而项目经理的决策将直接影响到项目的运作，甚至公司的前途。在这些方面，你一定要比别人更加高瞻远瞩，为老板减轻负担。
3.技术功底扎实，熟悉产品开发流程。好学上进、对新事物的敏锐度够高，善于接受新鲜的技术。只有走在科技发展的前列，你所做的事情才更具前瞻性。所以你要不断学习新的知识。
4.有很好的经济运作理念与管理方法。
5.正义、有威信，敢于向上司为员工谋取福利。
……
其实还有更多，但是我觉得上面几条都比较重要。
我不了解你，给不了你什么建议。我觉得，在你决定好去做一件事情的时候，这件事情对你的意义有多大（不能光考虑钱的因素，还有一些人生价值因素在里面）？你必须考虑下你是否具备相关的素质？如果有欠缺，你有没有信心可以弥补？
好多事情，在外面看的时候觉得他很光鲜，走进去、了解后，才知道没有什么事情是简单的。我觉得作为一个30岁的成年男人，很多事情不能太随性，理智与责任始终在最前位。
一家之言，欢迎大家一起探讨探讨这个问题。

01:10 2006-9-28
把最近的文档和uClinux on Leon2放到服务器上.

16:06 2006-9-28
实验室，雏鹰芯片
给段丽莹和王龙伟说一下要改的内容，争取十一开学后的第一周完成。
原理图，我看过了，基本没有问题。可能是我没说清楚。根据最开始的要求，还需要改三处：
1, 段式液晶使用3.3v供电即可。开始忘了说。
2, 现在点阵液晶不使用了，所以雏鹰芯片的MUX可以固定，使AD有效即可。
3, AD和光栅从仪表前面引出，原理图上要画出对应的接插件：AD是一个输入，五个输出，一个地线，一共7个引脚，光栅：电源(5V)，两个输入，一个地线，一共四个引脚。都使用公头。
还需要加入下面的内容：
1, 25*2的2.0插孔转为2.54插孔，两组。
2, 电位器x9315，把所有引脚引出做为插孔，使用x9315.pdf p12页的封装。
其余就是版图的工作了。

19:04 2006-9-28
嵌入式, linux, 文件系统
YAFFS，Yet Another Flash File System，是一种类似于JFFS/JFFS2的专门为Flash设计的嵌入式文件系统。与JFFS相比，它减少了一些功能，因此速度更快、占用内存更少。
YAFFS和JFFS都提供了写均衡，垃圾收集等底层操作。它们的不同之处在于：
（1）、JFFS是一种日志文件系统，通过日志机制保证文件系统的稳定性。YAFFS仅仅借鉴了日志系统的思想，不提供日志机能，所以稳定性不如JAFFS，但是资源占用少。
（2）、JFFS中使用多级链表管理需要回收的脏块，并且使用系统生成伪随机变量决定要回收的块，通过这种方法能提供较好的写均衡，在YAFFS中是从头到尾对块搜索，所以在垃圾收集上JFFS的速度慢，但是能延长NAND的寿命。
（3）、JFFS支持文件压缩，适合存储容量较小的系统；YAFFS不支持压缩，更适合存储容量大的系统。
YAFFS 还带有NAND芯片驱动，并为嵌入式系统提供了直接访问文件系统的API，用户可以不使用Linux中的MTD和VFS，直接对文件进行操作。NAND Flash大多采用MTD+YAFFS的模式。MTD（ Memory Technology Devices，内存技术设备）是对Flash操作的接口，提供了一系列的标准函数，将硬件驱动设计和系统程序设计分开。

23:24 2006-9-28
实验室，王龙伟
今天和龙伟聊了一下。
他做过一些实际的小项目，用的都是51，最大的项目编译后大约4k（估计1000行以内）。
串行通信的IIC，SPI，UART都使用过，不知道原理是否清楚。
实际经验比我当时多。
但是他想接触一下数字IC。
如果他能尽快进入状态，比较好。

10:56 2006-9-29
嵌入式，公司
作为名列本土IC设计产业榜首的香港晶门科技，该公司的做法也值得学习，该公司业务总监龚达荣在接受采访时表示：“我们一直把注意变换自己的角色。有时候我们是芯片供应商，有时我们是合作伙伴，比如我们就和面板供应商Kopin一起推广微型显示应用。虽然我们在这个应用中只提供一种芯片，但我们提供给整机客户的是包括软件在内的完整方案，用户只要自己制造外壳就可以批量生产。”

19:19 2006-9-29
查，嵌入式，protel
protel能仿真fpga，有时间查一下protel能否仿真哪些型号的fpga，能否仿真单片机。
让张旺查一下。

22:43 2006-9-30
本科毕设
1, 建立fpga上的linux bootloader，如果是保研同学做，可以做leon2/3的u-boot移植。
leon2/3已经有了功能强大的grmon，是否有必要做bootloader。
做u-boot的意义主要是探索通用的fpga软核处理器开发方法。
//2, 嵌入式系统测试模块的设计，leon2的dsu。
3, 基于fpga的图形开发环境的建立（液晶驱动，甚至minigui）
4, uart设计
5, 8位RISC设计

#课程安排
科技文献检索：2班，周二上午，新图一层。9月12日第一次上次
专业外语：（周二）下午五六节课在1407上

#
skyeye文档，待下载
http://gro.clinux.org/frs/download.php/835/hardwaredoc4skyeye.tar.bz2
http://gro.clinux.org/frs/download.php/789/SkyEyelcdtouchscreen4gro.pdf
http://www.skyeye.org/wiki/HomePage skyeye在线手册***

