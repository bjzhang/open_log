
10:40 2012-07-02
GTD
0, 10:20-11:48 12:59-18:15

1, today
1), 10:30-11:48 wireshark. see"10:48 2012-07-02". 
2), 10' 12:59-13:13 check the mail. sp3 schedule. 
3), work report. see"11:38 2012-07-02". 

10:48 2012-07-02
company, network, wireshark, fix 3 bugs from upstream, using new maintenance model for branching and checking out, cont15, test 
1, finally install sles9 sp3 on vmware(vm9). 
2, tshark run successful.
3, how to invoke my patch? 
1), register_all_protocols -> proto_register_bacapp -> register_dissector -> dissect_bacapp

register_all_protocols -> proto_register_ansi_a -> prefs_register_protocol -> proto_reg_handoff_ansi_a -> create_dissector_handle -> ddissect_dtap -> tap_msg_fcn -> dtap_lu_reject 

dtap_lu_reject -> ELEM_MAND_V 

ELEM_MAND_TLV -> elem_tlv 
ELEM_OPT_TLV -> elem_tlv 
ELEM_MAND_TV -> elem_tv 
ELEM_OPT_TV -> elem_tv 
ELEM_MAND_LV -> elem_lv 
ELEM_MAND_V -> elem_v 

elem_tlv -> elem_1_fcn
elem_tv -> elem_1_fcn
elem_lv -> elem_1_fcn
elem_v -> elem_1_fcn

elem_1_fcn -> elem_is2000_scr

note: there are same function in packet-ansi_a.c and packet-gsm_a.c, such as elem_tlv, elem_tv. 

4, Disscuss with jiaju. 
Jiaju suggest me sumit request if the wireshark run successful. 
So, install and test wireshark GUI on a physical system. 

5, set display adapter in  sles9 sp3 as vesa. see"15:48 2012-07-02"

11:01 2012-07-02
software, skills, patch, send patch with email client, ref kernel doc: linux/Documentation/email-clients.txt

11:38 2012-07-02
work report - week 26
[devel-server] work report - week 26
[green]
1, libvirt lock for libxl: add job begin and end function for long-running works. 
test migration 24times successful(execute "virsh list" while migration). meanwhile there is some other work not protected, I still need to improve this patch. 

15:48 2012-07-02
software, skills, x-windows, sax2, display adapter
1, sles9 sp3 can not boot in vmware. 
init 3
sax2 -m 0=vesa
init 5

17:33 2012-07-02
company, network, wireshark
https://bugzilla.novell.com/show_bug.cgi?id=769578

11:19 2012-07-03
GTD
0, 11:00-11:45 12:28-18:22

1, today
1), 20' mailing list(opensuse arm): compile compiler failed. see"11:34 2012-07-03".
2), 90' nap(1hour is neither wakeup nor sleep). 
3), 20' wireshark submit request. see"14:38 2012-07-03".
4), 14:45-14:53 15:05-15:24 wireshark. see"14:45 2012-07-03".
5), 15:26-18:22 libvirt libxl lock. see"15:26 2012-07-03"
1h personal stuff.

11:34 2012-07-03
mailing list, opensuse, arm, ARMv7 compile error; compiler, binutils; spec
1, bacause the spec file name do not match, cross-armv7l icecream compiler is not compiled. 
"Adrian Schröter<adrian@suse.de>"_email_"Re: [opensuse-arm] ARMv7 compile error"_20120703_0330
> Adrian, any idea why the cross-armv7l icecream compiler is "excluded" in Factory?
> 
>    https://build.opensuse.org/package/show?package=cross-armv7l-gcc47-icecream-backend&project=openSUSE%3AFactory
because there is no matching spec file to the container name (armv7hl vs armv7l).
This is usually done by a script of coolo regulary, but I fixed this manually for now.

2, update gcc spec file to give the right binutils to gcc.
"Alexander Graf <agraf@suse.de>"_email_"Re: [opensuse-arm] ARMv7 compile error"
1), In fact, this sounds like the bug when the cross gcc couldn't find its binutils during configure time, so it disabled visibility attributes...
2), Found it. The cross compiler got built with its binutils path set to /usr/arm-suse-linux/bin, while the path binutils uses is /usr/arm-suse-linux-gnueabi/bin.
I changed the gcc spec file to accommodate for that, but it'll take a while to compile.

12:51 2012-07-03
opensuse, paste
http://paste.opensuse.org/
paste your log here in order to share with people.
it need a openID(i do not have it). it looks like i can register openID through ZENworks. 

14:38 2012-07-03
company, network, wireshark, fix 3 bugs from upstream, using new maintenance model for branching and checking out, cont16, submit request
1, submit request
> osc sr -m "update wireshark with backport for bnc#763855, bnc#763857"
created request id 20325
2, reply on bugzilla
update wireshark 1.0.16 for sles3 sp3 teradate with backport for bnc#763855, bnc#763857:
- Fix bnc#763855: wireshark: Dos/Infinite loop when in IEEE 802.11 dissector
  * wireshark-1.0.16-CVE-2012-2392-7118.patch (802.3)
  * wireshark-1.0.16-CVE-2012-2392-7119.patch (ANSIMAP)
  * wireshark-1.0.16-CVE-2012-2392-7121.patch (BACAPP)
  * wireshark-1.0.16-CVE-2012-2392-7122.patch (HCIEVT)
- Fix bnc#763857: wireshark: Null pointer dereference in ANSI A dissector
3, close
1), Matthias Weckbecker 2012-07-03 09:09:21 UTC
Hi, you were right (unfortunately). Somebody checked it in even though it
was a NOP update in the end. Well spotted, thank you!
I have created a new workflow for this update. Could you possibly confirm
that your submission for sles9-sp3-teradata fixes (and only fixes) 
  * CVE-2012-2392 (which is bnc#763855) and
  * CVE-2012-2393 (which is 763857)
please? Just to be on the safe side this time. Thanks again!
2), bamvor jian zhang 2012-07-03 09:55:08 UTC
(In reply to comment #20)
> Hi, you were right (unfortunately). Somebody checked it in even though it
> was a NOP update in the end. Well spotted, thank you!
> 
> I have created a new workflow for this update. Could you possibly confirm
> that your submission for sles9-sp3-teradata fixes (and only fixes) 
> 
>   * CVE-2012-2392 (which is bnc#763855) and
>   * CVE-2012-2393 (which is 763857)
> 
> please? Just to be on the safe side this time. Thanks again!
Yes. this is exactly what i have submitted.
 
14:45 2012-07-03
company, network, wireshark, bnc#769578 
1, details
https://bugzilla.novell.com/show_bug.cgi?id=769578
http://www.wireshark.org/security/wnpa-sec-2012-08.html
this bug has been fixed in bnc#763855. 

2, reply on bugzilla
1), Duplication of bug #763855.
2), Sebastian Krahmer 2012-07-03 06:59:17 UTC
I dont think its a dup, as it clearly states that its different
from CVE-2012-2392, which is #763855.

3, search CVE
1), search on http://web.nvd.nist.gov/view/vuln/search?execution=e4s1
got http://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2012-3825

4, reply to Sebastian
Sorry for misunderstanding. 
Although CVE-2012-3825 is different from CVE-2012-2392, they both point to the same wireshark link(http://www.wireshark.org/security/wnpa-sec-2012-08.html). 
Meanwhile, all the bugs[1][2][3] in CVE-2012-3825 already fixed in bug #763855 for all the sle wireshark maintenance version. 
So, there is no more work for me, I guess.

[1] https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=7122
[2] https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=7121
[3] https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=7125

notes: select the following item for removing the "NEEDINFO" flag. This comment provides the needed information. Remove the status of NEEDINFO from this bug.

5, reply.
1), Sebastian Krahmer
Ans what about CVE-2012-3826?
2), reply to Sebastian
CVE-2012-3826 include one bug [1] which is also fixed in bng #763855. 
[1] https://bugs.wireshark.org/bugzilla/show_bug.cgi?id=7125
3), bamvor: I could finish this by only one reply. but I have tried three times because I poor logic and English.

15:26 2012-07-03
virtualization, libvirt, migration, libxl(xenlight), lock, cont2, improve the lock
1, list all the todo works. 
1), todo works
ref"09:34 2012-06-28" and "8:24 2012-6-29"3. 
(1), i only protect the new migration is not allowed for the current migrate domain. but do not protect other op for this domain.
I will add BeginJob and EndJob in the libxl api if needed. e.g. add these into create, destroy...
Jim: 
The 'get' API's shouldn't need additional protection and can probably be
left as is.  The 'put' APIs (any that change the vm state) would
probably need to be protected during the migration (or save, dump, and
other long-running operations).
(2), Job condition for normal work is not implemented. 
In qemu, the normal work means not a long-running operation but still need to exclusive with async job. like qemuDomainGetXMLDesc, qemuDomainStartWithFlag...
I am not sure whether I need distinct the normal and async job in xenlight. but These normal work need to Job condition.
(3), no clean up function. if user interrupt the migration, the libvirt maybe work abnormal. e.g. the vm alive in both source and destination. 
(4), not update vm status while migration. 
(5), the reconnect and recover situation is not considered. 
(6), there is no need to handshake between source and destination because libvirt could guarantee the migration sequence. I plan to try to remove the handshake next week. 
2), known bug:
after several times migrate, vm crash and rebootted. i do not know the reason. 
test this bug in xl in order to know whether this is a libvirt bug or not.
3), live migration is not tested yet. 
4), other todo(ref"09:34 2012-06-28"6).
although I support different job launched while migrate. there are still some work to do:
(1), VIR_MIGRATE_CHANGE_PROTECTION
qemu only call qemuMigrationJobStart while VIR_MIGRATE_CHANGE_PROTECTION is set. 
but this is not support in libxl driver libxlSupportsFeature.
2), OUT, IN. \TODO this is useless in my current code. improve it.

2, plan
1), learn about normal and async job in qemu. does libxl need normal work? 
2), lock todo is prior to migration todo.

3, qemu: normal and async job. 
1), maybe the difference between normal job and async job relate to qemu monitor cmd which includes normal and async cmd. 

4, rename libxlDomainObjBeginAsyncJobWithDriver and libxlDomainObjEndAsyncJob as libxlDomainObjBeginJobWithDriver and libxlDomainObjEndJob. create libxlDomainObjBeginJob?
1), learn the difference between pthread_cond_signal and pthread_cond_broadcast. 
the former one is used in qemuDomainObjEndJob while the latter one is used in qemuDomainObjEndAsyncJob.
(1), "关于pthread_cond_signal与pthread_cond_broadcast的使用说明"
http://blog.csdn.net/hello_wyq/article/details/1108264
  在code review中，我会发现很多人喜欢在pthread_mutex_lock()和pthread_mutex_unlock(()之间调用pthread_cond_signal或者pthread_cond_broadcast函数，从逻辑上来说，这种使用方法是完全正确的。但是在多线程环境中，这种使用方法可能是低效的。
这里罗嗦几句，对于
int pthread_cond_wait(pthread_cond_t *cond, pthread_mutex_t *mutex);
int pthread_cond_timedwait(pthread_cond_t *cond, 
    pthread_mutex_t *mutex, const struct timespec *abstime);
，一定要在mutex的锁定区域内使用。

11:12 2012-07-04
GTD
0, 11:00-11:50 13:44-18:24

1, today
1), 11:16-11:50 13:44-15:20 16:57-18:24 libvirt libxl lock. see"11:14 2012-07-04"

11:14 2012-07-04
virtualization, libvirt, migration, libxl(xenlight), lock, cont3, improve the lock, cont1
1, what does priv->job.active mean? 
1), 
qemuDomainObjPrivateXMLParse: if job need to trace, add this job to xml. 
qemuDomainObjPrivateXMLFormat: get job from xml. 

qemuDomainSetPrivateDataHooks:
    caps->privateDataXMLFormat = qemuDomainObjPrivateXMLFormat;
    caps->privateDataXMLParse = qemuDomainObjPrivateXMLParse;

virDomainSaveStatus -> virDomainObjFormat -> privateDataXMLFormat 
domainStartup -> virDomainLoadAllConfigs -> virDomainLoadStatus -> virDomainObjParseFile -> virDomainObjParseNode -> virDomainObjParseXML -> privateDataXMLParse 

2, 好像normal job and async job都需要, 后者可以是可以和前者同时进行的.
1), compare the DomainJob and DomainAsyncJob. 
/* Only 1 job is allowed at any time
 * A job includes *all* qemu.so api, even those just querying
 * information, not merely actions */
qemuDomainJob {
    QEMU_JOB_NONE = 0,  /* Always set to 0 for easy if (jobActive) conditions */
    QEMU_JOB_QUERY,         /* Doesn't change any state */
    QEMU_JOB_DESTROY,       /* Destroys the domain (cannot be masked out) */
    QEMU_JOB_SUSPEND,       /* Suspends (stops vCPUs) the domain */
    QEMU_JOB_MODIFY,        /* May change state */
    QEMU_JOB_ABORT,         /* Abort current async job */
    QEMU_JOB_MIGRATION_OP,  /* Operation influencing outgoing migration */

    /* The following two items must always be the last items before JOB_LAST */
    QEMU_JOB_ASYNC,         /* Asynchronous job */
    QEMU_JOB_ASYNC_NESTED,  /* Normal job within an async job */

    QEMU_JOB_LAST
};
/* Async job consists of a series of jobs that may change state. Independent
 * jobs that do not change state (and possibly others if explicitly allowed by
 * current async job) are allowed to be run even if async job is active.
 */
enum qemuDomainAsyncJob {
    QEMU_ASYNC_JOB_NONE = 0,
    QEMU_ASYNC_JOB_MIGRATION_OUT,
    QEMU_ASYNC_JOB_MIGRATION_IN,
    QEMU_ASYNC_JOB_SAVE,
    QEMU_ASYNC_JOB_DUMP,

    QEMU_ASYNC_JOB_LAST
};
2), learn the suspend, save, dump, migration in qemu and libxl. 
question: what's difference between suspend and save? 
(1), in qemu, save and dump is implemented as migrate to file. 
while in libxl, migrate is implemented as suspend to socket file. 
(2), qemu: suspend/resume is implemented through qemu monitor cmd(stop, cont). 
libxl: save is implemented through suspend. core dump is implemented through libxl_domain_core_dump. 
(3), list: compare long-ruuning job in libxl and qemu. 
note: suspend in libvirt is not a long-running job. 
        libxl                      qemu
suspend  libxl_domain_pause         stop
migrate  libxl_domain_suspend       migrate
save     libxl_domain_suspend       migrate to file
dump     libxl_domain_core_dump     migrate to file
3), (17:53 2012-07-05)
It is confused. suspend means pause. migrate and save means suspend. 
I though that libxl suspend should be implemmented though libxl_domain_suspend yestoday. So, I though maybe I should set suspend, migrate, save and dump as async job?(move suspend from normal to async job). 
BUT, I find that I am wrong. 
"17:53 2012-07-05"end.

3, about reconnect and recover
qemuProcessReconnect: 
    if (qemuProcessUpdateState(driver, obj) < 0)
        goto error;
//...
    if (qemuProcessRecoverJob(driver, obj, conn, &oldjob) < 0)
        goto error;

    /* update domain state XML with possibly updated state in virDomainObj */
    if (virDomainSaveStatus(driver->caps, driver->stateDir, obj) < 0)
        goto error;

but libxl direct set state through virDomainObjSetState which is called in qemuProcessUpdateState in libvirt qemu driver. 
If i want to add recovery in libxl driver, there are lots of work need to do. 

4, add begin/end job for all the function need to protect. 

18:01 2012-07-04
virtualization, migration, time changed after migration
1, migration: time changed after migration. 
ServerA->ServerB: time change. 
ServerB->ServerA: time unchange.

2, is that relative to libvirt clock setting? 
clock
    The offset attribute takes four possible values, allowing fine grained control over how the guest clock is synchronized to the host. NB, not all hypervisors support all modes.

    utc
        The guest clock will always be synchronized to UTC when booted. Since 0.9.11 'utc' mode can be converted to 'variable' mode, which can be controlled by using the adjustment attribute. If the value is 'reset', the conversion is never done (not all hypervisors can synchronize to UTC on each boot; use of 'reset' will cause an error on those hypervisors). A numeric value forces the conversion to 'variable' mode using the value as the initial adjustment. The default adjustment is hypervisor specific. 
    localtime
        The guest clock will be synchronized to the host's configured timezone when booted, if any. Since 0.9.11, the adjustment attribute behaves the same as in 'utc' mode. 
    timezone
        The guest clock will be synchronized to the requested timezone using the timezone attribute. Since 0.7.7 
    variable
        The guest clock will have an arbitrary offset applied relative to UTC or localtime, depending on the basis attribute. The delta relative to UTC (or localtime) is specified in seconds, using the adjustment attribute. The guest is free to adjust the RTC over time and expect that it will be honored at next reboot. This is in contrast to 'utc' and 'localtime' mode (with the optional attribute adjustment='reset'), where the RTC adjustments are lost at each reboot. Since 0.7.7 Since 0.9.11 the basis attribute can be either 'utc' (default) or 'localtime'. 

11:05 2012-07-05
GTD
0, 10:40-11:50 14:02-18:07 18:58-20:45

1, today
1), 25' read newspaper. 
2), check the important mail. hackweek, see"11:34 2012-07-05"
3), 10' 14:02-14:14 read libvirt and xen mailing list, 201207. see"14:07 2012-07-05" and "14:11 2012-07-05". 
4), 30' go to bank. excluded from work time. 
5), 14:15-18:07 18:58-20:41 libvirt libxl lock. see"14:15 2012-07-05"
nap 30' 
6), Summary: start to add begin/end job for each libxl api if needed. I wish I could finish it tomorrow. 

11:34 2012-07-05
company, hackweek, opensuse
1, "Frederic Crozat"_email_"19 days left before Hackweek VIII - What will you hack on ?"_20120704_2229
Hi all, 
as Ralf announced almost two weeks ago, Hackweek VIII will happen from
July 23rd to Jul 27th.  
Hackweek VIII website (available from SUSE / Novell network) is now up
and running at http://hackweek.suse.com/ 
You now have 19 days to find your hackweek project!  
As part of the hackweek website, we have setup a wiki and a forum for proposals
(available from
https://redmine.nue.suse.com/projects/hackweek/wiki/Proposals ):
- if you already know what you'll hack on, please add your proposal to
it and feel free to invite other people to hack with you on your
project. 
- if you have a lot of cool hackweek projects / ideas you won't be able
to tackle yourself and think could resonate with other people, please
share them there.
- if you are in lack of inspiration for your hackweek project, you'll
find some project to adopt for you there too!  
Happy thinking !  
-- 
Frederic Crozat <fcrozat@suse.com>
SUSE
2, bamvor: 
"hackweek.suse.com" need cisco vpn. 

14:07 2012-07-05
virtualization, mailing list, libvirt; qemu attach; new hypervisor in libvirt: Parallels Cloud Server
1, attach qemu virtual machine through "virsh qemu-attach" command.
https://www.redhat.com/archives/libvir-list/2012-July/msg00145.html
How were your qemu vms created?  Was it by direct invocation of 'qemu'?
 If so, you _might_ be able to teach libvirt about those vms by using
'virsh qemu-attach $pid', but it depends on the vm having been created
with a proper monitor connection.

2, Parallels Cloud Server
https://www.redhat.com/archives/libvir-list/2012-July/msg00168.html
Parallels Cloud Server is a virtualization solution
that allows users to simultaneously run multiple virtual
machines and containers on the same physical server.

More information can be found here: http://www.parallels.com/products/pcs/
Also beta version of Parallels Cloud Server can be downloaded there.

14:11 2012-07-05
virtualization, mailing list, xen; xen arm, console
1, "Stefano Stabellini"_email_"[Xen-devel] [PATCH v2 0/4] xen/arm: dom1 PV console up and running"
http://lists.xen.org/archives/html/xen-devel/2012-07/msg00159.html
this patch series fixes few bugs and implements few missing pieces
needed to get the first PV console up and running. With this patch
series applied I can fully boot a Dom1 guest out of an initramfs and
connect to its pv console in dom0, using xenconsole.
Regarding the console and xenstore pfns, I have used the HVM way of
doing things (speaking in x86 gergo) because they fit naturally in our
scenario.

14:15 2012-07-05
virtualization, libvirt, migration, libxl(xenlight), lock, cont4, improve the lock, cont2
1, 书接上回。上回书说到normal job and async job are both needed. Maybe I am wrong. The work for the same driver will be blocked by the libxl driver lock. 
But it is ok. just add all the begin/end job for libxl. and Think it over. 
Plan: protect the job through BeginJob or BeginAsyncJob.

2, check all the function which need begin/end job.
1), search qemuDomainObjBegin.*Job.* through cscope
cscope -d -L -3qemuDomainObjBegin.*Job
src/qemu/qemu_driver.c qemuDomainShutdownFlags 1612 if (qemuDomainObjBeginJob(driver, vm, QEMU_JOB_MODIFY) < 0)                                                     
src/qemu/qemu_driver.c qemuDomainReboot 1709 if (qemuDomainObjBeginJob(driver, vm, QEMU_JOB_MODIFY) < 0) 
...
src/qemu/qemu_process.c qemuProcessFakeReboot 547 if (qemuDomainObjBeginJob(driver, vm, QEMU_JOB_MODIFY) < 0)
src/qemu/qemu_process.c qemuProcessReconnectHelper 3232 if (qemuDomainObjBeginJobWithDriver(src->driver, obj, QEMU_JOB_MODIFY) < 0)
src/qemu/qemu_process.c qemuProcessAutoDestroy 4295 if (qemuDomainObjBeginJobWithDriver(driver, dom,
2), list all the function name. 
1), qemuStateDriver: 
qemudStartup
qemudReload
2), monitorCallbacks:
qemuProcessHandleWatchdog
3), qemuDriver:

3, check each function in qemu driver. 
1), domainCreateXML: qemudDomainCreate, libxlDomainCreateXML. 
qemu: qemuDomainObjBeginJobWithDriver(driver, vm, QEMU_JOB_MODIFY)
this create action will be blocked at virDomainObjIsDuplicate, so I am not sure whether we need this or not. \TODO: determine it later. 
2), domainSuspend: qemudDomainSuspend and libxlDomainSuspend. 
in libvirt, suspend mean stopping cpu. It is not a long-running job. 
\TODO: I add reason and eventDetail in libxlDomainSuspend. learn about them. do i need them? 
3), domainResume: qemudDomainResume and libxlDomainResume. 
write libxlDomainResume ref qemudDomainResume. 
4), domainShutdown, domainShutdownFlags:  qemuDomainShutdownFlags, qemuDomainShutdown. 
5), domainReboot: qemuDomainReboot

6), qemuDomainDestroyFlags, libxlDomainDestroyFlags
qemu: if endjob > 0 remove inactive, why? I think should endjob == 0 means this domain is no one used, So, remove inactive. 
\TODO
    if (!vm->persistent) {
        if ( libxlDomainObjEndJob(driver, vm) > 0 ) 
            virDomainRemoveInactive(&driver->domains, vm);
        vm = NULL;
    }
 
16:50 2012-07-05
company, SLE, SLE 12 status; focus on 64bit architectures; maybe support ARM64
1, "Andreas Jaeger <aj@suse.de>"_email_"[devel] SLE 12 Status"_20120705_1642
I'd like to give a first update on the state of SUSE Linux Enterprise
12.

SLE12 has a proposed release date in 2014 and therefore the time for
SLE 12 development is now!  My personal guess is that we have less
than 16 months of development time and that openSUSE 12.3 will be the
basis for SLE 12 [1].

= Background about SLE 12 =

We have created a big picture document to explain what SLE 12 is
about. The draft document lives at:
 http://w3.suse.de/~aj/SLE_XII_BigPicture.odt

We have identified three themes for SUSE (for details see the above
document):
  - running SLE uninterrupted
  - best manged Linux OS
  - made for cloud

The document is now at version 0.17, it has seen recently a large
enhancement to the chapter on "Irresistible" and a QA section.

= Virtual Teams =

A couple of virtual teams have started working on planning and
implementing larger changes for SLE12 - and some more will start soon.

If you like to signup for one, please enter your name at the wiki page
(https://wiki.innerweb.novell.com/index.php/SUSE/SLE12/Virtual_Teams)
and talk with the contact person of the team to include you in any
meetings.

Right now we have the following teams:
* Service Management
* Installation / Deployment
* Systems Management
* Stacks / Modules (Packaging)
* Enterprise Build Service
* Update via inst-sys
* Online migration
* System Manifest
* Usability
* Security
* Xen vs KVM, hypervisors for SLE12
* Bootloader
* Network Management Future
* (Kernel) patching: "ksplice" like infrastructure
* Dracut
* Cleanup Dependencies
* Tickless Idle Server OS
* Personas

Let's introduce the work of one team: "Installation/Deployment":

== Installation/Deployment ==

This team looks on how we can install a single system.

The main ideas discussed in the group for single system installation
are:
* Separate installation and general configuration: This removes the
  second stage (can still be enabled via yast2-firstboot for specific
  cases) and before starting the installation only the base
  configuration is done. Configuration can be done from the installed
  system after login.
* YaST will do all operations from outside of the image, so that YaST
  needs not to be installed for configuration.
* Simplify the first stage

= Some Recent Decisions =

Recently, we've made the following decisions regarding SLE 12:

* Architecture support: The main focus lies on the 64-bit
  architectures x86-64 (Intel64/AMD64/x64), PowerPC and System z. We
  will also support execution of 32-bit binaries on these
  architectures.

  We're evaluating whether to support ARM64 (Gerald Pfeifer: "I see a
  very fair chance (64.37 + "the overtime of Sunday's final soccer
  game in minutes" percent) we will see SUSE Linux Enterprise 12 on
  ARM8.") and wethher we need 32-bit media  for SLEPOS and SLED.

* Depreciation: We have already decided to not do anymore the
  following things. Please do not share the confidential items
  publicly. 
  - Mono: SLE 12 will not contain Mono or any mono based applications.
  - Reiserfs: We will not support Reiserfs as filesystem anymore.
  - Itanium (confidential): The architecture will not be supported.


= Contacts =

Since this is the first such report - what should we change for the
next time?

Please talk to Frederic Crozat <fcrozat@suse.com> and myself
<aj@suse.com> for any SLE12 work. We're here to help coordinating
SLE12 and moving it forward.

If you like to learn more about SLE 12, please check also the wiki:
https://wiki.innerweb.novell.com/index.php/SUSE/SLE12

Andreas

======================
Footnotes:
[1] There is no schedule for SLE 12 yet, so my statement regarding
development time and release date is just a personal best guess and
not based on any committment either by engineering nor by PM.

-- 
 Andreas Jaeger aj@{suse.com,opensuse.org} Twitter/Identica: jaegerandi
  SUSE LINUX Products GmbH, Maxfeldstr. 5, 90409 Nürnberg, Germany
   GF: Jeff Hawn,Jennifer Guild,Felix Imendörffer,HRB16746 (AG Nürnberg)
    GPG fingerprint = 93A3 365E CE47 B889 DF7F  FED1 389A 563C C272 A126

2, bamvor, quote:  
  We're evaluating whether to support ARM64 (Gerald Pfeifer: "I see a
  very fair chance (64.37 + "the overtime of Sunday's final soccer
  game in minutes" percent) we will see SUSE Linux Enterprise 12 on
  ARM8.") and wethher we need 32-bit media  for SLEPOS and SLED.

17:29 2012-07-05
software, skills, vim
1, "=" auto format the code in current selection. or double "=" for current line. 
2, "%" jump between parethesis(), square backets[] and brace{}. 
3, use with register
use "x before yank/paste/del command to use that register.
e.g. "ayy, copy cuurent line to a. "ap paste a register content after current position. 

17:30 2012-07-05
company, colleague, Michal Čihařto 
1, "Marcus Meissner <meissner@suse.de>"_email_"[devel] Welcome Michal Čihařto Security/Maintenance"_20120705_1724
It is my pleasure to announce that starting July 1st Michal Čihař
will be joining my team. Michal has worked in the L3 team before.
In his new role he will build upon his experiences creating and working
the Solid Ground frontend for L3, and transfer this to 
He will design and implement the next generation toolset to replace the
aging SWAMP and other custom grown tools around it we use currently to
ease Maintenance and Security (and also Maintenance QA) coordination work.

12:49 2012-07-06
GTD
0, 11:00

1, today
1), 10' check the mail. 
2), 10' work report. see"17:01 2012-07-06".
3), 10' mail to Jason. sorry about sync meeting. 
4), 17:18-18:23 libvirt libxl lock. see"17:18 2012-07-06"

17:00 2012-07-06
bootloader, UEFI, secure boot, opensuse
"Gary Ching-Pang Lin <glin@suse.com>"_email_"[Research] UEFI image file sign tools"_email_20120703_1710
For those who are interested in the UEFI Secure Boot, I wrote a wiki
page about the UEFI image file sign tools:
http://en.opensuse.org/openSUSE:UEFI_Image_File_Sign_Tools
All suggestions are welcome :)

17:01 2012-07-06
work report - week 27
[devel-server] work report - week 27
[green]
1, libvirt lock for libxl: 
improve the code: there are 48 api in qemu driver protect by the similar lock. I have been trying to evaluate each function in libxl driver. 
2, wireshark maintenance:
1), submit sles9 sp3 teradata request. It is approved by system. 
2), new wireshark bug: I already fix this bug in my previous submit for another security bug. 

17:18 2012-07-06
(13:45 2012-07-09)
virtualization, libvirt, migration, libxl(xenlight), lock, cont5, improve the lock, cont3
1, continue to check the qemu driver. 
1), async job.
qemudDomainCoreDump
qemuDomainSaveFlags
qemuDomainManagedSave

2), LIBXL_JOB_MODIFY: 
qemuDomainStartWithFlags, libxlDomainCreateWithFlags
qemuDomainShutdownFlags
qemudDomainResume 
qemuDomainReboot
qemudDomainSetMemoryFlags
qemuDomainSetVcpusFlags
qemuDomainRestoreFlags
qemuDomainAttachDeviceFlags
qemuDomainUpdateDeviceFlags
qemuDomainDetachDeviceFlags

3), LIBXL_JOB_QUERY, not modify, do it later if needed. 
qemuDomainScreenshot
qemuDomainGetXMLDesc
qemudDomainMemoryStats
qemudDomainMemoryPeek
qemuDomainGetBlockInfo

4), others
(1), domainSuspend: qemudDomainSuspend and libxlDomainSuspend. 
in libvirt, suspend mean stopping cpu. It is not a long-running job. 

2, not implemented: 
1), domainReset: qemuDomainReset
libxl driver is not implemented this api yet.
\TODO: there is two type of reset/reboot in libxl. one is libxl_domain_shutdown, the other is libxl_send_trigger. but reset is not implemented in libxl_send_trigger. 
2), 
qemuDomainInjectNMI                                                     
qemuDomainSendKey                                                       
qemuDomainBlockResize
qemuDomainBlockStats
qemuDomainBlockStatsFlags
qemuDomainAbortJob
qemuDomainMigrateSetMaxSpeed
qemuDomainRevertToSnapshot
qemuDomainSnapshotDelete
qemuDomainSnapshotCreateXML
qemuDomainMonitorCommand
qemuDomainAttach
qemuDomainOpenGraphics
qemuDomainSetBlockIoTune
qemuDomainGetBlockIoTune
qemuDomainGetDiskErrors
qemuDomainPMSuspendForDuration
qemuDomainPMWakeup
qemuDomainBlockJobAbort
qemuDomainGetBlockJobInfo
qemuDomainBlockJobSetSpeed
qemuDomainBlockRebase

3, check code and compile. 

4, \TODO
1), what is the sequence between virDomainObjIsActive and begin job? 
In qemu driver, isActive is after begin job.
2), 为什么有的时候拿到obj就unlock driver。有时是unlock obj后才unlock driver?
3), do i need use LIBXL_JOB_QUERY. it looks like useless.
4), domainCreateXML: qemudDomainCreate, libxlDomainCreateXML. 
qemu: qemuDomainObjBeginJobWithDriver(driver, vm, QEMU_JOB_MODIFY)
this create action will be blocked at virDomainObjIsDuplicate, so I am not sure whether we need this or not. \TODO: determine it later. 
5), qemuDomainDestroyFlags, libxlDomainDestroyFlags
qemu: if endjob > 0 remove inactive, why? I think should endjob == 0 means this domain is no one used, So, remove inactive. 
\TODO
    if (!vm->persistent) {
        if ( libxlDomainObjEndJob(driver, vm) > 0 ) 
            virDomainRemoveInactive(&driver->domains, vm);
        vm = NULL;
    }
 
11:36 2012-07-09
GTD
0, 11:20-11:46 12:59-18:35

1, today
1), check the mail. 
opensuse arm. see"11:37 2012-07-09"
\TODO: follow up: kdump hang on init6. see"13:37 2012-07-09"
2), 13:42-18:28 libvirt libxl lock. see"13:45 2012-07-09"
nap 40'. interrupted by "3)". 
3), 16:40-17:30 support L3 colleague: Yadan Fan. see"17:25 2012-07-09"
4), search about arm pandaboard, amlogic dual core a9, rockchip RK3066 dual core a9. 
5), Summary: finish function modify in libxl driver. check the code and compile then write test script for testing. 

11:37 2012-07-09
hackweek, opensuse arm, beagle kernel; kernel git
1, algraf
@zhang (is this your first or last name?) You can easily just pull the beagle prebuilt image from http://download.opensuse.org/repositories/openSUSE:/Factory:/ARM/images/ which should get you a working JeOS Factory installation. If it doesn't work for you, please let me know!

2, reply to algraf
hi, Alexander
Zhang is my family name. you can call me Bamvor. 
I tyied beagle board prebuilt image last month. It is not work for my board. maybe my board(OMAP3 STALKER) is a little bit difference from beagle board.
BTW, where is the kernel for opensuse arm? I found u-boot, x-loader in https://build.opensuse.org/project/packages?project=openSUSE%3AFactory%3AARM, but on kernel package. thanks. 

3, (10:59 2012-07-10)
RE: openSUSE 12.2 for ARM - Added by algraf about 16 hours ago
Hi Bamvor,
Please try a recent beagle image again. We messed up our boot loader configuration about a month ago, so maybe you did hit that issue.
The kernel is just built from the normal kernel-source package. In OBS, there is a link to that package with the actual compile name "kernel-omap2plus". IIRC that link lives in openSUSE:Factory which is the parent repository for openSUSE:Factory:ARM. Everything in openSUSE:Factory also gets built in openSUSE:Factory:ARM.  
The kernel package is slightly particular in that it gets generated out of the opensuse kernel git: http://en.opensuse.org/openSUSE:Kernel_git. So if you want to play with the kernel config, you're usually better off using the kernel git as a base :).  
Alex

4, kernel souce
1), link
http://en.opensuse.org/openSUSE:Kernel_git
http://kernel.opensuse.org/cgit/kernel
http://kernel.opensuse.org/cgit/kernel-source
2), git clone
(1),Setting up a clone
git clone git://kernel.opensuse.org/kernel.git 
This will create the master branch only, to set up further branches, do 
git checkout -b $branch origin/$branch 
and later just 
git checkout $branch 
(2), git clone git://kernel.opensuse.org/kernel-source.git -b openSUSE-12.2
fail: 
error: unknown switch `b'
maybe my git is too old?
(3), git clone git://kernel.opensuse.org/kernel-source.git
3), next: try to compile the kernel according to the opensuse kernel wiki. see"15:57 2012-07-17"

5, reply to Alex
Hi, Alex
thanks. I will try it. 

bamvor

13:37 2012-07-09
suse, kernel, kdump, hang on reboot, kdump hang on init 6
1, ""Drew Jackman" <djackman@suse.com>"_email_"[Research] kdump hangs on init 6"_20120704_0656
I have a new server that is hanging when it tries to reboot at the end of a kdump.  The kdump completes successfully but when it reboots it hangs.

SLES 10 SP4 w/latest maintenance kernel and kdump kernel installed and it was booted from a released kISO image.

System reports the following before it hangs:

Please stand by while rebooting the system...
Master Resource Control : runlevel 6 has been ... reached
Failed services in runlevel 6:
INIT: no more processes left in this runlevel ... reboot

Then the system hangs, it must be powered off.  I have tried changing the auto reboot to manual but it fails the same with an init 6 manually.

The system worked with SLES 11 SP2.  Suggestions what may be happening?

Thanks,
Drew

2, try difference reboot parameter. but it is not work for Drew. 
"Daniel Rahn <drahn@suse.com>"
You could try playing with the reboot kernel parm:
/* reboot=t[riple] | k[bd] [, [w]arm | [c]old]
   warm   Don't set the cold reboot flag
   cold   Set the cold reboot flag
   triple Force a triple fault (init)
   kbd    Use the keyboard controller. cold reset (default)
   force  Avoid anything that could hang.
 */ 

3, "David Mair" <dmair@suse.com>"
This is not a solution but a potential explanation. One of the common and significant problems with kdump is lock-ups as drivers initialize in the kdump kernel but the reason why could affect shutdown too and the reason is really due to bugs in those drivers where they blindly perform I/O operations. The kdump kernel blindly initializes all necessary drivers on the same hardware as the host being dumped. Since the host being dumped probably had the same drivers loaded and active then the state of those devices is often not the same as it would be at a power-up and some drivers fail to detect current state before initialization and some devices can't be initialized the same way at power-up as they are when running and the net result of the kdump initialization is an invalid I/O sequence that locks-up the device and host (see bugzilla for examples, one this year about x86 TSCs). This is similar to the situation where sequential reading of I/O memory can lock-up the host because it causes unsupported I/O sequences on certain devices. Now, you are talking about shutdown but I can see a similar potential. Some device is in a runtime state from the kernel being dumped or that state + blind initialization by the driver in kdump and that creates driver state with invalid assumptions about the current device state without locking the device yet. Then, whether or not the device was used by the kdump kernel the cleanup of the device completes an invalid sequence of I/O operations that locks-up the device and host. To identify such a cause you'd have to do repeated kdumps each with one driver disabled until you found a case where the host didn't lock-up which would allow you to write a bug for that driver but you could just not worry about it and try the various reboot methods already suggested.

4, "Petr Tesarik <ptesarik@suse.cz>"
How much RAM does the machine have? A lot? Then it could be related to a 
recently fixed bug that was fixed by this patch:
- patches.fixes/kdump-bootmap-conflict.patch: Avoid allocating
  bootmem map over crash reserved region (bnc#749168, bnc#722400,
  bnc#742881).
Check the changelog of your kernel if it includes this line.

5, "Drew Jackman"
> How much RAM does the machine have? A lot? Then it could be related to a 
> recently fixed bug that was fixed by this patch:
> 
It does have a large amount; 192 GB.
> - patches.fixes/kdump-bootmap-conflict.patch: Avoid allocating
>   bootmem map over crash reserved region (bnc#749168, bnc#722400,
>   bnc#742881).
> 
Yes, the kernel currently on the system has these patches included, and the problem still occurs.
FYI, I have blocked the network driver that the kISO updates from loading during the kdump kernel boot and this did not make any difference either.  

Thanks,
Drew

17:25 2012-07-09
virtualization, qemu, kvm, libvirt, vm-install, vm-install do not support ide virtual disk
1, vm-install does not support hda ide virtual hard disk. it lead to installation failed on sles10 sp3. install sles10 sp4 is successful.
2, install sles10 sp3 through "virsh create". set harddisk as "hda ide". 

10:41 2012-07-10
GTD
0, 10:35-11:46 12:39-18:50

1, today
1), 20' check the mail. opensuse arm. see"11:37 2012-07-09"3.
2), 11:23-11:46 14:20-18:47 libvirt libxl lock: check, compile and test. see"10:41 2012-07-10". add cleanup function "18:00 2012-07-10". 
nap 20'
3), 12:39-14:15 surfing. 
4), summary: a normal day, i think i am slow. try to work faster. prepare to talk with jiaju next Monday. 

10:41 2012-07-10
virtualization, libvirt, migration, libxl(xenlight), lock, cont6, check, compile and test
1, check
1), check item:
(1), BeginJobWithLock after driver lock or BeginJob after drver unlock.
(2), error handling. do not break the original error handing sequence. 
(3), EndJob/EndAsyncJob must be called while vm is valid. 
(4), fix all todo

2, check todo
1), add job condition in createXML and CreateWithFlags
Although this create action will be blocked at virDomainObjIsDuplicate, add job condition for 一致性.
2), not use LIBXL_JOB_QUERY. it is useless for me.
3), qemuDomainDestroyFlags, libxlDomainDestroyFlags
qemu: if endjob > 0 remove inactive, why? 
    if (!vm->persistent) {
        if ( libxlDomainObjEndJob(driver, vm) > 0 ) 
            virDomainRemoveInactive(&driver->domains, vm);
        vm = NULL;
    }
because obj is valid while libxlDomainObjEndJob return value more than zero which mean the obj is still used, not freed by libxlDomainObjEnbJob. 
如果endjob返回大于0的值, 表示obj还在使用, 此时remove inactive才能把这个obj remove. 
3, unsolved todo:
1), what does persistent mean?
(1), the only one code set persistent in libxl driver is in domainUndefineFlags. 
virDomainUndefine -> domainUndefine -> domainUndefineFlags
virDomainUndefineFlags -> domainUndefineFlags
(2), i do not know why. 
2), what is the sequence between virDomainObjIsActive and begin job? 
In qemu driver, isActive is after begin job.
3), 为什么有的时候拿到obj就unlock driver。有时是unlock obj后才unlock driver?

4, compile and test.
1), test with 0628 script. 
log/novell/hypervisor_and_tools/migrate/test_case/20120628/migrate.sh
migrate 10 times successful.

18:00 2012-07-10
virtualization, libvirt, migration, libxl(xenlight), lock, cont7, add cleanup function in libxl driver
1, ref todo in "15:26 2012-07-03"1-1)-(3)
(1), no clean up function. if user interrupt the migration, the libvirt maybe work abnormal. e.g. the vm alive in both source and destination. 

2, what happened while i press Ctrl+c during virsh command? 
1), take "virsh list" as example.
2), "virsh list" exit normally
Breakpoint 1 at 0x4d6a60: file libxl/libxl_driver.c, line 1467.                   
Detaching after fork from child process 27620.                                    
libxlClose                                                                        
#0  libxlClose (conn=0x7fd43c000a70) at libxl/libxl_driver.c:1467                 
#1  0x00007fd456716da9 in virReleaseConnect (conn=0x7fd43c000a70) at datatypes.c:114                                                                                
#2  0x00007fd4567183a8 in virUnrefConnect (conn=0x7fd43c000a70) at datatypes.c:149
#3  0x00007fd45672ee88 in virConnectClose (conn=0x7fd43c000a70) at libvirt.c:1505 
#4  0x00000000004421a7 in remoteClientFreeFunc (data=<optimized out>) at remote.c:627                                                                               
#5  0x00007fd45677e814 in virNetServerClientFree (client=0x805330) at rpc/virnetserverclient.c:601                                                                  
#6  0x00007fd45678766d in virNetSocketEventFree (opaque=0x8065b0) at rpc/virnetsocket.c:1329                                                                        
#7  0x00007fd45668b937 in virEventPollCleanupHandles () at util/event_poll.c:572  
#8  0x00007fd45668ba73 in virEventPollRunOnce () at util/event_poll.c:608         
#9  0x00007fd45668ada5 in virEventRunDefaultImpl () at util/event.c:247           
#10 0x00007fd45677bb2d in virNetServerRun (srv=0x7aea70) at rpc/virnetserver.c:713
#11 0x0000000000425240 in main (argc=<optimized out>, argv=<optimized out>) at libvirtd.c:1138
3), "virsh list" interrupted by Ctrl+c
Detaching after fork from child process 27624.
[Switching to Thread 0x7fd44ed1d700 (LWP 25120)]
libxlClose
#0  libxlClose (conn=0x7fd444002470) at libxl/libxl_driver.c:1467
#1  0x00007fd456716da9 in virReleaseConnect (conn=0x7fd444002470) at datatypes.c:114
#2  0x00007fd4567183a8 in virUnrefConnect (conn=0x7fd444002470) at datatypes.c:149
#3  0x00007fd45672ee88 in virConnectClose (conn=0x7fd444002470) at libvirt.c:1505
#4  0x00000000004421a7 in remoteClientFreeFunc (data=<optimized out>) at remote.c:627
#5  0x00007fd45677e814 in virNetServerClientFree (client=0x7fd4440013b0) at rpc/virnetserverclient.c:601
#6  0x00007fd45677c6d8 in virNetServerHandleJob (jobOpaque=<optimized out>, opaque=0x7aea70) at rpc/virnetserver.c:180
#7  0x00007fd45669f6c6 in virThreadPoolWorker (opaque=<optimized out>) at util/threadpool.c:144
#8  0x00007fd45669ed77 in virThreadHelper (data=<optimized out>) at util/threads-pthread.c:161
#9  0x00007fd451fc87b6 in start_thread () from /lib64/libpthread.so.0
#10 0x00007fd45191d9cd in clone () from /lib64/libc.so.6
#11 0x0000000000000000 in ?? ()
4), virNetServerHandleJob is called instead of virNetSocketEventFree while Ctrl+c is pressed. But they both call libxlClose. 
So, add cleanup function in libxlClose as qemudClose. 

3, add callback in libxl? 
1), set
   2   8924  src/qemu/qemu_driver.c <<qemuDomainMigrateBegin3>>
             if (qemuDriverCloseCallbackSet(driver, vm, domain->conn,
   3   2759  src/qemu/qemu_migration.c <<qemuMigrationPerformPhase>>
             if (qemuDriverCloseCallbackSet(driver, vm, conn,
   4   4322  src/qemu/qemu_process.c <<qemuProcessAutoDestroyAdd>>
             return qemuDriverCloseCallbackSet(driver, vm, conn,
2), what does the following macro mean? 
(1), VIR_DRV_FEATURE_MIGRATE_CHANGE_PROTECTION
VIR_MIGRATE_CHANGE_PROTECTION
3), is the callback work for Ctrl+c?
test it in qemu tomorrow. 

18:18 2012-07-10
company, colleague, opensuse
"Agustin Benito Bethencourt <abebe@suse.de>"_email_"[Research] new openSUSE team member"_20120710_1815
Hi,
I'm happy to announce that Ludwig Nussel joined the 'openSUSE Team at SUSE' on  
Monday July 2nd, coming from the security team. He is located now on the 
openSUSE jungle (room 1.1.2 ).  
If you appreciate Ludwig, make sure you come down and visit him before he 
blends with the enviroment. It is known that working in the open with the 
community has previously produced some unexpected effects in SUSE employees.

Welcome Ludwig

Saludos
-- 
Agustin Benito Bethencourt
openSUSE Team Lead at SUSE
abebe@suse.com

13:08 2012-07-11
company, meeting, SUSE all-hands meeting
1, Q1 FY13 key transaction
lockhead martin 7196k$. MS Certs, new.
huawei 1287k$. SLES, LTSS
2, Q2 FY13 key opportunities
BIA germany. 4160k$. 
thinkteck/TD ameritrade. 1376k$. SLES renewal.
3, suse cloud
dell coaboration.
4, recent PR and social media coverage
wiki.innerweb.novelll.com/index.php/SUSE_Public_Relations
5, SUSE cloud
1), 
customers: ING, BCX, University of Pisa, National Vision, London Stock Exchange
partners: DELL, Cisco, HP, IBM, B1 System, Mirantis, H4t, Intel. 
GM 16-AUG, FCS 31-AUG.
2), dell(crowbar). 
6, SUSE con
1), certification and training: LPIC-1 and CLA
7, customer
new submisstion from customer reference program: ti, qualcomm...
8, R&D update
1), got credits upstream (security) and by dell(Crowbar).
2), android client for suse cloud.
9, recognition
1), Johann Els
2), Roger Whitaker
10, (13:15 2012-07-19)
"Alan Gao"_email_20120719_1146
- FY13Q1 SUSE worldwide Year over Year growth is +13%, APAC is +19%.
- Top 10 major deal, 3 from China
- SUSEcon 20 year anniversary conference: September 18-21 at Orlando www.susecon.com
- SUSE Cloud GM August 16th
- SUSE Customer Reference Program: Incentive payout up to $ 4,500! Please fill-in attached form
- R&D Update by Ralf Flaxa

14:30 2012-07-11
GTD
0, 12:30-18:04

1, today
1), 13:00-14:30 SUSE all hands. see"13:08 2012-07-11".
2), discuss with guanjun about ARM. 
3), 16:30-18:03 libvirt libxl migration cleanup. see"16:24 2012-07-11"

16:24 2012-07-11
virtualization, libvirt, migration, libxl(xenlight), lock, cont8, add cleanup funciton in libxl driver, cont1
1, test libvirt qemu migration in order to know the migration cleanup function.
1), print qemu close
2), print qemu migration action after qemu close calling the cleanup.  3), print migration state.  
2, state
1), state function
virDomainObjSetState(virDomainObjPtr dom, virDomainState state, int reason)
virDomainStateTypeToString(state)
virDomainStateReasonToString(state, reason)
2), print state in gdb:     
printf "%u, %s, %s\n", dom, virDomainStateTypeToString(state), virDomainStateReasonToString(state, reason)
3), log
(1), non-live
virDomainMigratePrepare3 virDomainAssignDef virDomainObjSetState: 1140858064, shutoff, unknown
virDomainMigratePrepare3 qemuProcessStart virDomainObjSetState: 1140858064, shutoff, unknown
virDomainMigratePrepare3 qemuProcessStart virDomainObjSetState: 1140858064, paused, migration
virDomainMigratePerform3 qemuProcessStopCPUs virDomainObjSetState: 1006637024, paused, migration
virDomainMigrateFinish3 qemuProcessStartCPUs virDomainObjSetState: 1140858064, running, migrated
virDomainMigrateConfirm3 qemuProcessStop virDomainObjSetState: 1006637024, shutoff, migrated
(2), live
virDomainMigratePrepare3 virDomainAssignDef virDomainObjSetState: 1140855440, shutoff, unknown
virDomainMigratePrepare3 qemuProcessStart virDomainObjSetState: 1140855440, shutoff, unknown
virDomainMigratePrepare3 qemuProcessStart virDomainObjSetState: 1140855440, paused, migration
virDomainMigratePerform3 qemuProcessStopCPUs virDomainObjSetState: 8414816, paused, migration
virDomainMigrateFinish3 qemuProcessStartCPUs virDomainObjSetState: 1140855440, running, migrated
virDomainMigrateConfirm3 qemuProcessStop virDomainObjSetState: 8414816, shutoff, migrated
(3), live and non-live is same. is it correct? I suspect. 

3, next: qemudClose is called after qemuDomainMirateConfirm3. why? 

09:11 2012-07-12
GTD
0, 9:05-11:49 13:48-18:45

1, today
1), 9:20-9:30 check the mail. 
2), 9:31-11:49 13:50-14:44 15:07-18:39 libvirt libxl migration cleanup. see"09:31 2012-07-12".
interrupted by personal stuff(20'). nap(20').
3), 40' repair my chair with 502 supper glue. 
4), Summary. 今天是来的最早的一天. work hard. 

09:25 2012-07-12
company, colleague, sle department, project manager, Thorsten Kukuk; release manager, Antoine Ginies 
"Thorsten Kukuk <kukuk@suse.de>"_email_"[devel] New Project Manager in SLE-Department"_20120711_1806
Hello, 
I'm glad to announce that Antoine Ginies has joined my team
as Project Manager today.  
Antoine is based in France and will work from home.  
He has worked as release manager for a linux distribution,
so he has quite some experience in this area. I'm happy that
we found somebody who can contribute a lot to our processes
and products.  
Best,
Thorsten

09:31 2012-07-12
virtualization, libvirt, migration, libxl(xenlight), lock, cont9, add cleanup function in libxl driver, cont2
1, plan
1), try to understand the relationship between qemudClose and qemu migration.
2), write code. 

2, qemudClose and qemu migration
1), reread the close call back function set by qemuDomainMigrateBegin3 and qemuDomainMigratePerformPhase. 
three qemuDriverCloseCallbackSet Begin, Prepare3->PrepareAny->qemuProcessStart, Perform3->qemuMigrationPerform->PerformPhase. 
The former one is depend on the flag VIR_MIGRATE_CHANGE_PROTECTION. qemu support this flag while libxl do not support it. do we need this one? 
(1), for Begin3 and Perform3, they both set qemuMigrationCleanup as call back. 
/* This is called for outgoing non-p2p migrations when a connection to the
 * client which initiated the migration was closed but we were waiting for it
 * to follow up with the next phase, that is, in between
 * qemuDomainMigrateBegin3 and qemuDomainMigratePerform3 or
 * qemuDomainMigratePerform3 and qemuDomainMigrateConfirm3.
 */
qemuMigrationCleanup -> qemuDomainObjDiscardAsyncJob
accord to the comment and code. close call back only protect the migration while souce waiting for the next step. not protect the perform process. 就是说close的回调函数保护的是beagin和perform之间或perform和confirm之间的状态. 并不保护我想保护的perform这个过程. 
there is anther call back named qemuMigrationPrepareCleanup which is set in prepare and unset in finish. maybe it is usefull for the destination cleanup. 
2), re-test the Ctrl+c during migration
(1), interrupt migration before qemuMigrationWaitForCompletion
linux-vm5:/etc/xen/vm # virsh -c qemu:///system migrate sles11_qemu_12 qemu+ssh://linux-vm8/system
: Input/output error while reading data: Killed by signal 2.
error: Reconnected to the hypervisor
(2), interrupt migration after qemuMigrationWaitForCompletion
linux-vm5:/etc/xen/vm # virsh -c qemu:///system migrate sles11_qemu_12 qemu+ssh://linux-vm8/system
^Cerror: operation aborted: migration job: canceled by client
error: Reconnected to the hypervisor
3), "canceled by client" is printed by qemuMigrationUpdateJobStatus which get status(QEMU_MONITOR_MIGRATION_STATUS_CANCELLED for cancellation) from qemu process
4), how do virsh handle the ctrl+c? 
(1), virsh
((1)), 
vshInit -> vshSetupSignals
 * Catch SIGPIPE signals which may arise when disconnection
 * from libvirtd occurs
((2)), watch job set SIGINT and call hypervisor abort job: 
vshWatchJob -> sigaction(SIGINT, ...): set sigaction as vshCatchInt
            -> virDomainAbortJob -> domainAbortJob(qemuDomainAbortJob) -> qemuMonitorMigrateCancel
virsh call vshWatchJob while all the long-running cmd execute.
cmdSave -> vshWatchJob 
cmdManagedSave -> vshWatchJob 
cmdDump -> vshWatchJob 
cmdMigrate -> vshWatchJob 
But there is no cancellation command in libxl(suspend is sync cmd, no chance to send cancellation command). maybe i should kill libxl suspend process and update the status(like the qemuMigrationWaitForCompletion). 
(2), libvirtd: these signals handled by libvirtd. 
main -> daemonSetupSignals: setup the following signals 
SIGINT: daemonShutdownHandler
SIGQUIT: daemonShutdownHandler
SIGTERM: daemonShutdownHandler
SIGHUP: daemonReloadHandler
5), next: check all three todos. 
(1), qemuMigrationPrepareCleanup like qemuMigrationCleanup: protect the status between prepare and finish.  
qemuMigrationPrepareCleanup -> qemuDomainObjDiscardAsyncJob
(2), I suppose I do not care the libvirtd signal handler. \todo: do it after finish the other part of migration and lock patch.

3, determine the sequence after migration is interruptted.
1), question: 
(1), how do the xen(xl or xm command) do while user cancellation? 
xl migration command ignore SIG_PIPE in order to handle the migration failure.
(2), what is the behaivor after Ctrl+c during migration in libxl. 

4, xl migrate 
1), log
linux-vm5:/etc/xen/vm # xl migrate sles11_hvm_10_2 linux-vm8
migration target: Ready to receive domain.                  
Saving to migration stream new xl format (info 0x0/0x0/504) 
Loading new save file incoming migration stream (new xl fmt info 0x0/0x0/504)
 Savefile contains xl domain config                                          
xc: Saving memory: iter 0 (last sent 0 skipped 0): 1048576/1048576  100%     
xc: Saving memory: iter 1 (last sent 134144 skipped 1): 1048576/1048576  100%
xc: Saving memory: iter 2 (last sent 80 skipped 2): 1048576/1048576  100%     
xc: Saving memory: iter 3 (last sent 4 skipped 2): 1048576/1048576  100%      
migration target: Transfer complete, requesting permission to start domain.   
migration sender: Target has acknowledged transfer.                           
migration sender: Giving target permission to start.                          
migration target: Got permission, starting domain.                            
migration target: Domain started successsfully.                               
migration sender: Target reports successful startup.                          
Migration successful.
2), interrrupt the migrate
(1), 
Detaching after fork from child process 3842.                                     
Detaching after fork from child process 3843.                                     
Saving to migration stream new xl format (info 0x0/0x0/504)                       
migration target: Ready to receive domain.                                        
Loading new save file incoming migration stream (new xl fmt info 0x0/0x0/504)     
 Savefile contains xl domain config                                               
xc: Saving memory: iter 0 (last sent 0 skipped 0): 53264/1048576    5%^C          
Program received signal SIGINT, Interrupt.                                        
Killed by signal 2.                                                               
0x00007ffff689bf60 in __write_nocancel () from /lib64/libc.so.6                   
(gdb) where                                                                       
#0  0x00007ffff689bf60 in __write_nocancel () from /lib64/libc.so.6               
#1  0x00007ffff779bb52 in write_exact (fd=10, data=0x7ffff478f000, size=4194304)  
    at xc_private.c:819                                                           
#2  0x00007ffff736dbc5 in noncached_write (len=<optimized out>,                   
    buffer=<optimized out>, live=<optimized out>, fd=<optimized out>,             
    xch=<optimized out>) at xc_domain_save.c:108                                  
#3  ratewrite_buffer (len=<optimized out>, buf=<optimized out>,                   
    live=<optimized out>, fd=<optimized out>, ob=<optimized out>,                 
    dobuf=<optimized out>, xch=<optimized out>) at xc_domain_save.c:305           
#4  xc_domain_save (xch=0x61d050, io_fd=10, dom=1, max_iters=29, max_factor=3,    
    flags=<optimized out>, callbacks=0x7fffffffe150, hvm=1)                       
    at xc_domain_save.c:1409                                                      
#5  0x00007ffff79c543a in libxl__domain_suspend_common (ctx=0x61c320, domid=1,    
    fd=10, hvm=1, live=<optimized out>, debug=<optimized out>) at libxl_dom.c:501 
#6  0x00007ffff79bbeb1 in libxl_domain_suspend (ctx=0x61c320,                     
    info=0x7fffffffe240, domid=1, fd=10) at libxl.c:463                           
#7  0x00000000004116a5 in migrate_domain (override_config_file=<optimized out>,   
    rune=<optimized out>, domain_spec=<optimized out>) at xl_cmdimpl.c:2615       
#8  main_migrate (argc=<optimized out>, argv=<optimized out>)                     
    at xl_cmdimpl.c:3006                                                          
#9  0x000000000040559b in main (argc=3, argv=0x7fffffffe410) at xl.c:157  
(2), 
write_exact (fd=10, data=0x7ffff478f000, size=4194304) at xc_private.c:820
820             if ( (len == -1) && (errno == EINTR) )
next until finish write_exact
(gdb)
noncached_write (len=<optimized out>, buffer=<optimized out>,
    live=<optimized out>, fd=<optimized out>, xch=<optimized out>)
    at xc_domain_save.c:110
next until finish noncached_write 
xc_domain_save (xch=0x61d050, io_fd=10, dom=1, max_iters=29, max_factor=3,
    flags=<optimized out>, callbacks=0x7fffffffe150, hvm=1)
    at xc_domain_save.c:1409
(3), i can not guarantee that after user interrupt the migration, the source domain is still alive. 
\todo: what is the behavior for the destination of migration after libxl_domain_suspend. 

4, coding
1), improve the migration code. 
(1), add migration job finish in doMigrateReceive. 
(2), change cleanup to endjob during job control. 
(3), update the driver lock and obj lock in doMigrateRecevice.
after exit from MigratePrepare, the lock should be unlocked. why I need unlock the obj and driver lock before libxlVmStart? discuss with colleague, it is not good choce create thread in the lock.  
if I call pthread_create to create a thread within mutex. does the child thread will hold the lock? yes
((1)), why i need add driver unlock and lock around libxlVmStart? 
I suppose to add it because of "virsh list" is blocked by the driver lock. 
ref "11:35 2012-07-13"

16:28 2012-07-12
virtualization, weblink, blog, xen, kvm
1, http://smilejay.com/ about kvm and xen
a book for kvm: http://smilejay.com/kvm_theory_practice/
2, http://blog.prajnagarden.com/ about xen and cloud(openstack). 
1), suse sp2 XEN qcow2快照
http://blog.prajnagarden.com/?p=252
2), qcow2、raw、vmdk等镜像格式
http://blog.prajnagarden.com/?p=248

10:15 2012-07-13
software, skill, man pages
1, all lib manpages is not installed on my system, including "man signal", "man sigaction", "man 3 printf". sudo zypper in man-pages man-pages-zh_CN slessp2-sles-manuals_en slessp2-man-pages slessp1-man-pages

10:17 2012-07-13
GTD
0, 10:10-11:40 13:06-18:35

1, today
1), 1h check the mail. xen-arm mailing list. see"10:45 2012-07-13"
2), 14:48-18:29 coding. pthread mutex. see"11:35 2012-07-13"

10:45 2012-07-13
mailing list, virtualization, xen, arm, nvidia tegra2; document
1, "Josep Subirats <josep.subirats@bsc.es>"_email_"[XenARM] Deploying Xen ARM in Quadmo747-X/T20"_20120704_1937
http://lists.xen.org/archives/html/xen-arm/2012-07/msg00000.html

bamvor: this is a useful mail for me. it talk about where to download and how to compile xen, kernel for a arm board. I'd like to try xen arm after hackweek. 

2, another discuss about xen arm
"Seehwan Yoo"_email_"Re: [XenARM] How to boot the xen up in Uboot?"_20120307_1053_+0900
For general memory map, 
Xen-arm is to be located at the end of physical mem.
Dom0 and domU are configured according to $XEN_BASE/.config file.
In addition, dom0 image (ELF) should be located at the end of dom0's
physical memory. 
Please refer include/asm/memmap.h in xen-arm source.

So, you should put xen-arm and dom0 kernel image at the proper physical
memory location to bootstrap.

For xen-arm, for the first hand, you should place xen-bin at starting
location
(usually physical DRAM address+ 0x8000). 
For dom0 kernel, you should place vmlinux at the dom0 image location
(physical DRAM address + dom0 memory - dom0 image size). 
Then, you can begin xen-arm by jumping to the xen-arm starting location.

3, xen arm on tegra2
"jm77.ryu@samsung.com"_email_"[Xen-devel] Para-virtualized linux kernel release for the Tegra2 harmony board."_20120208_0112_+0000
We have release a reference code for a para-virtualized linux kernel.  
You will find it on "git://xenbits.xen.org/people/jm77ryu/linux-xen.git" 
In case of xen-arm source, please visit to "git://xenbits.xen.org/people/jm77ryu/xen-arm.git" 
- Build Instructions: - 
1. extract root filesytem contents as following(This requires the root privilege)
    sudo tar -xvpf rootfs_dom0.tar.bz2 
2. cp config_dom0 .config 
3. make ARCH=arm 
** Turn on target board, and download the xen-arm image(xen) and the kernel image(vmlinux.out0).
** download addresse is :
***** xen-arm : 0x8000
***** guest kernel images : 0x1e800000

- booting domu - 
** To boot domu (the rootfilesystem of dom0 already has prebuilt domu kernel images, see images directory.)
# smd start     <- start lightweight
# vm create /etc/xen/dom1
# xenconsole 1    <= This command switch console to dom 1.

* For domu build, use config_domu configuration file.
* Don't forget to copy the vmlinux.out1 to rootfs_dom0/images directory after domu kernel build. 

4, embeddedxen
"Rossier Daniel <Daniel.Rossier@heig-vd.ch>"_email_"[XenARM] Announcement: EmbeddedXEN 2.0 available !"_20120302_1503
dom0: linux
domU: pv SqueezeOS

11:35 2012-07-13
thread, pthread, mutex; virtualization, libvirt, xen
1, coding 
2, question
1), it looks like there is no pthread_join in libxl migration code. joinable is set in libxl.
3, conclusion: child thread will hold the lock status, even if the lock is locked by parent thread. what should i do? 

14:45 2012-07-13
android, 4.1, Jelly Bean
1, Android 4.1, Jelly Bean: Hands-on impressions
http://blogs.computerworld.com/mobile-oses/20607/android-41-jelly-bean-hands-impressions
2, Android version
2.2: Froyo
2.3: Gingerbread
3.0: honeycomb
4.0: Ice Cream Sandwich
4.1: Jelly Bean

14:55 2012-07-13
chip, SOC, nvidia tegra2, TI OMAP4
1, Nvidia Tegra 2 vs. TI OMAP 4, or why the Droid Bionic uses OMAP
http://www.extremetech.com/computing/95439-nvidia-tegra-2-vs-ti-omap-4-or-why-the-droid-bionic-uses-omap

15:20 2012-07-13
virtualization, xen, arm
1, domu config
CONFIG_XENOLINUX=y
CONFIG_XEN_PRIVILEGED_GUEST=y

"CONFIG_XEN_PRIVILEGED_GUEST=y" is only defined in domu. 

2, backend and frontend
drivers/xen
console    fbsetfront     kppback_orig  mousefront  net_driver_util.c  usbfront
core       grant-table.c  kppfront      mtdback     netfront           usbnotify
evtchn     Kconfig        Makefile      mtdfront    privcmd            util.c
fbsetback  kppback        mouseback     netback     usbback            xenbus

14:01 2012-07-16
GTD
0, 13:50

1, today
1), check the mail. mailing list, devel-server. see"14:01 2012-07-16"
2), 14:29-16:50 libvirt libxl migration cleanup. see"09:31 2012-07-12".
3), libvirt libxl migration lock. prepare patch. see"16:40 2012-07-16". 
4), work report. see"18:13 2012-07-16"

14:01 2012-07-16
mailing list, devel-server, work report; openstack, compute
1, Jim work report
Openstack:
Sent V2 of my nova ComputeFilter changes upstream.  Feedback now is to
include a list of (achitecture, hypervisor_type, vm_mode) triplets in
the compute node capabilities, a triplet for each possible guest the
compute node can support.  E.g. a KVM x86-64 node can provide 
  (x86_64, kvm, hvm)
  (i686, kvm, hvm)
A Xen x86-64 node can provide 
  (x86_64, xen, hvm)
  (i686, xen, hvm)
  (x86_64, xen, xen)
  (i686, xen, xen) 
A QEMU node can provide 
  (x86_64, qemu, hvm)
  (i686, qemu, hvm)
  (ppc, qemu, hvm)
  (ppc64, kvm, hvm)
  (sparc64, kvm, hvm)
  (arm7, kvm, hvm) 
I'm testing a new patch series now, but having difficulty updating the
compute_nodes table in the nova database.  My db migration script fails
because there is no compute_nodes table in the db!  Spent 4 frustrating
hours before giving up.  I'll ask for some help in IRC when helpful folks
are lingering.


14:29 2012-07-16
virtualization, libvirt, migration, libxl(xenlight), lock, cont10, add cleanup function in libxl driver, cont3
1, coding(continue)
1), add domainAbortJob in libxl: kill libxl suspend process in libvirtd. 
2), add SetState in libxl

2, add domainAbortJob(coding not started). 
1), create thread doMigrateSend. check thread status through pthread_tryjoin_np. 
       int pthread_tryjoin_np(pthread_t thread, void **retval);
       int pthread_timedjoin_np(pthread_t thread, void **retval,
                                const struct timespec *abstime);
if tryjoin return EBUSY, means try join fail. then i will sleep a while. ref qemuMigrationWaitForCompletion. the flow: 
check job status
try join
sleep a while
(1), So, it look like I need to add a virThreadCannel function? 
as if i can not finish migration patch in a few days, should i send lock patch at first? 
(2), review my todo. ref"15:26 2012-07-03"1.
All these todo is about migration. 

3, in addition
1), libxlVmStart need vm obj before innvoking. 
2), does doMigrateReceive need finish migration job? 
i remove it because i think if perform successful, finish step will unpause the vm. then hanle the finish job and remove inactive stuff. 

16:40 2012-07-16
virtualization, libvirt, migration, libxl(xenlight), lock, cont11, prepare send patch to upstream, test lock deeper
1, plan
1), write script in order to test the lock fully. 

17:40 2012-07-16
arm, Cortex-A15, TI, OMAP5, eagleboard
TI OMAP5 opensouce board: http://eagleboard.org/
but the eagleboard does not ship. And I am not sure whether Can I buy it from China. 

18:04 2012-07-16
电子工程专辑, 嵌入式软件设计和8位MCU还有未来吗？
http://www.eet-china.com/ART_8800670748_617693_NT_e850bd2c.HTM
我们可以密切注意Miro Same用于事件导向编程的开放来源Quantum Platform架构及其免费的Quantum Model绘图建模工具选项。你可能并不喜欢当今自动生成代码的作法，但我保证一旦你在为状态机架构进行编程时，你将看到这整个结构的好处，以及它可为编程带来的效率。
Chuck 还指出，byte-wide处理器所吃的功率较少，而且能比32位处理器容忍更宽的电源电压。这是实话，低功耗无疑是电子产业当前的圣杯，不过，在可预见的未来，我还没看到任何能发展出无功耗CPU的迹象。

18:13 2012-07-16
work report - week 28
[devel-server] work report - week 28
[green]
1, libvirt lock for libxl, improve the code: 
1), at lock for all the modify api in libvirt libxl driver. 
2), prepare to add cleanup function for libxl migration. 

9:36 2012-7-17
opensuse, arm, beagle board clone, ema3530(SBC3530), try upstream kernel
1, compile the SBC3530 u-boot and kernel, modify ttyS2 to ttyS0 in kernel args
mmc init
fatload mmc 0 80200000 uImage1
setenv bootargs 'console=ttyS0,115200n8 vram=12M omapfb.vram=0:12M omapfb.mode=dvi:640x480MR-16@60 omapfb.video_mode=dvi:640x480MR-16@60 omapfb.debug=y omapdss.def_disp=dvi omap-dss.def_disp=dvi root=ubi0:rootfs ubi.mtd=4 init=/init mpurate=600 rootfstype=ubifs'
bootm 0x80200000

if i do not modify console to ttyS0, there is no kernel log and login message on booting. 
1), boot sbc3530 kernel successful
2), boot kernel upstream 3.4.3 fail. no kernel log and login log. 

2, try opensuse arm image
xzcat LimeJeOS-openSUSE-12.2-ARM-beagle.armv7l-1.12.2-Build6.16.raw.xz | dd bs=4M of=/dev/sdc; sync
fail

3, enable lowlevel debug
<6>Booting Linux on physical CPU -1067458628
<5>pðCÀ

<6>Booting Linux on physical CPU -1067458628
111111111<5>pðCÀ`1

4, hang at setup_processor. 
1), fix read_cpuid_id as cortex-A8 id: 0x413fc082
/*
 * The CPU ID never changes at run time, so we might as well tell the
 * compiler that it's constant.  Use this function to read the CPU ID
 * rather than directly reading processor_id or read_cpuid() directly.
 */
static inline unsigned int __attribute_const__ read_cpuid_id(void)
{
//      return read_cpuid(CPUID_ID);
        return 0x413fc082;
}
2), hang 
<6>Booting Linux on physical CPU -1067458628
123456789<5>pðCÀ`10setup_arch: 1CPU: xÿÀ‚À?A [c065ebc0] revision -1067458684 (ARMv(null)), cr=c0604090
it looks like hang at cpu_init. 
why kernel does not know cortex-A8???
next: try linux-omap3 kernel and opensuse arm kernel.

5, (22:15 2012-7-17)
try linux-omap3
<6>Booting Linux on physical CPU -1067278404
<5>pàEÀ­N­ÞÿÿÿÿCPU: ¸ÀƒÀA [c0546eac] revision -1066878937 (ARMv(null)), cr=c0629f84
1), start_kernel -> smp_setup_processor_id

6, opensuse arm fail
1), log
<6>Booting Linux on physical CPU -1067393092
<6>Initializing cgroup subsys 8îSÀ
<5>p°DÀCPU: øÀƒÀA [c0532968] revision -1067393148 (ARMv), cr=c05fdd4c
2), if I print is_smp and cpu standalone, it is right:
is_smp: 0. cpu is 0
¤Þ`À`<6>Booting Linux on physical CPU -1067393092
3), after add some debug log in setup_processor, more log:
is_smp: 0. cpu is 0
¤Þ`À`<6>Booting Linux on physical CPU -1067393092
<6>Initializing cgroup subsys `îSÀ
<5>p°DÀsetup_processor: 462
lÞ`À`setup_processor: 466
lÞ`À`CPU: øÀƒÀA [c062c310] revision -1067393156 (ARMv), cr=c05fddf4
setup_processor: 494
lÞ`À`setup_processor: 497
lÞ`À`CPU: (>SÀt>SÀ data cache, ARMv7 Processor instruction cache
setup_processor: 499
lÞ`À`setup_processor: 501
lÞ`À`Machine: ¬¼SÀ
<6>cma: CMA: reserved -1067393204 MiB at c0008000
Memory policy: ECC „\SÀ°þ_Àabled, Data cache ARMv7 Processor
<7>On node -1067393332 totalpages: 589824
<7>free_area_init_node: node -1067393332, pgdat 00090000, node_mem_map c060decc
<7>  L„TÀ zone: 0 pages used for memmap
<7>  L„TÀ zone: 0 pages reserved
<7>  L„TÀ zone: 0 pages, LIFO batch:3227573964
<6>¨_SÀ¤`SÀ¨_SÀ(Þ_Àdã]ÀŒG»À˜²]Àß`À˜ß`À ES (l2cache iva sgx neon isp )
<6>Clocking rate (Crystal/Core/MPU): -1067393188.-1067327380/-1067393188/332 MHz
ü£TÀpcpu-alloc: s4096 r3227574052 d0 u3235654272 alloc=0*3225679524<c>
ü£TÀlÿfÀXsaÀpcpu-alloc: <c>[4096                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <c>4096                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       <c>
Built -1067393116 zonelists in (null) order, mobility grouping .  Total pages: -1061529040
<5>Kernel command line: Àé_ÀlÿfÀXsaÀ
<6>ÄïSÀ hash table entries: -1059313068 (order: -1067393172, 1 bytes)
<6>8¾TÀ hash table entries: -1059313068 (order: -1067393172, 1 bytes)
<6> ¿TÀ hash table entries: -1059313068 (order: -1067393172, 1 bytes)
<6>Memory: -1067393252MB = 3227574044MB total
<5>Memory: 3227574044k/3227970052k available, 3227574044k reserved, 32768K highmem
<5>Virtual kernel memory layout:
    vector  : 0xc060df1c - 0xc066ea04   (-1067393252 kB)
    fixmap  : 0xc05d63d4 - 0xc0bbf40c   ( 896 kB)
    vmalloc : 0xc05dc8a0 - 0xc0535678   (-65536 MB)
    lowmem  : 0xffff1000 - 0x00000004   (-1048576 MB)
    modules : 0xfffe0000 - 0x00000380   (-796917760 MB)
      .text : 0xff000000 - 0x000002e8   (-1073741824 kB)
      .init : 0xd0000000 - 0x00000100   (-1090519040 kB)
      .data : 0xc0000000 - 0x00000010   (-1073709056 kB)
       .bss : 0xc05d63d4 - 0x00001739<6>NR_IRQS:-1067393124
<6>IRQ: Found an INTC at 0xc060df8c (revision 0.-1067393140) with -1067343016 interrupts
<6>Total of -1067393100 interrupts on 0 active controller`
<6>OMAP clockevent source: GPTIMER-1067393164 at 0 Hz
<6>sched_clock: 3227574116 bits at 1092599939dHz, resolution 34355574472703ns, wraps every 3227618224ms
<6>Console: 4.VVÀP (null) -1067393132x-1068103676
Lock dependency validator: Copyright (c) 2006 Red Hat, Inc., Ingo Molnar
... MAX_LOCKDEP_SUBCLASSES:  3227574196
... MAX_LOCK_DEPTH:          3227574196
... MAX_LOCKDEP_KEYS:        3227574196
... CLASSHASH_SIZE:          3227574196
... MAX_LOCKDEP_ENTRIES:     3227574196
... MAX_LOCKDEP_CHAINS:      3227574196
... CHAINHASH_SIZE:          3227574196
 memory used by lock dependency info: 3227574196 kB
 per task-struct memory footprint: 3227574204 bytes
<6>Calibrating delay loop... <c>3227574156.4294928909 BogoMIPS (lpj=3227574156)
<6>pid_max: default: 3227574188 minimum: 42
<6>Security Framework initialized
<6>Mount-cache hash table entries: 3227574132
<6>CPU: Testing write buffer coherency: ok
<6>Setting up static identity map for 0xce82df64c05dc9f0 - 0x80449cc8c066ea70
2), disable dcache, fail again
<6>Setting up static identity map for 0xce82df6cc05dc9f0 - 0xc066ea70ce834000
<6>Setting up static identity map done
3), next: add more log after early_initcall(init_static_idmap)

12:35 2012-07-17
GTD
0, 9:36-11:50 12:35-12:53 13:42-18:10 19:02-20:55 22:15-23:33

1, today
1), 12:35-12:53 mail to jim about my work. see"12:36 2012-07-17"
2), afternoon 19:02-20:49 libvirt libxl migration lock. prepare patch. see"12:50 2012-07-17".
3), 9:36-11:50 22:15-23:33 opensuse arm see"9:36 2012-7-17".
4), Summary: 今天下午睡醒后到晚上效率还可以. 发现对于job还有很多不了解的地方, 但还是希望这周完成patch. 

12:36 2012-07-17
virtualization, libvirt, migration, libxl(xenlight), lock, cont11, prepare send patch to upstream, mail to Jim
1, email to Jim
title: about my libxl driver work
Hi, Jim

I have add the lock in all the "modify" api in libxl driver. and a simple test is passed. 
after this work, I have started to improve the migration code as we discuss in Jun. But I found that there are some work and I am no sure I can finish the migration within one or two week.
How about I send the lock patch at first, and I improve the migration code while waiting for the upstream response. 
I plan to do some more test about the lock then send it to upstream. 

PS: I do not receive the further email from you after the meeting in Jul 30. 

bamvor

12:50 2012-07-17
virtualization, libvirt, migration, libxl(xenlight), lock, cont12, prepare send patch to upstream, review the job
1, review the job and async job. 
1), LIBXL_JOB_QUERY: for the job need query the domain info excluding listing the domain. 
这样理解对么: "This is need for the destination of migration. because during the migration, the domain(vm) in source machine is alive, there is no way to query the same vm in the destination domain. the job condition LIBXL_JOB_QUERY should take the reponsibility to prevent it happens. 
就是说, 迁移过程中应该只能在源机器得到domain info, 目标机器上应该得不到. "
但是从代码看, 也不是完全是这样. 对于domainGetInfo and domainGetXMLDesc来说, 即使没有从qemu查询, 也会返回当前信息给用户. 对于"2)"里面的api, 如果不允许QUERY, 那么就会等待. 我个人是觉得后者更合理. 也许前一种情况中直接返回结果, 也是可以接受的. 
算了, 暂时还是不加入QUERY. \TODO: discuss with Jim. 
ref qemu code: 
(1), domainGetInfo
    if () {
    } else if (qemuDomainJobAllowed(priv, QEMU_JOB_QUERY)) {
        if (qemuDomainObjBeginJob(driver, vm, QEMU_JOB_QUERY) < 0)
            goto cleanup;
        if (!virDomainObjIsActive(vm))
            err = 0;
        else {
            qemuDomainObjEnterMonitor(driver, vm);
            err = qemuMonitorGetBalloonInfo(priv->mon, &balloon);
            qemuDomainObjExitMonitor(driver, vm);
        }
        if (qemuDomainObjEndJob(driver, vm) == 0) {
            vm = NULL;
            goto cleanup;
            info->memory = balloon;
        }
        set info->memory according to the err. 
    } else {
        info->memory = vm->def->mem.cur_balloon;
    }
qemuDomainGetXMLDesc is similar.

(2), domainScreenshot, domainBlockStats, domainBlockStatsFlags, domainMemoryStats, domainMemoryPeek, domainGetBlockInfo and domainGetDiskErrors is not implemented in libxl driver. but they are similar.

2), LIBXL_JOB_DESTROY
LIBXL_JOB_DESTROY需要单独列出来. this job prohibit to mask out. So, this job always in the job mask. 
use LIBXL_JOB_DESTROY instead of LIBXL_JOB_MODIFY in DestroyFlags api. 

4), remove LIBXL_JOB_ASYNC_NESTED. QEMU_JOB_ASYNC_NESTED only used for enter monitor function which is useless for libxl driver. 

2, other modify
1), set LIBXL_ASYNC_JOB_MIGRATION_IN instead of LIBXL_ASYNC_JOB_MIGRATION_OUT for Prepare3. 
\todo what does LIBXL_ASYNC_JOB_MIGRATION_IN mean? 
2), not added function
qemuMigrationJobStart(already add in libxl)
qemuMigrationJobSetPhase
qemuMigrationJobStartPhase
qemuMigrationJobContinue
qemuMigrationJobIsActive
qemuMigrationJobFinish(already add in libxl)

15:57 2012-07-17
hackweek, opensuse arm, beagle kernel; kernel git, cont1, check out branch
1, ref: http://en.opensuse.org/openSUSE:Kernel_git
1),  create the local branch and checkout
(1), right method: git checkout -b $branch origin/$branch
bamvor@linux-bjrd:kernel> git checkout -b openSUSE-12.2 origin/openSUSE-12.2
Branch openSUSE-12.2 set up to track remote branch refs/remotes/origin/openSUSE-12.2.
Switched to a new branch "openSUSE-12.2"
bamvor@linux-bjrd:kernel> git branch
  master
* openSUSE-12.2

(2), if do not add "-b", no local branch will created(See the git branch command below).
bamvor@linux-bjrd:kernel> git checkout origin/openSUSE-12.2
Checking out files: 100% (9471/9471), done.
Note: moving to "origin/openSUSE-12.2" which isn't a local branch
If you want to create a new branch from this checkout, you may do so
(now or later) by using -b with the checkout command again. Example:
  git checkout -b <new_branch_name>
HEAD is now at 80bfab8... Enable VMWGFX as module (bnc#769534).
bamvor@linux-bjrd:kernel> git branch -a
* (no branch)
  master
  origin/HEAD
  origin/SLE11-SP1
  origin/SLE11-SP1-RT
  origin/SLE11-SP2
  origin/SLES10_SP4_BRANCH
  origin/SLES9_SP4_BRANCH
  origin/master
  origin/openSUSE-11.3
  origin/openSUSE-11.4
  origin/openSUSE-12.1
  origin/openSUSE-12.2
  origin/packaging
  origin/stable

(3), if using the wrong branch name(case sensitive), the following errors encounteed: 
bamvor@linux-bjrd:kernel> git checkout -b opensuse-12.2 origin/opensuse-12.2
fatal: git checkout: updating paths is incompatible with switching branches/forcing
Did you intend to checkout 'origin/opensuse-12.2' which can not be resolved as commit?

2), after checkout, update the git: 
bamvor@linux-bjrd:kernel> git pull
remote: Counting objects: 549, done.
remote: Compressing objects: 100% (150/150), done.
remote: Total 151 (delta 98), reused 0 (delta 0)
Receiving objects: 100% (151/151), 61.55 KiB | 10 KiB/s, done.
Resolving deltas: 100% (98/98), completed with 79 local objects.
From git://kernel.opensuse.org/kernel
   0c85ada..a049cf4  SLE11-SP1  -> origin/SLE11-SP1
   9bf67e4..7eb89e0  SLE11-SP1-RT -> origin/SLE11-SP1-RT
   4979da0..6e912d6  SLE11-SP2  -> origin/SLE11-SP2
   f061a7b..b2175f8  SLES10_SP4_BRANCH -> origin/SLES10_SP4_BRANCH
   fdea2de..224daaa  master     -> origin/master
   ea696d1..f2867f4  openSUSE-11.4 -> origin/openSUSE-11.4
   2d75cc2..f0da8af  openSUSE-12.1 -> origin/openSUSE-12.1
   80bfab8..57f4698  openSUSE-12.2 -> origin/openSUSE-12.2
Updating 80bfab8..57f4698
Checking out files: 100% (34/34), done.
Fast forward
 arch/arm/mach-omap2/Kconfig                   |    9 +
 arch/arm/mach-omap2/Makefile                  |    1 +
 arch/arm/mach-omap2/board-4430sdp.c           |   10 +
 arch/arm/mach-omap2/board-omap3beagle.c       |   32 ++
 arch/arm/mach-omap2/board-omap4panda.c        |    8 +
 arch/arm/mach-omap2/clkt_iclk.c               |   21 ++
 arch/arm/mach-omap2/clock3xxx_data.c          |    5 +-
 arch/arm/mach-omap2/clockdomain.c             |   40 +++-
 arch/arm/mach-omap2/clockdomain.h             |    5 +
 arch/arm/mach-omap2/clockdomains3xxx_data.c   |    6 +-
 arch/arm/mach-omap2/omap_tps6236x.c           |  247 +++++++++++++++
 arch/arm/mach-omap2/omap_twl.c                |  157 ++++------
 arch/arm/mach-omap2/opp3xxx_data.c            |    4 +
 arch/arm/mach-omap2/pm-debug.c                |  128 +++++++--
 arch/arm/mach-omap2/pm.c                      |   28 ++
 arch/arm/mach-omap2/pm.h                      |   23 +-
 arch/arm/mach-omap2/powerdomain.c             |   58 ++++
 arch/arm/mach-omap2/powerdomain.h             |    5 +
 arch/arm/mach-omap2/twl-common.c              |  217 +++++++++++++-
 arch/arm/mach-omap2/twl-common.h              |   43 +++
 arch/arm/mach-omap2/vc.c                      |  420 +++++++++++++++++++++++--
 arch/arm/mach-omap2/vc.h                      |    8 +-
 arch/arm/mach-omap2/vc3xxx_data.c             |   23 ++
 arch/arm/mach-omap2/vc44xx_data.c             |   28 ++
 arch/arm/mach-omap2/voltage.c                 |   54 ++++
 arch/arm/mach-omap2/voltage.h                 |   60 ++++-
 arch/arm/mach-omap2/voltagedomains3xxx_data.c |    5 +
 arch/arm/mach-omap2/voltagedomains44xx_data.c |    8 +
 arch/arm/mach-omap2/vp.c                      |    6 +-
 arch/arm/mach-omap2/vp.h                      |    7 +
 arch/arm/mach-omap2/vp3xxx_data.c             |   10 +
 arch/arm/mach-omap2/vp44xx_data.c             |   15 +
 arch/arm/plat-omap/clock.c                    |   36 +++
 arch/arm/plat-omap/include/plat/clock.h       |    4 +
 34 files changed, 1561 insertions(+), 170 deletions(-)
 create mode 100644 arch/arm/mach-omap2/omap_tps6236x.c

3), after create the git local branch. using "git checkout branchname" to checkou t the branch.
bamvor@linux-bjrd:kernel> git checkout openSUSE-12.2
Already on "openSUSE-12.2"
bamvor@linux-bjrd:kernel> git branch
  master
* openSUSE-12.2
bamvor@linux-bjrd:kernel> git checkout master
Checking out files: 100% (9487/9487), done.
Switched to branch "master"
Your branch is behind 'origin/master' by 3 commits, and can be fast-forwarded.
bamvor@linux-bjrd:kernel> git branch
* master
  openSUSE-12.2

17:12 2012-07-17
company, colleague, QA, Shawn Chang
"Harald Müller-Ney<hmuelle@suse.com>"_email_"[devel] New employee in QA - please welcome Shawn Chang"_20120716_2211
it is a great pleasure to welcome a new member of Beijing Desktop QA team.
Shawn Chang (shchang@suse.com) joins us today (July 16) and reports to
Sunny - Sun Yan (ysun@suse.com) 
Shawn has more than 5 years work experiences related to Linux. Before
he join us, he worked in ChengDu (Sichuan province in China). He
deeply loves Open Source, and he is the founder of ChengDu Linux User
Group. All his experiences will strengthen QA department to provide
excellent support on business growing.  
Please welcome Shawn at SUSE, and support him in the future work.

19:10 2012-07-17
software, skill, Linux, shell, bash, short cut
1, ref
www.catonmat.net/download/bash-history-cheat-sheet.pdf
download: work/documents/bash-history-cheat-sheet.pdf
http://www.aboutlinux.info/2005/08/bash-shell-shortcuts.html

2, some short cut:
CTRL-p Fetch the previous command from the history list.
CTRL-n Fetch the next command from the history list.
CTRL-r Search history backward (incremental search).
CTRL-s Search history forward (incremental search).

Ctrl + a - Jump to the start of the line
Ctrl + b - Move back a char
Ctrl + d - Delete from under the cursor
Ctrl + e - Jump to the end of the line 
Ctrl + f - Move forward a char 

10:19 2012-07-19
GTD
0, 10:00-11:45 13:00(?)-17:18 18:07-21:25

1, today
1), 20' I lost all my work log yestoday. especially about the arm board Allwinner A10. management my work log through hg. see"10:38 2012-07-19"
2), arm board. opensuse see"11:39 2012-07-19", A10, see"14:20 2012-07-19". 
3), 14:29-17:17 18:24-21:20 review libvirt libxl migration lock. prepare patch. see"14:28 2012-07-19"
4), 18:10-18:24 opensuse arm trello. see"18:13 2012-07-19"

10:38 2012-07-19
software, skills, SCM, mercurial, hg
1, ref: http://mercurial.selenic.com/wiki/QuickStart/
2, create repo
1), check username is set in the ui section. 
[ui]
username = Bamvor Jian Zhang <bjzhang@suse.com>
2), hg init, these will create .hg directory
> hg init
> ls .hg
00changelog.i
requires
store
3), create .hgignore
> cat .hgignore
syntax: glob
.hgignore
*~
*.bak
*.swp
output*

syntax: regexp
.+/.+

4), add log and commit
> hg add 
> hg commit
> hg parents
changeset:   0:0e825384ee8d
tag:         tip
user:        Bamvor Jian Zhang <bjzhang@suse.com>
date:        Thu Jul 19 10:49:48 2012 +0800
summary:     initial log SCM version.

11:39 2012-07-19
opensuse, arm, board, low cost arm board
1, "Alexander Graf <agraf@suse.de>"_email_"Re: [opensuse-arm] BeagleBone for openSUSE ARM"_20120719_1232
It really depends on the layer you want to work at. If you're fine to work on actual board bringup, any armv7 board will be helpful. There are lists for embedded devices available here: 
  http://raymii.org/cms/p_Small_Linux_PCs_overview
  http://www.cnx-software.com/2012/06/26/list-of-39-low-cost-linux-friendly-boards-and-products/?utm_source=rss&utm_medium=rss&utm_campaign=list-of-39-low-cost-linux-friendly-boards-and-products 
However, plase double check that the cpu is armv7 based. ARM11 (like the raspberry pi) is too old for our hardfp distro.  
However, if you're interested in working on higher layers of the stack, like yast or gnome or some other user space aplication, you are better off using a board that is well-known to work. Currently that includes the Beagleboard xM and the Pandaboard.  
I don't know if thd beaglebone works. It might, but I haven't tried it and I don't think anyone else has. However, IIUC it doesn't have a graphical interface anyway, so your use case of attaching it to your monitor won't work.  
Thanks a lot for the interest in the openSUSE ARM port! And just let me know if you have further questions.

2, bamvor: MK802 is included in the list. 

3, Guillaume Gardet <guillaume.gardet@free.fr>
another website for arm board(actually for all the SBC): 
http://www.hardware-modules.com/index.php?page=SBC_Comparator&lang=en&cpu_arch_arm=show&cpu_nb_cores=x&cpu_freq=0&dsp=x&cpld_fpga=x&temp_min=0&temp_max=70&fanless=x&form_factor=x&licence=x&ram=0&nand=0&nor=0&onenand=0&emmc=0&ssd=0&ts_res=x&ts_cap=x&gpio=0&ethernet_nb=0&ethernet_type=10%2F100&bt=x&wifi=x&zigbee=x&gps=x&fm=x&usb_otg=0&usb_host=0&usb_device=0&sd_mmc_sdio=0&uart=0&i2c=0&spi=0&one_wire=0&ssi=0&can=0&pci=0&pcie=0&sata=0&isa=0&gp_bus=x&watchdog=x&keypad=0&adc=0&dac=0&pwm=0&rtc=x&jtag=x&battery_charger=x&backup_cell=x&accelerometer=0&gyrometer=0&magnetometer=0&bsp_linux=yes&general_infos=show&price=show&processing_units=show&memories=show

14:20 2012-07-19
(16:48 2012-07-20)
arm, board, Allwinner, A10; source code; material
1, MK802(Allwinner A10)
0), website
http://rhombus-tech.net/allwinner_a10
1), uart
(1), direct uart
https://www.miniand.com/forums/forums/2/topics/83
http://www.csksoft.net/blog/post/288.html
(2), or edit configuration file and use uart from sd card pin. 
2), recovery step
http://www.rikomagic.co.uk/forum/viewtopic.php?f=2&t=11&sid=894afbb588742f82f65ecff81ecb6568
3), mmc boot
http://rhombus-tech.net/allwinner_a10/a10_mmc_boot/
4), development
http://rhombus-tech.net/allwinner_a10/
(1), A10 video
https://github.com/amery/allwinner-a10-video
5), hack A10: how to update and unbrick A10 powered device. including how to enable uart through Sd card interface. 
http://elinux.org/Hack_A10_devices
6), build A10 android image
http://arpandeb.com/03/2012/tech-guides/how-to-build-custom-rom-for-allwinner-a10-based-android-tablets-a-tutorial-and-guide.html
7), ubuntu
(1), https://www.miniand.com/forums/forums/2/topics/1
(2), linaro powered
https://www.miniand.com/forums/forums/2/topics/82
If you discover that your screen keeps going blank until you wiggle the mouse, do this: 
echo 0 > /sys/class/graphics/fb0/blank 
I added it to /etc/rc.local myself..
(3), another choice
http://rikomagic.co.uk/forum/viewtopic.php?f=2&t=90
8), forum
http://forum.doozan.com/list.php?6
http://tabletrepublic.com/forum/cortex-a8-allwinner-a10/

2, Download A10 source code
0), soruce code and build instruction
http://rhombus-tech.net/allwinner_a10/source_code/
1), kernel
(1), active project
git://github.com/amery/linux-allwinner.git
git checkout allwinner-v3.0-android-v2(stable version for both linux and android).
(2), official kernel, but only in linux-2.6.36
https://github.com/allwinner
(3), build instruction
http://rhombus-tech.net/allwinner_a10/kernel_compile/
make ARCH=arm sun4i_defconfig
make ARCH=arm menuconfig
make ARCH=arm CROSS_COMPILE=arm-linux-gnueabi- -j3 uImage
make ARCH=arm CROSS_COMPILE=arm-linux-gnueabi- -j3 INSTALL_MOD_PATH=output modules
make ARCH=arm CROSS_COMPILE=arm-linux-gnueabi- -j3 INSTALL_MOD_PATH=output modules_install
2), u-boot
(1), git clone git://github.com/amery/uboot-allwinner.git
(2), doc: how to make a bootable sd card
https://github.com/hno/uboot-allwinner/wiki 
A10 boots the SPL loader from block 8. This then loads actual u-boot from block 32 onwards, counted in 1KB blocks.  
dd if=spl/sun4i-spl.bin of=/dev/sdc bs=1024 seek=8
dd if=u-boot.bin of=/dev/sdc bs=1024 seek=32 
You also need to partition the card to store system.bin, uImage, boot.scr (optional) and rootfs partition there. First partition should start at sector 2048 to leave sufficient space for uboot & environment.
3), video
git://github.com/amery/allwinner-a10-video.git
4), tools
git://github.com/amery/sunxi-tools.git
git://github.com/amery/mksunxiboot.git

3, pin share
http://rhombus-tech.net/allwinner_a10/
SPI2 and JTAG0
pads, multiplex2, multiplex3 function, required to have one SD/MMC become a JTAG port:
    PB13 SPI2_CS1 NC
    PB14 SPI2_CS0 JTAG_MS0
    PB15 SPI2_CLK JTAG_CK0
    PB16 SPI2_MOSI JTAG_DO0
    PB17 SPI2_MISO JTAG_DI0

4, doc
1), A10 datasheet, including pin share. 
work/Allwinner/document/A10_datasheet_2011.8.22.pdf

5, (16:51 2012-07-23)
the discuss for arm box: 
http://blog.gmane.org/gmane.comp.hardware.netbook.arm

6, (18:27 2012-07-23)
comile X11 driver for A10. 
http://rhombus-tech.net/allwinner_a10/Compile_X11_driver_for_A10/

7, linux for allwinner SOC: 
http://linux-sunxi.org/Main_Page

8, (18:12 2012-07-24)
reference doc
1), doc for build your own sd card package from existing sd image. include
http://www.cnx-software.com/2012/04/28/how-to-create-your-own-debian-ubuntu-image-for-mele-a1000-allwinner-a10-based-stb/
(1), mount partition through offset.
(2), read u-boot and xloader from image(before the 1st partition). 
(3), how to setup wireless network. 
(4), enable vga. 

14:28 2012-07-19
virtualization, libvirt, migration, libxl(xenlight), lock, cont13, prepare send patch to upstream, review the job, cont1
1, cont
1), LIBXL_JOB_SUSPEND
(1), do i need LIBXL_JOB_SUSPEND? the only reason reserve suspend job is suspend domain during migration is permitted in qemu. 
if I trigger suspend just after virsh save. the same error encounter in both suspend and save virsh command: 
error: Failed to save domain 2 to 1.save
error: Timed out during operation: cannot acquire state change lock
after reboot, it works well

linux-vm8:/etc/xen/vm # virsh save 5 5.save
Domain 5 saved to 5.save

linux-vm8:/etc/xen/vm # virsh suspend 5
error: Failed to suspend domain 5
error: internal error Failed to suspend domain '5' with libxenlight

But I guess there is no need to support suspend during migration. So, remove LIBXL_JOB_SUSPEND. 

(2), how about restore? restore use LIBXL_JOB_MODIFY right now.
why restore is not a long-running job? 
Modify restore as LIBXL_ASYNC_JOB_RESTORE. 

2), LIBXL_JOB_ABORT: useful for migration.  
will be used in the migration patch for cancellation the migration. 

3), check libxlDomainJobObj
phase: will be used it in migration. 
virDomainJobInfo info: will be used in migration. 

2, next
1), compile patch
log/novell/hypervisor_and_tools/migrate/201207_add_full_lock/0719_v0.4_prepare_patch
2), test

3, test case
1), test all api which add job control. 
2), list all the api call the job control. 
libxlDomainSuspend
libxlDomainResume
libxlDomainSetMemoryFlags
libxlDomainSetVcpusFlags
libxlDomainAbortJob
libxlDomainObjBeginJobWithDriver
libxlDomainCreateXML
libxlDomainShutdownFlags
libxlDomainReboot
libxlDomainDestroyFlags
libxlDomainCreateWithFlags
libxlDomainModifyDeviceFlags
libxlMigrationJobStart
libxlDoDomainSave
libxlDomainRestoreFlags
libxlDomainCoreDump

4, test 
1), test basic migration
(1), fail: segmentation fault.  because the doMigrateSend not alloc the args
(2), fail: segmentation fault.
linux-vm5:/etc/xen/vm # virsh migrate  sles11_hvm_10_2 xen+ssh://linux-vm8
error: internal error Failed to destroy domain '-1'
看了半天还是有错, 看起来需要从0710, 甚至是0628的patch一步一步实验了. 希望明天卡一解决. 
既然下周hackweek了, 我看也不急发给Jim. 下周发给他就好了. 下周一定要把已有的修改都调通.

18:13 2012-07-19
opensuse, arm, trello
1, "Andrew Wafaa <awafaa@opensuse.org>"_email_"[opensuse-arm] Using Trello"_1736
Aloha all,

After a discussion this morning I've set up a Trello board [0] to try
and help everyone track the goings on, and help focus our efforts. The
board is publicly viewable (or at least should be), and have sent of
member invites (sorry if you didn't want the invite) so people can
actually part take in the fun. If you haven't received an invite and
require one, please let me know.

Regards,

Andy

0 - https://trello.com/board/opensuse-on-arm/5007cfc12cf0ae352e21d8dc

2, I log in with my google account: bamv2005@gmail.com
https://trello.com/
It looks like i need a invitation to join this board. after try opensuse on A10, I guess I could contact with Andrew. 


7:59 2012-7-20
company, virtualization, suse, xen, regular meeting: US / China Virtualization Sync, meeting
1, bo yang
software lockup

2, bamvor 
1, libvirt libxl driver. first send lock patch to upstream. 
2), support QA, L3 team in beijing office. vm-install is good for them. try virsh. 

3, lin ma
1), intel virtualization software manual. 
context switch. model switch?

8:19 2012-7-20
GTD
0, 8:00-8:17 10:15-

1, today
1), 8:00-8:17 sync meeting. see"7:59 2012-7-20"
2), 10:17-10:50 review libvirt libxl migration lock. prepare patch. see"14:28 2012-07-19"
3), reply Marie Louise van Deutekom <marielouise.vandeutekom@attachmate.com>
4), 18:18- work report. 

10:18 2012-07-20
virtualization, libvirt, migration, libxl(xenlight), lock, cont14, prepare send patch to upstream, debug, cont1
1, plan
1), migration is failed. roll back to 0710 and add my modification step by step. 
2), after test finished. write test case for lock. 
3), reorgnize the patch. seperate lock patch. 

2, 0710_v0.3 migration fail on third times(vm5->vm8 pass, vm8->vm5 pass, vm5->vm8 fail). it look like the lock issue. 

12:43 2012-07-20
arm, board, Allwinner, A10, MK802, linux, try ubuntu
1, try lubuntu
https://www.miniand.com/forums/forums/2/topics/1
login GUI is ok. but after login, screen is blank. 
1), the issue is very similar to the link
https://www.miniand.com/forums/forums/1/topics/31
but the issue is not solved. I try the 1920x1080@24Hz, but the monitor says it only support 1920x1080@60Hz.
2), reference aother thread
https://www.miniand.com/forums/forums/2/topics/156
The guys said that "The only build that seems to run fine is the PuppyLinux image.", try this link: http://distro.ibiblio.org/quirky/arm/releases/alpha/

2, try to edit the fex file according to the discuss above:
1), how to convert and edit fex file
http://www.cnx-software.com/2012/05/06/editing-allwinner-a10-board-configuration-files-script-bin/
download sdk. it is said that there is a document in SDK. which will explain the meaning of fex file:
htt://www.mediafire.com/?cvw395mkb75zoiq
password: ainol
2), copy crane_fex_guide.doc from SDK(/home/bamvor/sda7_rd/home/bamvor/work_bak/Allwinner/SDK/crane_sdk_docs)
screen0_output_type=xx
屏0输出类型(0:none; 1:lcd; 2:tv; 3:hdmi; 4:vga)
screen0_output_mode =xx
屏0输出模式(used for tv/hdmi output, 0:480i 1:576i 2:480p 3:576p 4:720p50 5:720p60 6:1080i50 7:1080i60 8:1080p24 9:1080p50 10:1080p60 11:pal 14:ntsc)
3), try on monitor: dell 23'
10: 1080p60: black after login
9: 1080p50: black after login
8: 1080p24: not support by my monitor
7: 1080i60: black after login. display is wrong. only bottom half is displayed. it looks like my monitor does support the 1080i mode. 
6: 1080i50: not support by my monitor
5: 720p60: black after login
4: 720p50: black after login
3: 576p: black after login
2: 480p: not support by my monitor
1: 576i: black. 
0: 480i: not support by my monitor

12:48 2012-07-20
147.2.207.154
passwd: 1234

18:21 2012-07-20
work report - week 29
[devel-server] work report - week 29
[green]
1, libvirt lock for libxl, improve the code: 
1), test lock for libxl api. basic test pass. 
2), improve libxl migration patch. remove the handshake between source and destination. 

10:49 2012-07-23
GTD
0, 10:30-18:49

1, today
1), try linux on mele A1000. see"10:50 2012-07-23". 

10:50 2012-07-23
arm, board, Allwinner, A10, mele A1000, try linux
0, reference document
hacking the mele a1000 
http://rhombus-tech.net/allwinner_a10/hacking_the_mele_a1000/

1, add uart. 
1), connect TTL2USB to A1000
ref: "10:50 2012-07-23"0, "14:20 2012-07-19"1-1)-(1)
LinBin' cable: white: Rx. Green: Tx. 
2), screen /dev/ttyUSB0 115200 
3), it is ok. android console is opened although there is no prompt for this console. 

2, sd tools: a script (makeSD.sh) to write an SD card image to an SD card of any size (as long of there is enough space).
https://github.com/cnxsoft/a10-tools

3, test puppy
0), download
the link I found: http://liliputing.com/2012/06/puppy-linux-on-the-mk802-74-mini-pc.html
download link: http://distro.ibiblio.org/quirky/arm/releases/alpha/
readme file: http://distro.ibiblio.org/quirky/arm/releases/alpha/README-mele-sd-4gb-lui-5.2.90.htm
1), write puppy through makeSD.sh, but there is so error on my sles. fix it
(1), must use root to execute this script or the script can not find the parted command.
(2), git diff -p > patch
diff --git a/makeSD.sh b/makeSD.sh
index 0a03b4a..38cf116 100755
--- a/makeSD.sh
+++ b/makeSD.sh
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/bin/bash
 # Usage ./makeSD.sh /dev/sdx image.bin
 
 checkSyntax () {
@@ -57,8 +57,11 @@ partitionSD () {
 		echo "Failed to format ${1}1 partition"
 		exit 1
 	fi 
-	echo "Format Partition 2 to EXT-4"
-	sudo mkfs.ext4 ${1}2 >> makesd.log
+    echo "sleep 1 second wait for sdb2 accessable"
+    fdisk -l /dev/sdb
+    sleep 1
+	echo "Format Partition 2 to EXT-3"
+	sudo mkfs.ext3 ${1}2 >> makesd.log
 	if [ $? -ne 0 ]; then
 		echo "Failed to format ${1}2 partition"
 		exit 1
2), kernel boot and filesystem mount is ok. but no console, no screen output. 
3), try different display device in bin file. 
there is no vga output discription in the original doc. 
ref: "https://raw.github.com/amery/sunxi-bin-archive/master/mele-a1000/sys_config1.evb.fex", get from "10:50 2012-07-23"0.
;disp init configuration
;
;disp_mode            (0:screen0<screen0,fb0> 1:screen1<screen1,fb0> 2:two_diff_screen_diff_contents<screen0,screen1,fb0,fb1>
;                      3:two_same_screen_diff_contets<screen0,screen1,fb0> 4:two_diff_screen_same_contents<screen0,screen1,fb0>)
;screenx_output_type  (0:none; 1:lcd; 2:tv; 3:hdmi; 4:vga)
;screenx_output_mode  (used for tv/hdmi output, 0:480i 1:576i 2:480p 3:576p 4:720p50 5:720p60 6:1080i50 7:1080i60 8:1080p24 9:1080p50 10:1080p60 11:pal 14:ntsc)
;screenx_output_mode  (used for vga output, 0:1680*1050 1:1440*900 2:1360*768 3:1280*1024 4:1024*768 5:800*600 6:640*480 10:1920*1080 11:1280*720)
;fbx format           (4:RGB655 5:RGB565 6:RGB556 7:ARGB1555 8:RGBA5551 9:RGB888 10:ARGB8888 12:ARGB4444)
;fbx pixel sequence   (0:ARGB 1:BGRA 2:ABGR 3:RGBA) --- 0 for linux, 2 for android
4), mele.bin is not work for A1000, try "sys_config1.mele_mod.bin"
sys_config1.mele_mod.bin is not work too. 
update three bin at the same time: puppy boot ok. VGA output is OK. 
((1)), figure out which fex file is valid one. 
ref: http://www.cnx-software.com/2012/05/06/editing-allwinner-a10-board-configuration-files-script-bin/
For the Ubuntu image provided for the Mele A1000 set-top box, the file is called evb.bin and the two other files (mele.bin and sys_config1.mele_mod.bin) are not used.
The filename can change since it is configurable in u-boot e.g.:
    load1=fatload mmc 0 43000000 evb.bin
    bootcmd=run load1 boot_mmc
Read more: http://www.cnx-software.com/2012/05/06/editing-allwinner-a10-board-configuration-files-script-bin/#ixzz21QqwO8f5
((2)), bamvor: it is worked. only evb.bin is valid. 
5), after login is ok. change password in console. then I can login on uart. 
for uart console login, add the following line in "/etc/inittab":
ttyS0:2345:respawn:/sbin/getty 115200 ttyS0
6), cpufreq is not enable in puppy while it is enable in android ICS: 
30000     48000     60000     72000     84000     96000    108000    120000    132000    144000    156000    168000    180000    192000    204000    216000    240000    264000    288000    300000    336000    360000    384000    408000    432000    480000    528000    576000    600000    648000    672000    696000    720000    744000    768000    816000    864000    912000    960000   1008000   1056000   1104000   1152000   1200000   1248000   1296000   1344000   1392000   1440000   1488000

4, try opensuse
1), create sd card as puppy linux. then cp opensuse root.
2), download opensuse
http://download.opensuse.org/repositories/openSUSE:/Factory:/ARM/images/

5, next
1), continue trying opensuse arm
build gstreamer, alsa, bluetooth packages. 
2), compile kernel add usb audio, usb bluetooth support. enable cpufreq. 
3), try X11 driver: ref"14:20 2012-07-19"6. it is very useful for run opensuse X11 version(XFCE?). 
(1), Mali400 on X11
http://linux-sunxi.org/Mali400

12:34 2012-07-23
hack week, lightning talk
1, lighting talk. 
1) , taiwan: 
(1), security boot. on opensuse.
(2), driver communication with network manager.
(3), bluetooth: a2dp. 
(4), open vswitch. add it into opensuse.
(5), Max(name): information sync?
(6), Ben: study summit kernel patch. focus on wireless and wifi. 
2), beijing
(1), david liang: online desktop. 
there is another similiar project on hackweek proposal.
(2), desktop QA. SNOEK. software for team activity.  support export to open document format. 
python. djangle. 
(3), lifan.  artificial intelligent.
 
17:23 2012-07-23
arm, board, linux, arm mini pc, document, summary
1, some keywords for arm mini pc
1), Cortex-A: arm Cortex-A series gain 1.7x(A8), 2.1x(A9) so as to Arm11. 
2), 1080p: support 1080p video out and 1080p video decoder. 
3), unbrickable: support usb boot and sd boot. the box will never be a brick. 

17:33 2012-07-23
arm, board, Samsung, Exynos4412, Cortex-A9
1, Open Exynos4 Quad Mobile Development Platform
http://www.hardkernel.com/renewal_2011/products/prdt_info.php?g_code=G133999328931
Processor 	Samsung Exynos4412 Cortex-A9 Quad Core 1.4Ghz with 1MB L2 cache
Memory 	1024MB(1GB) LP-DDR2 800Mega data rate
3D Accelerator 	Mali-400 Quad Core
2, resource(less than OMAP I guess): http://dev.odroid.com/

18:45 2012-07-23
arm, Cortex-A7, allwinner, sun6i
1, cortex-A7 qual core: 
http://www.cnbeta.com/articles/196089.htm
2, Cortex-A7比A8, A9的优势(software 100% compatible with A15) 
VFPv4 浮点
硬件虚拟化支持
大物理地址扩展 (LPAE)  

11:11 2012-07-24
GTD
0, 11:00-12:26 -19:30

1, today
1), try linux on mele A1000. see"11:12 2012-07-24".
2), notes: download from github is very slow. try to download to the Server in German. ref"12:57 2012-06-14". password"12:57 2012-06-14"2-6).
3), logAssistant: write a script for outputing find_keyword result to vim buffer. see"13:39 2012-07-24". not start yet.  

11:12 2012-07-24
arm, board, Allwinner, A10, mele A1000, try linux, cont1
1, try opensuse arm based on puppy kernel. 
1), http://download.opensuse.org/repositories/openSUSE:/Factory:/ARM/images/LimeJeOS-openSUSE-12.2-ARM-rootfs.armv7l-1.12.1-Build17.1-tbz.tar.bz2
(12:48 2012-09-11)
download opensuse12.2 arm: 
http://download.opensuse.org/repositories/openSUSE:/12.2:/ARM/images/
"12:48 2012-09-11"
2), username: root; passwd: linux. 
ref: http://lizards.opensuse.org/2012/01/21/opensuse-arm-image/
3), login successful, but the ethernet driver is broken. I can not update my suse. 
Welcome to Dummy Product - Kernel 3.0.8+ (ttyS0).

linux login: root
Password:        
Last login: Fri Jan  1 00:15:04 on ttyS0
This is the Lime-JeOS 12.2 SuSE Linux System.
To upgrade your system call:

    zypper refresh
    zypper install -t product openSUSE-12.2
4), try framebuffer console fail. 
console=tty0,115200,vga=711 root=/dev/mmcblk0p2 init=/init loglevel=8 rootfstype=ext4 rootwait
console=fb0 root=/dev/mmcblk0p2 init=/init loglevel=8 rootfstype=ext4 rootwait
console=vcs1 root=/dev/mmcblk0p2 init=/init loglevel=8 rootfstype=ext4 rootwait

2, arm compiler(register through gmail)
Sourcery CodeBench Lite Edition for ARM GNU/Linux
Download:
https://sourcery.mentor.com/sgpp/lite/arm/portal/subscription3057?lite=ARM&signature=4-1343369674-0-1a31fd4bccfed2b180e232a2b1369794c90d210c
Installation Key: A729F12F01B9-970AF6DB 

3, compile kernel
1), ethernet is not work
(1), kernel boot log
[    1.570000] wemac Ethernet Driver, V1.00 in file:drivers/net/sun4i/sun4i_wemac.c
[    1.590000] can't get information emac_power gpio
[    1.590000] [EMAC] ahb clk enable
[    1.600000] [EMAC] ahb gate clk: 0x26140
[    1.620000] wemac wemac.0: PHY SETUP, reg 0 value: 3100
[    1.630000] emac MAC isn't valid!
[    1.630000] wemac wemac.0: resetting device
[    1.640000] release temp resource
(2), if up fail: 
linux:~ # ifconfig eth0 down
<7>wemac wemac.0: shutting down eth0
linux:~ # ifconfig eth0 up
<7>wemac wemac.0: enabling eth0
<4>wemac wemac.0: WARNING: no IRQ resource flags set.
<7>wemac wemac.0: resetting device
<6>wemac wemac.0: eth0: link down
<6>ADDRCONF(NETDEV_UP): eth0: link is not ready
2), but ethernet led blink in u-boot is OK. 
4, next
1), network, three option
(1), try usb host net card. 
(2), try usb gadet
(3), try wireless. ref"14:20 2012-07-19"8-1).
(1), try usb host net card. 
2), try framebuffer console                       
3), open vga on. I guess there is some paramenter in display module. If it is not work for me. try the link in "14:20 2012-07-19"8-1).
4), network is ok. try update. check usb sound, usb bluetooth relative package is build or not. 

5, build kernel on my own machine
1), modify kernel config
(1), build realtek phy. mele A1000 use realtek RTL8201 phy. 
(2), enable usb audio and usb BCM 203x bluetooth. 
(3), enable config.gz in proc. 
CONFIG_IKCONFIG_PROC 
Location:
     -> General setup
     -> Kernel .config support (IKCONFIG [=y])
(4), enable framebuffer console
2), ethernet still not work. wireless not work. usb audio device looks good. 
(1), wireless log
linux:/ # ifconfig wlan0 up
+871x_drv - drv_open, bup=0
 ===> FirmwareDownload91C() fw:Rtl819XFwImageArray_TSMC
FirmwareDownload92C accquire FW from embedded image
fw_ver=v79, fw_subver=0, sig=0x88c0
fw download ok!
Set RF Chip ID to RF_6052 and RF type to 1T1R.
IQK:Start!!!
Path A IQK Success!!
Path A IQK Success!!
IQK: final_candidate is 0
IQK: RegE94=101 RegE9C=11 RegEA4=fd RegEAC=3fd RegEB4=0 RegEBC=0 RegEC4=0 RegECC=0
 Path A IQ Calibration Success !
pdmpriv->TxPowerTrackControl = 1
MAC Address from REG_MACID = 00:94:8b:00:40:e8
rtl8192cu_hal_init in 930ms
MAC Address = 00:94:8b:00:40:e8
-871x_drv - drv_open, bup=1
<6>ADDRCONF(NETDEV_UP): wlan0: link is not ready
linux:/ # ==>pwr_state_check_handler .fw_state(0)
==> rtw_ps_cmd  , enqueue CMD
==>rtw_ps_processor .fw_state(0)
==>ips_enter cnts:1
==>power_saving_ctrl_wk_hdl change rf to OFF...LED(0x00020808)....

===> rtw_ips_pwr_down...................
====> rtw_ips_dev_unload...
usb_read_port_cancel
usb_write_port_cancel
==> rtl8192cu_hal_deinit
bkeepfwalive(0)
card disble without HWSM...........
<=== rtw_ips_pwr_down..................... in 160ms

(2), usb audio
linux:/ # ls /dev/snd/
by-path  controlC0  controlC1  pcmC0D0c  pcmC0D0p  pcmC1D0p  timer
linux:/ # 
linux:/ # <6>usb 2-1.3: new full speed USB device number 6 using sw-ehci
<6>input: C-Media USB Headphone Set   as /devices/platform/sw-ehci.1/usb2/2-1/2-1.3/2-1.3:1.3/input/input4
<6>generic-usb 0003:0D8C:000C.0004: input: USB HID v1.00 Device [C-Media USB Headphone Set  ] on usb-sw-ehci-1.3/input3
linux:/ # ls /dev/snd/
by-id    controlC0  controlC2  pcmC0D0p  pcmC2D0c  timer
by-path  controlC1  pcmC0D0c   pcmC1D0p  pcmC2D0p

12:41 2012-07-24
hackweek, about my plan
1, initial version(before hackweek, about May)
1), list what i want to do, discuss with jiaju to see  which one is good for hackweek.
(1), plan: music in convert to bluetooth out. 
((1)), test it on gnome on PC.
((2)), port to opensuse-arm. 
it looks like hackweek need something about openSUSE? 

13:39 2012-07-24
logAssistant, vim, logAssitant for vim, logAssistant: write a script for outputing find_keyword result to vim buffer
1, ref "~/.vim/plugin/taglist.vim"

14:55 2012-07-24
software, skill, git, using depth for fast clone or fetch; another way for fetching the repo
1, git clone with depth=1(means clone 2 level code). 
git clone --depth=1 git://github.com/amery/uboot-allwinner.git
2, aother way for fetching the repo
> git init
Initialized empty Git repository in /home/bamvor/sda7_rd/home/bamvor/work_bak/Allwinner/source/linux-allwinner_0/.git/
> git remote add origin git://github.com/amery/linux-allwinner.git
> git fetch --depth=1
remote: Counting objects: 118102, done.
remote: Compressing objects: 100% (82336/82336), done.
Receiving objects:   1% (1688/118102), 3.26 MiB | 3 KiB/s

11:18 2012-07-25
GTD
0, 11:10-12:35 13:16-13:30 14:02-18:39

1, today
1), 11:20-12:35 14:44-18:40 try linux on mele A1000. see"11:39 2012-07-25". 
1h: person stuff
2), try cpan ack. see"13:17 2012-07-25"

11:39 2012-07-25
arm, board, Allwinner, A10, mele A1000, try linux, cont2
1, plan
1), continue trying network
(1), try usb host network card. 
2), try framebuffer console                       
3), open vga on. I guess there is some paramenter in display module. If it is not work for me. try the link in "14:20 2012-07-19"8-1).
4), if network is ok. try update. check usb sound, usb bluetooth relative package is build or not. 

2, try usb host network card.
1), kernel crash
<4>------------[ cut here ]------------
<4>WARNING: at lib/list_debug.c:53 __list_del_entry+0xc0/0xe4()
list_del corruption. prev->next should be d997a000, but was e1a0c00d
<d>Modules linked in:
Backtrace:
[<c003d168>] (dump_backtrace+0x0/0x110) from [<c05aca40>] (dump_stack+0x18/0x1c)
 r6:00000035 r5:c02e1bd8 r4:d99a5d50 r3:00000000
[<c05aca28>] (dump_stack+0x0/0x1c) from [<c0068da4>] (warn_slowpath_common+0x5c/0x6c)
[<c0068d48>] (warn_slowpath_common+0x0/0x6c) from [<c0068e58>] (warn_slowpath_fmt+0x38/0x40)
 r8:c0640c04 r7:80c13151 r6:c0640c03 r5:e1a0c00d r4:00000000
r3:00000009
[<c0068e20>] (warn_slowpath_fmt+0x0/0x40) from [<c02e1bd8>] (__list_del_entry+0xc0/0xe4)
 r3:d997a000 r2:c0756a88
[<c02e1b18>] (__list_del_entry+0x0/0xe4) from [<c02e1c10>] (list_del+0x14/0x2c)
 r5:c0640b0c r4:d997a000
[<c02e1bfc>] (list_del+0x0/0x2c) from [<c0288918>] (cachefiles_read_backing_file+0x28c/0x6c0)
 r4:0000001a r3:c0640b0c
[<c02a7fcc>] (des3_ede_encrypt+0x0/0x2990) from [<c0295a70>] (cipher_encrypt_unaligned+0x34/0x4c)
[<c0295a3c>] (cipher_encrypt_unaligned+0x0/0x4c) from [<c029e310>] (test_cipher+0x110/0x1d0)
 r6:d997b000 r5:c07ce620 r4:d997a000 r3:c0295a3c
[<c029e200>] (test_cipher+0x0/0x1d0) from [<c029fc54>] (alg_test+0x14c/0x1c4)
[<c029fb08>] (alg_test+0x0/0x1c4) from [<c029d518>] (cryptomgr_test+0x48/0x50)
[<c029d4d0>] (cryptomgr_test+0x0/0x50) from [<c00865cc>] (kthread+0x90/0x94)
 r4:d983be40 r3:00000000
[<c008653c>] (kthread+0x0/0x94) from [<c006d0d0>] (do_exit+0x0/0x748)
 r6:c006d0d0 r5:c008653c r4:d983be40
<4>---[ end trace 65f8ea860415c04f ]---
<1>Unable to handle kernel NULL pointer dereference at virtual address 00000c04
<1>pgd = c0004000
<1>[00000c04] *pgd=00000000
<0>Internal error: Oops: 5 [#1] PREEMPT
<d>Modules linked in:
CPU: 0    Tainted: G        W    (3.0.38+ #1)
PC is at cachefiles_read_backing_file+0x2a0/0x6c0
LR is at add_taint+0x50/0x64
pc : [<c028892c>]    lr : [<c0068944>]    psr: 20000013
sp : d99a5da8  ip : 00000c00  fp : d99a5eb4
r10: 3c3e1a05  r9 : c0640c19  r8 : c0640c04
r7 : 80c13151  r6 : c0640c03  r5 : c0640b0c  r4 : 0000001a
r3 : c0640b0c  r2 : 00100100  r1 : c0803bf0  r0 : 00000000
Flags: nzCv  IRQs on  FIQs on  Mode SVC_32  ISA ARM  Segment kernel
Control: 10c5387d  Table: 40004019  DAC: 00000015

PC: 0xc02888ac:
88ac  e58a7004 e1a0100a ebf8ef7e e10f2000 f10c0080 e597a000 e38a1001 e5871000
88cc  e121f002 e31a0001 1a000001 e1a00007 ebf8ef38 e1a00007 e3a07000 ebf92259
88ec  e1a00005 ebf92257 e1a0a007 e51b007c e5b05018 e1500008 e2453018 0a0000bd
890c  e51b507c e50b307c eb0164b8 e595c000 e31c0902 1595c00c 01a0c005 e35a0000
892c  e59c3004 1affff7b e5990018 e3500000 0a00009d e30810d0 ebf9da56 e250a000
894c  0a0000b8 e51b0070 e280c020 e19c2f9f e2822001 e18c1f92 e3310000 1afffffa
896c  e51b7074 e3a03000 e58a001c e1a00006 e58a3000 e98a0088 e5951014 ebf8ee6f
898c  e2507000 0affff68 e5973000 e3130002 1a0000b1 e597c000 e31c0008 0a000072

LR: 0xc00688c4:
88c4  e24cb004 e3500000 e280301f e303cbf0 e34cc080 a1a03000 e200101f e1a022c3
88e4  e79c3102 e1a00133 e2000001 e89da800 e1a0c00d e92dd818 e24cb004 e2403009
8904  e1a04000 e3530002 9a000008 e305c2b4 e3a02000 e34cc07d e19c1f9f e18c0f92
8924  e3300000 1afffffb e1510002 1a000004 e3031bf0 e1a00004 e34c1080 eb0998be
8944  e89da818 e3000e68 e34c0072 eb1510d4 eafffff6 e1a0c00d e92dd830 e24cb004
8964  e3030bf0 e34c0080 e3001418 e18040d1 e1943005 0a000006 e3a02001 e0922004
8984  e3a03000 e0a33005 e18020f1 e3a00000 e89da830 e2800e41 e3a01008 e0800001
89a4  eb0b0754 e3a00000 e89da830 e1a0c00d e92dd8f0 e24cb004 e10f7000 f10c0080

SP: 0xd99a5d28:
5d28  e1a0c00d c0640c03 80c13151 c0640c04 d99a5d64 d99a5d48 0000040f 00000005
5d48  c0640c03 80c13151 d99a5eb4 d99a5d60 c0038f90 c00321fc 00000000 c0803bf0
5d68  00100100 c0640b0c 0000001a c0640b0c c0640c03 80c13151 c0640c04 c0640c19
5d88  3c3e1a05 d99a5eb4 00000c00 d99a5da8 c0068944 c028892c 20000013 ffffffff
5da8  42000100 d0822221 02013003 038210c0 d99a5eac d99a5dc8 3f3f3f3f 3f3f3f3f
5dc8  3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f
5de8  3f3f3f3f 3f3f3f3f 00000008 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f
5e08  3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f

FP: 0xd99a5e34:
5e34  3f3f3f3f c0640b0c 3f3f3f3f fc2e988e 964f8b4a 3f4b59e2 3f3f3f3f 3f3f3f3f
5e54  3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f
5e74  3c3e1a05 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 00000018 d997a000 00000003
5e94  d997b000 00000000 00000001 00000002 00000001 d99a5ed4 d99a5eb8 c0295a70
5eb4  c02a7fd8 c0295a3c d997a000 c07ce620 d997b000 d99a5f34 d99a5ed8 c029e310
5ed4  c0295a48 0000040f c074fb5c c07d3cf4 00000003 d997b000 d997c000 d997d000
5ef4  d997e000 d997f000 d9980000 d9981000 d9982000 c0295968 00000001 c0639d8c
5f14  000000bd d98d8540 d997a000 00000000 00000400 d99a5fa4 d99a5f38 c029fc54

R1: 0xc0803b70:
3b70  3b9aca00 00000000 3b9aca00 00000000 c005ea40 c07c5ee8 00000001 00000001
3b90  c005f480 70617773 00726570 00000000 00000000 00000000 00000000 00000000
3bb0  00000000 ffff8cc5 00000000 00000000 00000000 d9807200 d9807300 d9807400
3bd0  00001334 d9807480 d9807280 0000001a 0000001e d9802100 d9807380 00000000
3bf0  00000200 00000000 00000000 00000000 00000000 00000000 00000000 00000000
3c10  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
3c30  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
3c50  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000

R3: 0xc0640a8c:
0a8c  00005800 0000cf00 0000d000 0000ef00 0000aa00 0000fb00 00004300 00004d00
0aac  00003300 00008500 00004500 0000f900 00000200 00007f00 00005000 00003c00
0acc  00009f00 0000a800 00005100 0000a300 00004000 00008f00 00009200 00009d00
0aec  00003800 0000f500 0000bc00 0000b600 0000da00 00002100 00001000 0000ff00
0b0c  0000f300 0000d200 0000cd00 00000c00 00001300 0000ec00 00005f00 00009700
0b2c  00004400 00001700 0000c400 0000a700 00007e00 00003d00 00006400 00005d00
0b4c  00001900 00007300 00006000 00008100 00004f00 0000dc00 00002200 00002a00
0b6c  00009000 00008800 00004600 0000ee00 0000b800 00001400 0000de00 00005e00

R5: 0xc0640a8c:
0a8c  00005800 0000cf00 0000d000 0000ef00 0000aa00 0000fb00 00004300 00004d00
0aac  00003300 00008500 00004500 0000f900 00000200 00007f00 00005000 00003c00
0acc  00009f00 0000a800 00005100 0000a300 00004000 00008f00 00009200 00009d00
0aec  00003800 0000f500 0000bc00 0000b600 0000da00 00002100 00001000 0000ff00
0b0c  0000f300 0000d200 0000cd00 00000c00 00001300 0000ec00 00005f00 00009700
0b2c  00004400 00001700 0000c400 0000a700 00007e00 00003d00 00006400 00005d00
0b4c  00001900 00007300 00006000 00008100 00004f00 0000dc00 00002200 00002a00
0b6c  00009000 00008800 00004600 0000ee00 0000b800 00001400 0000de00 00005e00

R6: 0xc0640b83:
0b80  00001400 0000de00 00005e00 00000b00 0000db00 0000e000 00003200 00003a00
0ba0  00000a00 00004900 00000600 00002400 00005c00 0000c200 0000d300 0000ac00
0bc0  00006200 00009100 00009500 0000e400 00007900 0000e700 0000c800 00003700
0be0  00006d00 00008d00 0000d500 00004e00 0000a900 00006c00 00005600 0000f400
0c00  0000ea00 00006500 00007a00 0000ae00 00000800 0000ba00 00007800 00002500
0c20  00002e00 00001c00 0000a600 0000b400 0000c600 0000e800 0000dd00 00007400
0c40  00001f00 00004b00 0000bd00 00008b00 00008a00 00007000 00003e00 0000b500
0c60  00006600 00004800 00000300 0000f600 00000e00 00006100 00003500 00005700
0c80  0000b900 00008600 0000c100 00001d00 00009e00 0000e100 0000f800 00009800

R8: 0xc0640b84:
0b84  0000de00 00005e00 00000b00 0000db00 0000e000 00003200 00003a00 00000a00
0ba4  00004900 00000600 00002400 00005c00 0000c200 0000d300 0000ac00 00006200
0bc4  00009100 00009500 0000e400 00007900 0000e700 0000c800 00003700 00006d00
0be4  00008d00 0000d500 00004e00 0000a900 00006c00 00005600 0000f400 0000ea00
0c04  00006500 00007a00 0000ae00 00000800 0000ba00 00007800 00002500 00002e00
0c24  00001c00 0000a600 0000b400 0000c600 0000e800 0000dd00 00007400 00001f00
0c44  00004b00 0000bd00 00008b00 00008a00 00007000 00003e00 0000b500 00006600
0c64  00004800 00000300 0000f600 00000e00 00006100 00003500 00005700 0000b900

R9: 0xc0640b99:
0b98  00003200 00003a00 00000a00 00004900 00000600 00002400 00005c00 0000c200
0bb8  0000d300 0000ac00 00006200 00009100 00009500 0000e400 00007900 0000e700
0bd8  0000c800 00003700 00006d00 00008d00 0000d500 00004e00 0000a900 00006c00
0bf8  00005600 0000f400 0000ea00 00006500 00007a00 0000ae00 00000800 0000ba00
0c18  00007800 00002500 00002e00 00001c00 0000a600 0000b400 0000c600 0000e800
0c38  0000dd00 00007400 00001f00 00004b00 0000bd00 00008b00 00008a00 00007000
0c58  00003e00 0000b500 00006600 00004800 00000300 0000f600 00000e00 00006100
0c78  00003500 00005700 0000b900 00008600 0000c100 00001d00 00009e00 0000e100
0c98  0000f800 00009800 00001100 00006900 0000d900 00008e00 00009400 00009b00
<0>Process cryptomgr_test (pid: 30, stack limit = 0xd99a42e8)
<0>Stack: (0xd99a5da8 to 0xd99a6000)
<0>5da0:                   42000100 d0822221 02013003 038210c0 d99a5eac d99a5dc8
<0>5dc0: 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f
<0>5de0: 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 00000008 3f3f3f3f 3f3f3f3f 3f3f3f3f
<0>5e00: 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f
<0>5e20: 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f c0640b0c 3f3f3f3f
<0>5e40: fc2e988e 964f8b4a 3f4b59e2 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f
<0>5e60: 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3f3f3f3f 3c3e1a05 3f3f3f3f 3f3f3f3f
<0>5e80: 3f3f3f3f 3f3f3f3f 00000018 d997a000 00000003 d997b000 00000000 00000001
<0>5ea0: 00000002 00000001 d99a5ed4 d99a5eb8 c0295a70 c02a7fd8 c0295a3c d997a000
<0>5ec0: c07ce620 d997b000 d99a5f34 d99a5ed8 c029e310 c0295a48 0000040f c074fb5c
<0>5ee0: c07d3cf4 00000003 d997b000 d997c000 d997d000 d997e000 d997f000 d9980000
<0>5f00: d9981000 d9982000 c0295968 00000001 c0639d8c 000000bd d98d8540 d997a000
<0>5f20: 00000000 00000400 d99a5fa4 d99a5f38 c029fc54 c029e20c 28626365 33736564
<0>5f40: 6564655f d99a0029 00000001 c029d4d0 d99a5f84 d99a5f60 c003ba50 d99a4000
<0>5f60: d983be50 c029d4d0 00000013 00000000 00000000 00000000 d99a5f9c d98d8540
<0>5f80: d98d8540 c029d4d0 00000013 00000000 00000000 00000000 d99a5fbc d99a5fa8
<0>5fa0: c029d518 c029fb14 00000000 d983be40 d99a5ff4 d99a5fc0 c00865cc c029d4dc
<0>5fc0: d983be40 00000000 d98d8540 00000000 d99a5fd0 d99a5fd0 00000000 d983be40
<0>5fe0: c008653c c006d0d0 00000000 d99a5ff8 c006d0d0 c0086548 00000000 00000000
Backtrace:
[<c02a7fcc>] (des3_ede_encrypt+0x0/0x2990) from [<c0295a70>] (cipher_encrypt_unaligned+0x34/0x4c)
[<c0295a3c>] (cipher_encrypt_unaligned+0x0/0x4c) from [<c029e310>] (test_cipher+0x110/0x1d0)
 r6:d997b000 r5:c07ce620 r4:d997a000 r3:c0295a3c
[<c029e200>] (test_cipher+0x0/0x1d0) from [<c029fc54>] (alg_test+0x14c/0x1c4)
[<c029fb08>] (alg_test+0x0/0x1c4) from [<c029d518>] (cryptomgr_test+0x48/0x50)
[<c029d4d0>] (cryptomgr_test+0x0/0x50) from [<c00865cc>] (kthread+0x90/0x94)
 r4:d983be40 r3:00000000
[<c008653c>] (kthread+0x0/0x94) from [<c006d0d0>] (do_exit+0x0/0x748)
 r6:c006d0d0 r5:c008653c r4:d983be40
<0>Code: e31c0902 1595c00c 01a0c005 e35a0000 (e59c3004)
<4>---[ end trace 65f8ea860415c050 ]---
2), crash at crypto/algboss.c
3), it is ok on the second boot. 
4), configure network
linux:/ # ifconfig eth1 147.2.207.78 netmask 255.255.255.0
<6>ADDRCONF(NETDEV_UP): eth1: link is not ready           
linux:/ # route <6>ADDRCONF(NETDEV_CHANGE): eth1: link becomes ready
<6>smsc95xx 2-1.2:1.0: eth1: link up, 100Mbps, full-duplex, lpa 0x45E1      
linux:/ #                                                                   
linux:/ # <7>eth1: no IPv6 routers present
linux:/ # route add default gw 147.2.207.254 
linux:/ # tail -n 2 /etc/resolv.conf
### Please remove (at least) this line when you modify the file!
nameserver 147.2.212.56
linux:/ # ping www.baidu.com                 
PING www.a.shifen.com (220.181.111.147) 56(84) bytes of data.
64 bytes from 220.181.111.147: icmp_seq=1 ttl=43 time=128 ms 
64 bytes from 220.181.111.147: icmp_seq=2 ttl=43 time=174 ms 
^C
--- www.a.shifen.com ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1002ms
rtt min/avg/max/mdev = 128.236/151.148/174.061/22.915 ms

3, try usb audio through gstreamer
1), test successful, although there are some warnings. 
linux:~ # aplay -l
**** List of PLAYBACK Hardware Devices ****
card 0: sun4icodec [sun4i-CODEC], device 0: M1 PCM [sun4i PCM]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 1: sun4isndhdmi [sun4i-sndhdmi], device 0: SUN4I-HDMIAUDIO sndhdmi-0 []
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 2: Set [C-Media USB Headphone Set], device 0: USB Audio [USB Audio]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
linux:~ # gst-launch-0.10 alsasrc device=hw:2 ! audioconvert ! audioresample ! vorbisenc ! oggmux ! filesink location=record1.ogg
Setting pipeline to PAUSED ...
Pipeline is live and does not need PREROLL ...
Setting pipeline to PLAYING ...
New clock: GstAudioSrcClock
Redistribute latency...
WARNING: from element /GstPipeline:pipeline0/GstAlsaSrc:alsasrc0: Can't record audio fast enough
Additional debug info:
gstbaseaudiosrc.c(840): gst_base_audio_src_create (): /GstPipeline:pipeline0/GstAlsaSrc:alsasrc0:
Dropped 9702 samples. This is most likely because downstream can't keep up and is consuming samples too slowly.
^CCaught interrupt -- handling interrupt.
Interrupt: Stopping pipeline ...
Execution ended after 10277958537 ns.
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
linux:~ # gst-launch-0.10 filesrc location=record1.ogg ! decodebin ! audioconvert ! audioresample ! alsasink device=hw:2
Setting pipeline to PAUSED ...
Pipeline is PREROLLING ...
Pipeline is PREROLLED ...
Setting pipeline to PLAYING ...
New clock: GstAudioSinkClock
Got EOS from element "pipeline0".
Execution ended after 9933087479 ns.
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...
linux:~ #

4, enable vga fail, 
1), fault at lcdc clk on, I guess I can fix it.
linux:~ # ./vga
<1>Unable to handle kernel NULL pointer dereference at virtual address 00000008
[10812.080000] Unable to handle kernel NULL pointer dereference at virtual address 00000008
<1>pgd = d9260000
[10812.120000] pgd = d9260000
<1>[00000008] *pgd=57267831[10812.120000] [00000008] *pgd=57267831, *pte=00000000, *pte=00000000, *ppte=00000000, *ppte=00000000

<0>Internal error: Oops: 17 [#3] PREEMPT
[10812.140000] Internal error: Oops: 17 [#3] PREEMPT
<d>Modules linked in:[10812.140000] Modules linked in: hdmi hdmi disp disp ump ump snd_usb_audio snd_usb_audio snd_hwdep snd_hwdep snd_usbmidi_lib snd_usbmidi_lib snd_rawmidi snd_rawmidi smsc95xx smsc95xx usbnet usbnet 8192cu 8192cu

CPU: 0    Tainted: G      D      (3.0.38+ #1)
[10812.140000] CPU: 0    Tainted: G      D      (3.0.38+ #1)
PC is at OSAL_CCMU_MclkOnOff+0x3c/0x58 [disp]
[10812.140000] PC is at OSAL_CCMU_MclkOnOff+0x3c/0x58 [disp]
LR is at lcdc_clk_on+0x38/0xa4 [disp]
[10812.140000] LR is at lcdc_clk_on+0x38/0xa4 [disp]
pc : [<bf102fd4>]    lr : [<bf10ee20>]    psr: 20000013
sp : d91bfdd0  ip : d91bfde8  fp : d91bfde4
[10812.140000] pc : [<bf102fd4>]    lr : [<bf10ee20>]    psr: 20000013
[10812.140000] sp : d91bfdd0  ip : d91bfde8  fp : d91bfde4
r10: 00000000  r9 : 00000000  r8 : 00000004
[10812.140000] r10: 00000000  r9 : 00000000  r8 : 00000004
r7 : 00000000  r6 : bf129498  r5 : bf129498  r4 : 00000000
[10812.140000] r7 : 00000000  r6 : bf129498  r5 : bf129498  r4 : 00000000
r3 : 00000000  r2 : 00000000  r1 : 00000001  r0 : 00000000
[10812.140000] r3 : 00000000  r2 : 00000000  r1 : 00000001  r0 : 00000000
Flags: nzCv  IRQs on  FIQs on  Mode SVC_32  ISA ARM  Segment user
[10812.140000] Flags: nzCv  IRQs on  FIQs on  Mode SVC_32  ISA ARM  Segment user
Control: 10c5387d  Table: 59260019  DAC: 00000015
[10812.140000] Control: 10c5387d  Table: 59260019  DAC: 00000015

SP: 0xd91bfd50:
[10812.140000]
[10812.140000] SP: 0xd91bfd50:
fd50 [10812.140000] fd50  d91bfddc d91bfddc d91bfd90 d91bfd90 c005def8 c005def8 c00e2470 c00e2470 00000000 00000000 c005def8 c005def8 0000040f 0000040f 00000007 00000007

fd70 [10812.140000] fd70  bf129498 bf129498 00000000 00000000 d91bfde4 d91bfde4 d91bfd88 d91bfd88 c0038f90 c0038f90 c00321fc c00321fc 00000000 00000000 00000001 00000001

fd90 [10812.140000] fd90  00000000 00000000 00000000 00000000 00000000 00000000 bf129498 bf129498 bf129498 bf129498 00000000 00000000 00000004 00000004 00000000 00000000

fdb0 [10812.140000] fdb0  00000000 00000000 d91bfde4 d91bfde4 d91bfde8 d91bfde8 d91bfdd0 d91bfdd0 bf10ee20 bf10ee20 bf102fd4 bf102fd4 20000013 20000013 ffffffff ffffffff

fdd0 [10812.140000] fdd0  00000000 00000000 bf129430 bf129430 d91bfdfc d91bfdfc d91bfde8 d91bfde8 bf10ee20 bf10ee20 bf102fa4 bf102fa4 00000000 00000000 bf129498 bf129498

fdf0 [10812.140000] fdf0  d91bfe24 d91bfe24 d91bfe00 d91bfe00 bf11d6dc bf11d6dc bf10edf4 bf10edf4 d91be000 d91be000 00000004 00000004 000001fc 000001fc 00000000 00000000

fe10 [10812.140000] fe10  c00397c4 c00397c4 00000000 00000000 d91bfef4 d91bfef4 d91bfe28 d91bfe28 bf0febf0 bf0febf0 bf11d6ac bf11d6ac d905e7b4 d905e7b4 bf124974 bf124974

fe30 [10812.140000] fe30  d91bfe5c d91bfe5c d91bfe40 d91bfe40 c02d7418 c02d7418 c005de60 c005de60 d905e780 d905e780 402297d0 402297d0 c0894604 c0894604 d91bffb0 d91bffb0


IP: 0xd91bfd68:
[10812.140000]
[10812.140000] IP: 0xd91bfd68:
fd68 [10812.140000] fd68  0000040f 0000040f 00000007 00000007 bf129498 bf129498 00000000 00000000 d91bfde4 d91bfde4 d91bfd88 d91bfd88 c0038f90 c0038f90 c00321fc c00321fc

fd88 [10812.140000] fd88  00000000 00000000 00000001 00000001 00000000 00000000 00000000 00000000 00000000 00000000 bf129498 bf129498 bf129498 bf129498 00000000 00000000

fda8 [10812.140000] fda8  00000004 00000004 00000000 00000000 00000000 00000000 d91bfde4 d91bfde4 d91bfde8 d91bfde8 d91bfdd0 d91bfdd0 bf10ee20 bf10ee20 bf102fd4 bf102fd4

fdc8 [10812.140000] fdc8  20000013 20000013 ffffffff ffffffff 00000000 00000000 bf129430 bf129430 d91bfdfc d91bfdfc d91bfde8 d91bfde8 bf10ee20 bf10ee20 bf102fa4 bf102fa4

fde8 [10812.140000] fde8  00000000 00000000 bf129498 bf129498 d91bfe24 d91bfe24 d91bfe00 d91bfe00 bf11d6dc bf11d6dc bf10edf4 bf10edf4 d91be000 d91be000 00000004 00000004

fe08 [10812.140000] fe08  000001fc 000001fc 00000000 00000000 c00397c4 c00397c4 00000000 00000000 d91bfef4 d91bfef4 d91bfe28 d91bfe28 bf0febf0 bf0febf0 bf11d6ac bf11d6ac

fe28 [10812.140000] fe28  d905e7b4 d905e7b4 bf124974 bf124974 d91bfe5c d91bfe5c d91bfe40 d91bfe40 c02d7418 c02d7418 c005de60 c005de60 d905e780 d905e780 402297d0 402297d0

fe48 [10812.140000] fe48  c0894604 c0894604 d91bffb0 d91bffb0 d91bfe6c d91bfe6c d91bfe60 d91bfe60 c008b970 c008b970 c02d7394 c02d7394 d91bff04 d91bff04 d91bfe70 d91bfe70


FP: 0xd91bfd64:
[10812.140000]
[10812.140000] FP: 0xd91bfd64:
fd64 [10812.140000] fd64  c005def8 c005def8 0000040f 0000040f 00000007 00000007 bf129498 bf129498 00000000 00000000 d91bfde4 d91bfde4 d91bfd88 d91bfd88 c0038f90 c0038f90

fd84 [10812.140000] fd84  c00321fc c00321fc 00000000 00000000 00000001 00000001 00000000 00000000 00000000 00000000 00000000 00000000 bf129498 bf129498 bf129498 bf129498

fda4 [10812.140000] fda4  00000000 00000000 00000004 00000004 00000000 00000000 00000000 00000000 d91bfde4 d91bfde4 d91bfde8 d91bfde8 d91bfdd0 d91bfdd0 bf10ee20 bf10ee20

fdc4 [10812.140000] fdc4  bf102fd4 bf102fd4 20000013 20000013 ffffffff ffffffff 00000000 00000000 bf129430 bf129430 d91bfdfc d91bfdfc d91bfde8 d91bfde8 bf10ee20 bf10ee20

fde4 [10812.140000] fde4  bf102fa4 bf102fa4 00000000 00000000 bf129498 bf129498 d91bfe24 d91bfe24 d91bfe00 d91bfe00 bf11d6dc bf11d6dc bf10edf4 bf10edf4 d91be000 d91be000

fe04 [10812.140000] fe04  00000004 00000004 000001fc 000001fc 00000000 00000000 c00397c4 c00397c4 00000000 00000000 d91bfef4 d91bfef4 d91bfe28 d91bfe28 bf0febf0 bf0febf0

fe24 [10812.140000] fe24  bf11d6ac bf11d6ac d905e7b4 d905e7b4 bf124974 bf124974 d91bfe5c d91bfe5c d91bfe40 d91bfe40 c02d7418 c02d7418 c005de60 c005de60 d905e780 d905e780

fe44 [10812.140000] fe44  402297d0 402297d0 c0894604 c0894604 d91bffb0 d91bffb0 d91bfe6c d91bfe6c d91bfe60 d91bfe60 c008b970 c008b970 c02d7394 c02d7394 d91bff04 d91bff04

<0>Process vga (pid: 5418, stack limit = 0xd91be2e8)
[10812.140000] Process vga (pid: 5418, stack limit = 0xd91be2e8)
<0>Stack: (0xd91bfdd0 to 0xd91c0000)
[10812.140000] Stack: (0xd91bfdd0 to 0xd91c0000)
<0>fdc0:                                     00000000 bf129430 d91bfdfc d91bfde8
[10812.140000] fdc0:                                     00000000 bf129430 d91bfdfc d91bfde8
<0>fde0: bf10ee20 bf102fa4 00000000 bf129498 d91bfe24 d91bfe00 bf11d6dc bf10edf4
[10812.140000] fde0: bf10ee20 bf102fa4 00000000 bf129498 d91bfe24 d91bfe00 bf11d6dc bf10edf4
<0>fe00: d91be000 00000004 000001fc 00000000 c00397c4 00000000 d91bfef4 d91bfe28
[10812.140000] fe00: d91be000 00000004 000001fc 00000000 c00397c4 00000000 d91bfef4 d91bfe28
<0>fe20: bf0febf0 bf11d6ac d905e7b4 bf124974 d91bfe5c d91bfe40 c02d7418 c005de60
[10812.140000] fe20: bf0febf0 bf11d6ac d905e7b4 bf124974 d91bfe5c d91bfe40 c02d7418 c005de60
<0>fe40: d905e780 402297d0 c0894604 d91bffb0 d91bfe6c d91bfe60 c008b970 c02d7394
[10812.140000] fe40: d905e780 402297d0 c0894604 d91bffb0 d91bfe6c d91bfe60 c008b970 c02d7394
<0>fe60: d91bff04 d91bfe70 c0042820 c008b96c c011268c c0112564 d91bfe9c d91bfe88
[10812.140000] fe60: d91bff04 d91bfe70 c0042820 c008b96c c011268c c0112564 d91bfe9c d91bfe88
<0>fe80: c003ce68 00000000 00000200 d905e7b4 cb470d80 80000013 d91bfecc 00000000
[10812.140000] fe80: c003ce68 00000000 00000200 d905e7b4 cb470d80 80000013 d91bfecc 00000000
<0>fea0: c003ba50 00000001 d91bff60 ffffff9c d733d000 ffffff9c 00000000 00000004
[10812.140000] fea0: c003ba50 00000001 d91bff60 ffffff9c d733d000 ffffff9c 00000000 00000004
<0>fec0: 00000000 00000000 d91bfef4 0000fdfd be8629b8 d736e780 00000003 c00397c4
[10812.140000] fec0: 00000000 00000000 d91bfef4 0000fdfd be8629b8 d736e780 00000003 c00397c4
<0>fee0: d91be000 00000000 d91bff7c d91bfef8 c0114db4 bf0fd854 d91bffac d91bff08
[10812.140000] fee0: d91be000 00000000 d91bff7c d91bfef8 c0114db4 bf0fd854 d91bffac d91bff08
<0>ff00: c00322cc c0042748 00000000 c005def8 d91bff34 d91bff20 c005def8 c003ba18
[10812.140000] ff00: c00322cc c0042748 00000000 c005def8 d91bff34 d91bff20 c005def8 c003ba18
<0>ff20: d91be000 00000003 d91bff54 d91bff38 c01028e0 c005de60 d733d000 d736e780
[10812.140000] ff20: d91be000 00000003 d91bff54 d91bff38 c01028e0 c005de60 d733d000 d736e780
<0>ff40: 00000003 00000020 d91bff94 d91bff58 c0103aa4 c00fe9ec d736e780 be8629b8
[10812.140000] ff40: 00000003 00000020 d91bff94 d91bff58 c0103aa4 c00fe9ec d736e780 be8629b8
<0>ff60: 00000200 00000003 c00397c4 d91be000 d91bffa4 d91bff80 c01152f8 c0114d34
[10812.140000] ff60: 00000200 00000003 c00397c4 d91be000 d91bffa4 d91bff80 c01152f8 c0114d34
<0>ff80: c00397c4 00000000 00000000 be8629e8 000083b0 00000036 00000000 d91bffa8
[10812.140000] ff80: c00397c4 00000000 00000000 be8629e8 000083b0 00000036 00000000 d91bffa8
<0>ffa0: c0039640 c01152c4 00000000 be8629e8 00000003 00000200 be8629b8 be8629b8
[10812.140000] ffa0: c0039640 c01152c4 00000000 be8629e8 00000003 00000200 be8629b8 be8629b8
<0>ffc0: 00000000 be8629e8 000083b0 00000036 00000000 00000000 4004cfb0 be8629d4
[10812.140000] ffc0: 00000000 be8629e8 000083b0 00000036 00000000 00000000 4004cfb0 be8629d4
<0>ffe0: 00010758 be8629ac 000084f8 402297dc 00000010 00000003 00000000 00000000
[10812.140000] ffe0: 00010758 be8629ac 000084f8 402297dc 00000010 00000003 00000000 00000000
Backtrace: [10812.140000] Backtrace:

[<bf102f98>] (OSAL_CCMU_MclkOnOff+0x0/0x58 [disp]) from [<bf10ee20>] (lcdc_clk_on+0x38/0xa4 [disp])
[10812.140000] [<bf102f98>] (OSAL_CCMU_MclkOnOff+0x0/0x58 [disp]) from [<bf10ee20>] (lcdc_clk_on+0x38/0xa4 [disp])
 r4:bf129430[10812.140000]  r4:bf129430 r3:00000000 r3:00000000

[<bf10ede8>] (lcdc_clk_on+0x0/0xa4 [disp]) from [<bf11d6dc>] (BSP_disp_vga_open+0x3c/0x230 [disp])
[10812.140000] [<bf10ede8>] (lcdc_clk_on+0x0/0xa4 [disp]) from [<bf11d6dc>] (BSP_disp_vga_open+0x3c/0x230 [disp])
 r5:bf129498[10812.140000]  r5:bf129498 r4:00000000 r4:00000000

[<bf11d6a0>] (BSP_disp_vga_open+0x0/0x230 [disp]) from [<bf0febf0>] (disp_ioctl+0x13a8/0x28e4 [disp])
[10812.140000] [<bf11d6a0>] (BSP_disp_vga_open+0x0/0x230 [disp]) from [<bf0febf0>] (disp_ioctl+0x13a8/0x28e4 [disp])
[<bf0fd848>] (disp_ioctl+0x0/0x28e4 [disp]) from [<c0114db4>] (do_vfs_ioctl+0x8c/0x590)
[10812.140000] [<bf0fd848>] (disp_ioctl+0x0/0x28e4 [disp]) from [<c0114db4>] (do_vfs_ioctl+0x8c/0x590)
[<c0114d28>] (do_vfs_ioctl+0x0/0x590) from [<c01152f8>] (sys_ioctl+0x40/0x64)
[10812.140000] [<c0114d28>] (do_vfs_ioctl+0x0/0x590) from [<c01152f8>] (sys_ioctl+0x40/0x64)
 r9:d91be000[10812.140000]  r9:d91be000 r8:c00397c4 r8:c00397c4 r7:00000003 r7:00000003 r6:00000200 r6:00000200 r5:be8629b8 r5:be8629b8
r4:d736e780
[10812.140000] r4:d736e780

[<c01152b8>] (sys_ioctl+0x0/0x64) from [<c0039640>] (ret_fast_syscall+0x0/0x30)
[10812.140000] [<c01152b8>] (sys_ioctl+0x0/0x64) from [<c0039640>] (ret_fast_syscall+0x0/0x30)
 r7:00000036[10812.140000]  r7:00000036 r6:000083b0 r6:000083b0 r5:be8629e8 r5:be8629e8 r4:00000000 r4:00000000

<0>Code: e5940008 e3500000 1afffffa e89da818 (e5903008)
[10812.140000] Code: e5940008 e3500000 1afffffa e89da818 (e5903008)

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] Internal error: Oops: 17 [#3] PREEMPT

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] Process vga (pid: 5418, stack limit = 0xd91be2e8)

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] Stack: (0xd91bfdd0 to 0xd91c0000)

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] fdc0:                                     00000000 bf129430 d91bfdfc d91bfde8

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] fde0: bf10ee20 bf102fa4 00000000 bf129498 d91bfe24 d91bfe00 bf11d6dc bf10edf4

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] fe00: d91be000 00000004 000001fc 00000000 c00397c4 00000000 d91bfef4 d91bfe28

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] fe20: bf0febf0 bf11d6ac d905e7b4 bf124974 d91bfe5c d91bfe40 c02d7418 c005de60

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] fe40: d905e780 402297d0 c0894604 d91bffb0 d91bfe6c d91bfe60 c008b970 c02d7394

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] fe60: d91bff04 d91bfe70 c0042820 c008b96c c011268c c0112564 d91bfe9c d91bfe88

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] fe80: c003ce68 00000000 00000200 d905e7b4 cb470d80 80000013 d91bfecc 00000000

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] fea0: c003ba50 00000001 d91bff60 ffffff9c d733d000 ffffff9c 00000000 00000004

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] fec0: 00000000 00000000 d91bfef4 0000fdfd be8629b8 d736e780 <4>---[ end trace a3f619f3823e161c ]---
[10813.570000] ---[ end trace a3f619f3823e161c ]---
00000003 c00397c4

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] fee0: d91be000 00000000 d91bff7c d91bfef8 c0114db4 bf0fd854 d91bffac d91bff08

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] ff00: c00322cc c0042748 00000000 c005def8 d91bff34 d91bff20 c005def8 c003ba18

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] ff20: d91be000 00000003 d91bff54 d91bff38 c01028e0 c005de60 d733d000 d736e780

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] ff40: 00000003 00000020 d91bff94 d91bff58 c0103aa4 c00fe9ec d736e780 be8629b8

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] ff60: 00000200 00000003 c00397c4 d91be000 d91bffa4 d91bff80 c01152f8 c0114d34

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] ff80: c00397c4 00000000 00000000 be8629e8 000083b0 00000036 00000000 d91bffa8

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] ffa0: c0039640 c01152c4 00000000 be8629e8 00000003 00000200 be8629b8 be8629b8

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] ffc0: 00000000 be8629e8 000083b0 00000036 00000000 00000000 4004cfb0 be8629d4

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] ffe0: 00010758 be8629ac 000084f8 402297dc 00000010 00000003 00000000 00000000

Message from syslogd@linux at Jan  1 03:00:13 ...
 kernel:[10812.140000] Code: e5940008 e3500000 1afffffa e89da818 (e5903008)
Segmentation fault
2), doc: drivers/video/sun4i/A10_linux_display_driver_interface.xls
3), 
drivers/video/sun4i/disp/dev_fb.c: register_framebuffer
hdmi_probe -> Fb_Init
lcd_init -> Fb_Init
Fb_Init -> register_framebuffer
4), try to compile display driver into kernel according to the following thread: http://forum.doozan.com/read.php?6,8827,8828,quote=1
(1), crash: 
arch/arm/mach-sun4i/clock/clock.c:407:clk_set_rate: hdmi !
[    7.240000] arch/arm/mach-sun4i/clock/clock.c:407:clk_set_rate: hdmi !
<1>Unable to handle kernel NULL pointer dereference at virtual address 00000000
<1>pgd = c0004000
<1>[00000000] *pgd=00000000
<0>Internal error: Oops: 80000005 [#1] PREEMPT
<d>Modules linked in:
CPU: 0    Not tainted  (3.0.38+ #4)
PC is at 0x0
LR is at bit_putcs+0x2a4/0x5f4
pc : [<00000000>]    lr : [<c02ff418>]    psr: 60000013
sp : d983baa8  ip : c0668e24  fp : d983bb6c
r10: d9b08002  r9 : 00000001  r8 : 00000000
r7 : ffffffff  r6 : d9a3e001  r5 : d9803200  r4 : 00000001
r3 : 00000001  r2 : 00000000  r1 : d983bb08  r0 : d9adac00
Flags: nZCv  IRQs on  FIQs on  Mode SVC_32  ISA ARM  Segment kernel
Control: 10c5387d  Table: 40004019  DAC: 00000015

LR: 0xc02ff398:
(2), disable clk debug output. sometimes boot successful. 
lock sun4i_freq_tbl less than 1GHz in arch/arm/mach-sun4i/cpu-freq/cpu-freq-table.c, it is not work. 
the stable is not relative to memory too because there is no improvement after disabling dcache
(3), compile framebuffer console as module
fbcon is not work for A10, modprobe crash: 
linux:~ # modprobe fbcon
<6>Console: switching to mono frame buffer device 80x30
<1>Unable to handle kernel NULL pointer dereference at virtual address 00000008
<1>pgd = d7f88000                                                              
<1>[00000008] *pgd=57cc5831, *pte=00000000, *ppte=00000000                     
<0>Internal error: Oops: 17 [#1] PREEMPT                                       
<d>Modules linked in: fbcon(+) font bitblit softcursor 8192cu                  
CPU: 0    Not tainted  (3.0.38+ #12)                                           
PC is at fb_videomode_to_var+0xc/0x84                                          
LR is at display_to_var+0x1c/0xa8 [fbcon]                                      
pc : [<c02f50d0>]    lr : [<bf0a32c8>]    psr: 40070113                        
sp : d7ee7c88  ip : d7ee7c98  fp : d7ee7c94                                    
r10: 00000000  r9 : d9afa024  r8 : bf0a9448                                    
r7 : d7c22e00  r6 : bf0ab400  r5 : d7ee7cd8  r4 : bf0a9448                     
r3 : 00000000  r2 : 00000000  r1 : 00000000  r0 : d7ee7cd8                     
Flags: nZcv  IRQs on  FIQs on  Mode SVC_32  ISA ARM  Segment user              
Control: 10c5387d  Table: 57f88019  DAC: 00000015                              

PC: 0xc02f5050:
5050  e580c054 e5923010 e5803064 e5923014 e5803068 e5923018 e580306c e592301c
5070  e5803070 e5923020 e5803074 e5923024 e5803078 e5923028 e580307c e592302c
5090  e5803080 e5922030 e5802084 e5913220 e5933014 e1530005 01a00003 0a000001
50b0  e12fff33 e594c054 e3cc1002 e5841054 e89da878 e1a0c00d e92dd800 e24cb004
50d0  e591c008 e3a03000 e580c000 e591200c e5802004 e591c008 e580c008 e591200c
50f0  e5803010 e5803014 e580200c e591c010 e580c064 e5912014 e5802068 e5913018
5110  e580306c e591c01c e580c070 e5912020 e5802074 e5913024 e5803078 e591c028
5130  e580c07c e591202c e5802080 e5d13030 e5803084 e89da800 e1a0c00d e92dd800

SP: 0xd7ee7c08:
7c08  d9be401c d6b784c0 d7df6a80 c07de048 d7ee7c3c d7ee7c28 0000040f 00000007
7c28  bf0ab400 d7c22e00 d7ee7c94 d7ee7c40 c0038f90 c00321fc d7ee7cd8 00000000
7c48  00000000 00000000 bf0a9448 d7ee7cd8 bf0ab400 d7c22e00 bf0a9448 d9afa024
7c68  00000000 d7ee7c94 d7ee7c98 d7ee7c88 bf0a32c8 c02f50d0 40070113 ffffffff
7c88  d7ee7cc4 d7ee7c98 bf0a32c8 c02f50d0 00000000 d9803200 d9afa000 bf0ab400
7ca8  d7c22e00 bf0a9448 d9afa024 00000000 d7ee7da4 d7ee7cc8 bf0a5e34 bf0a32b8
7cc8  bf0ab400 bf0a9408 c07d6c28 bf0a9280 00000000 00000000 00000000 00000000
7ce8  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000

IP: 0xd7ee7c18:
7c18  d7ee7c3c d7ee7c28 0000040f 00000007 bf0ab400 d7c22e00 d7ee7c94 d7ee7c40
7c38  c0038f90 c00321fc d7ee7cd8 00000000 00000000 00000000 bf0a9448 d7ee7cd8
7c58  bf0ab400 d7c22e00 bf0a9448 d9afa024 00000000 d7ee7c94 d7ee7c98 d7ee7c88
7c78  bf0a32c8 c02f50d0 40070113 ffffffff d7ee7cc4 d7ee7c98 bf0a32c8 c02f50d0
7c98  00000000 d9803200 d9afa000 bf0ab400 d7c22e00 bf0a9448 d9afa024 00000000
7cb8  d7ee7da4 d7ee7cc8 bf0a5e34 bf0a32b8 bf0ab400 bf0a9408 c07d6c28 bf0a9280
7cd8  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
7cf8  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000

FP: 0xd7ee7c14:
7c14  c07de048 d7ee7c3c d7ee7c28 0000040f 00000007 bf0ab400 d7c22e00 d7ee7c94
7c34  d7ee7c40 c0038f90 c00321fc d7ee7cd8 00000000 00000000 00000000 bf0a9448
7c54  d7ee7cd8 bf0ab400 d7c22e00 bf0a9448 d9afa024 00000000 d7ee7c94 d7ee7c98
7c74  d7ee7c88 bf0a32c8 c02f50d0 40070113 ffffffff d7ee7cc4 d7ee7c98 bf0a32c8
7c94  c02f50d0 00000000 d9803200 d9afa000 bf0ab400 d7c22e00 bf0a9448 d9afa024
7cb4  00000000 d7ee7da4 d7ee7cc8 bf0a5e34 bf0a32b8 bf0ab400 bf0a9408 c07d6c28
7cd4  bf0a9280 00000000 00000000 00000000 00000000 00000000 00000000 00000000
7cf4  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000

R0: 0xd7ee7c58:
7c58  bf0ab400 d7c22e00 bf0a9448 d9afa024 00000000 d7ee7c94 d7ee7c98 d7ee7c88
7c78  bf0a32c8 c02f50d0 40070113 ffffffff d7ee7cc4 d7ee7c98 bf0a32c8 c02f50d0
7c98  00000000 d9803200 d9afa000 bf0ab400 d7c22e00 bf0a9448 d9afa024 00000000
7cb8  d7ee7da4 d7ee7cc8 bf0a5e34 bf0a32b8 bf0ab400 bf0a9408 c07d6c28 bf0a9280
7cd8  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
7cf8  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
7d18  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
7d38  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000

R5: 0xd7ee7c58:
7c58  bf0ab400 d7c22e00 bf0a9448 d9afa024 00000000 d7ee7c94 d7ee7c98 d7ee7c88
7c78  bf0a32c8 c02f50d0 40070113 ffffffff d7ee7cc4 d7ee7c98 bf0a32c8 c02f50d0
7c98  00000000 d9803200 d9afa000 bf0ab400 d7c22e00 bf0a9448 d9afa024 00000000
7cb8  d7ee7da4 d7ee7cc8 bf0a5e34 bf0a32b8 bf0ab400 bf0a9408 c07d6c28 bf0a9280
7cd8  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
7cf8  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
7d18  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
7d38  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000

R7: 0xd7c22d80:
2d80  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
2da0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
2dc0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
2de0  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
2e00  bf098148 bf0981c0 bf0989ec bf0982c4 bf0984bc bf098484 00000000 00000000
2e20  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
2e40  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
2e60  00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000

R9: 0xd9af9fa4:
9fa4  00000000 00000000 00000000 d9af9ff4 d9af9fc0 c00865f8 c0578efc d983bf28
9fc4  00000000 00000000 00000000 d9af9fd0 d9af9fd0 00000000 d983bf28 c0086568
9fe4  c006d0fc 00000000 d9af9ff8 c006d0fc c0086574 00000000 00000000 00000001
a004  00000000 00000000 00000001 d9afa010 d9afa010 00000001 d9afa01c d9afa01c
a024  000005a0 00000384 000005a0 00000708 00000000 00000000 00000020 00000000
a044  00000010 00000008 00000000 00000008 00000008 00000000 00000000 00000008
a064  00000000 00000018 00000008 00000000 00000000 00000080 00000000 00000000
a084  00000000 000090ad 000000e8 00000050 00000018 00000004 00000098 00000006
<0>Process modprobe (pid: 1153, stack limit = 0xd7ee62e8)                    
<0>Stack: (0xd7ee7c88 to 0xd7ee8000)                                         
<0>7c80:                   d7ee7cc4 d7ee7c98 bf0a32c8 c02f50d0 00000000 d9803200
<0>7ca0: d9afa000 bf0ab400 d7c22e00 bf0a9448 d9afa024 00000000 d7ee7da4 d7ee7cc8
<0>7cc0: bf0a5e34 bf0a32b8 bf0ab400 bf0a9408 c07d6c28 bf0a9280 00000000 00000000
<0>7ce0: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
<0>7d00: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
<0>7d20: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
<0>7d40: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
<0>7d60: 00000000 00000000 00000000 00000000 00000000 00000000 0000003f d9803200
<0>7d80: 00000000 bf0a5cc0 00000000 00000001 0000003f 00000000 d7ee7dcc d7ee7da8
<0>7da0: c0335b2c bf0a5ccc 00000000 c08c1604 00000014 bf0a92e4 00000000 00000001
<0>7dc0: d7ee7e34 d7ee7dd0 c03361c0 c03359bc 0000001e bf0a92e4 0000095f 00000009
<0>7de0: bf0a90c8 c005de8c 0000014a c082096c d7ee6000 0000003e 00000000 c08c1710
<0>7e00: c08c1c14 00000000 c005df24 0000003e 00000000 bf0a9018 00000001 00000000
<0>7e20: bf0a932c bf0ae000 d7ee7e54 d7ee7e38 c03362a8 c0335c80 bf0a9446 bf0a9280
<0>7e40: bf0a9407 00000000 d7ee7e74 d7ee7e58 bf0a46b4 c0336270 d7ee6000 bf0ab400
<0>7e60: 00000003 bf0a92b4 d7ee7e9c d7ee7e78 bf0ae158 bf0a4654 bf0a91fc c005de8c
<0>7e80: c00f13f0 c081d2c0 d7ee6000 00000001 d7ee7ef4 d7ee7ea0 c0032398 bf0ae00c
<0>7ea0: c00febd0 c05c3df8 00000044 d9b34140 00000000 00000001 d7ee7ee4 d7ee7ec8
<0>7ec0: bf0a92e4 bf0a92e4 00000001 bf0a92e4 bf0a92e4 00000001 d7d48440 00000000
<0>7ee0: bf0a932c 00000a3b d7ee7fa4 d7ee7ef8 c009dc34 c0032368 bf0a92f0 d7ee7f08
<0>7f00: 00000000 dd0d67ec dd0d67e8 dd0fbc80 0155b940 bf0a92e4 d7ee7f44 dd0ce000
<0>7f20: 00043a83 dd0fb6b8 dd0fb55f dd111048 d7ccb400 000091d8 00009b28 00000000
<0>7f40: 00000000 00000024 00000025 0000000e 0000000b 00000009 00000000 00000000
<0>7f60: 00000000 00000000 00000000 00000000 00000000 c07b6968 d7ee7fa4 0155b070
<0>7f80: 00000000 00000000 00000080 c00397c4 d7ee6000 00000000 00000000 d7ee7fa8
<0>7fa0: c0039640 c009d810 0155b070 00000000 400ed000 00043a83 0155b940 beedd614
<0>7fc0: 0155b070 00000000 00000000 00000080 beedd740 01563128 0155b898 0155b898
<0>7fe0: 00019134 beedd618 0000b79b 4024c4a0 60000010 400ed000 00000000 00000000
Backtrace:                                                                      
[<c02f50c4>] (fb_videomode_to_var+0x0/0x84) from [<bf0a32c8>] (display_to_var+0x1c/0xa8 [fbcon])                                                                    
[<bf0a32ac>] (display_to_var+0x0/0xa8 [fbcon]) from [<bf0a5e34>] (fbcon_switch+0x174/0x4cc [fbcon])                                                                 
[<bf0a5cc0>] (fbcon_switch+0x0/0x4cc [fbcon]) from [<c0335b2c>] (redraw_screen+0x17c/0x2c4)                                                                         
[<c03359b0>] (redraw_screen+0x0/0x2c4) from [<c03361c0>] (bind_con_driver+0x54c/0x5f0)
 r8:00000001 r7:00000000 r6:bf0a92e4 r5:00000014 r4:c08c1604
r3:00000000
[<c0335c74>] (bind_con_driver+0x0/0x5f0) from [<c03362a8>] (take_over_console+0x44/0x4c)
[<c0336264>] (take_over_console+0x0/0x4c) from [<bf0a46b4>] (fbcon_takeover+0x6c/0xe0 [fbcon])
 r7:00000000 r6:bf0a9407 r5:bf0a9280 r4:bf0a9446
[<bf0a4648>] (fbcon_takeover+0x0/0xe0 [fbcon]) from [<bf0ae158>] (fb_console_init+0x158/0x170 [fbcon])
 r6:bf0a92b4 r5:00000003 r4:bf0ab400 r3:d7ee6000
[<bf0ae000>] (fb_console_init+0x0/0x170 [fbcon]) from [<c0032398>] (do_one_initcall+0x3c/0x178)
 r6:00000001 r5:d7ee6000 r4:c081d2c0
[<c003235c>] (do_one_initcall+0x0/0x178) from [<c009dc34>] (sys_init_module+0x430/0x1d1c)
[<c009d804>] (sys_init_module+0x0/0x1d1c) from [<c0039640>] (ret_fast_syscall+0x0/0x30)
<0>Code: e89da878 e1a0c00d e92dd800 e24cb004 (e591c008)
<4>---[ end trace a64a561afd844613 ]---
Segmentation fault

5, try xfce
1002 new packages to install, 1 to remove.
Overall download size: 503.9 MiB. After the operation, additional 1.4 GiB will
be used.
buy a new sd card and try it later. 

13:17 2012-07-25
software, skill, code search, ack
1, cpan ack

12:02 2012-07-26
GTD
0, 11:30-18:59

1, today
1), 12:37-14:26 try linux on mele A1000. see"12:32 2012-07-26"
"14:26" waiting for package download. 
2), about wireshark: only maintenance update for opensuse 12.2. not assign to me. 
3), check the mail 10'

12:32 2012-07-26
arm, board, Allwinner, A10, mele A1000, try linux, cont3, try X11; full boot log
1, plan: try X11

2, add script for network and filesystem
1), network: set eth1 as dhcp 
linux:/etc/sysconfig/network # cat ifcfg-eth1
BOOTPROTO='dhcp'
MTU=''
REMOTE_IPADDR=''
STARTMODE='onboot'
2), sshd already started in "/etc/init.d/sshd"
3), mount /usr, modify "/etc/fstab": 
linux:~ # cat /etc/fstab
devpts /dev/pts devpts mode=0620,gid=5 0 0
proc   /proc    proc   defaults        0 0
/dev/sda1 /usr  ext3   defaults        1 2

3, full boot log
[    0.000000] Initializing cgroup subsys cpuset
[    0.000000] Linux version 3.0.38+ (bamvor@linux-bjrd) (gcc version 4.6.3 (Sourcery CodeBench Lite 2012.03-57) ) #12 PREEMPT Wed Jul 25 18:00:54 CST 2012
[    0.000000] CPU: ARMv7 Processor [413fc082] revision 2 (ARMv7), cr=10c5387d
[    0.000000] CPU: VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] Machine: sun4i
[    0.000000] Total Detected Memory: 512MB with 1 banks
[    0.000000] 64 MB reserved for MALI
[    0.000000] Memory Reserved:
[    0.000000]  SYS  : 0x43000000 - 0x4300ffff  (  64 kB)
[    0.000000]  VE   : 0x44000000 - 0x48ffffff  (  80 MB)
[    0.000000]  G2D  : 0x58000000 - 0x58ffffff  (  16 MB)
[    0.000000]  LCD  : 0x5a000000 - 0x5bffffff  (  32 MB)
[    0.000000] Memory policy: ECC disabled, Data cache writeback
[    0.000000] On node 0 totalpages: 114688
[    0.000000] free_area_init_node: node 0, pgdat c08152ec, node_mem_map c08d3000
[    0.000000]   Normal zone: 896 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 113792 pages, LIFO batch:31
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 113792
[    0.000000] Kernel command line: console=ttyS0,115200 root=/dev/mmcblk0p2 init=/init loglevel=8 rootfstype=ext4 rootwait
[    0.000000] PID hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Dentry cache hash table entries: 65536 (order: 6, 262144 bytes)
[    0.000000] Inode-cache hash table entries: 32768 (order: 5, 131072 bytes)
[    0.000000] Memory: 448MB = 448MB total
[    0.000000] Memory: 314552k/314552k available, 144200k reserved, 0K highmem
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xfff00000 - 0xfffe0000   ( 896 kB)
[    0.000000]     DMA     : 0xffc00000 - 0xffe00000   (   2 MB)
[    0.000000]     vmalloc : 0xdc800000 - 0xf0000000   ( 312 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xdc000000   ( 448 MB)
[    0.000000]     pkmap   : 0xbfe00000 - 0xc0000000   (   2 MB)
[    0.000000]     modules : 0xbf000000 - 0xbfe00000   (  14 MB)
[    0.000000]       .init : 0xc0008000 - 0xc0032000   ( 168 kB)
[    0.000000]       .text : 0xc0032000 - 0xc07d3000   (7812 kB)
[    0.000000]       .data : 0xc07d4000 - 0xc081d270   ( 293 kB)
[    0.000000]        .bss : 0xc081d294 - 0xc08d28d0   ( 726 kB)
[    0.000000] SLUB: Genslabs=11, HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:96 nr_irqs:96 96
[    0.000000] timer0: Periodic Mode
[    0.000000] Console: colour dummy device 80x30
[    0.000000] Calibrating delay loop... 1001.88 BogoMIPS (lpj=5009408)
[    0.040000] pid_max: default: 32768 minimum: 301
[    0.040000] Mount-cache hash table entries: 512
[    0.050000] Initializing cgroup subsys cpuacct
[    0.050000] Initializing cgroup subsys devices
[    0.050000] Initializing cgroup subsys freezer
[    0.060000] Initializing cgroup subsys blkio
[    0.060000] CPU: Testing write buffer coherency: ok
[    0.060000] hw perfevents: enabled with ARMv7 Cortex-A8 PMU driver, 5 counters available
[    0.070000] devtmpfs: initialized
[    0.070000] print_constraints: dummy:
[    0.080000] NET: Registered protocol family 16
[    0.080000] hw-breakpoint: debug architecture 0x4 unsupported.
[    0.090000] SOFTWINNER DMA Driver, (c) 2003-2004,2006 Simtec Electronics
[    0.090000] Initialize DMAC OK
[    0.100000] bio: create slab <bio-0> at 0
[    0.100000] SCSI subsystem initialized
[    0.100000] libata version 3.00 loaded.
[    0.110000] usbcore: registered new interface driver usbfs
[    0.110000] usbcore: registered new interface driver hub
[    0.120000] usbcore: registered new device driver usb
[    0.120000] Advanced Linux Sound Architecture Driver Version 1.0.24.
[    0.130000] Bluetooth: Core ver 2.16
[    0.130000] NET: Registered protocol family 31
[    0.130000] Bluetooth: HCI device and connection manager initialized
[    0.140000] Bluetooth: HCI socket layer initialized
[    0.140000] Bluetooth: L2CAP socket layer initialized
[    0.140000] Bluetooth: SCO socket layer initialized
[    0.150000] Init eGon pin module V2.0
[    0.150000] Switching to clocksource aw 64bits couter
[    0.160000] cfg80211: Calling CRDA to update world regulatory domain
[    0.160000] FS-Cache: Loaded
[    0.160000] CacheFiles: Loaded
[    0.170000] Switched to NOHz mode on CPU #0
[    0.170000] [usb_manager]: CONFIG_USB_SW_SUN4I_USB0_OTG
[    0.170000] [sw_hcd0]: usb host driver initialize........
[    0.180000] [sw_hcd0]: open_usb_clock
[    0.200000] [sw_hcd0]: host_init_state = 0
[    0.200000] [sw_hcd0]: platform is usb host
[    0.210000] [sw_hcd0]: sw_hcd_init_controller: sw_hcd_host0: USB Host mode controller at f1c13000 using PIO, IRQ 38
[    0.210000] sw_hcd_host0 sw_hcd_host0: sw_hcd host driver
[    0.220000] sw_hcd_host0 sw_hcd_host0: new USB bus registered, assigned bus number 1
[    0.230000] hub 1-0:1.0: USB hub found
[    0.230000] hub 1-0:1.0: 1 port detected
[    0.230000] wrn: hcd is not enable, need not start hcd
[    0.240000] [sw_hcd0]: sw_usb_host0_disable start
[    0.240000] -------sw_hcd0_soft_disconnect---------
[    0.240000] [sw_hcd_host0]: Set USB Power OFF
[    0.240000] wrn: hcd is not enable, need not stop hcd
[    0.250000] [sw_hcd0]: close_usb_clock
[    0.250000] [sw_hcd0]: sw_usb_host0_disable end
[    0.260000] [sw_udc]: udc_init: version 20080411
[    0.260000] axp driver uning configuration failed(561)
[    0.260000] axp driver uning configuration failed(573)
[    0.270000] NET: Registered protocol family 2
[    0.270000] IP route cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.280000] TCP established hash table entries: 16384 (order: 5, 131072 bytes)
[    0.280000] TCP bind hash table entries: 16384 (order: 4, 65536 bytes)
[    0.290000] TCP: Hash tables configured (established 16384 bind 16384)
[    0.290000] TCP reno registered
[    0.300000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.300000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.310000] NET: Registered protocol family 1
[    0.310000] RPC: Registered named UNIX socket transport module.
[    0.310000] RPC: Registered udp transport module.
[    0.320000] RPC: Registered tcp transport module.
[    0.320000] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.330000] [pm]aw_pm_init!
[    0.330000] audit: initializing netlink socket (disabled)
[    0.330000] type=2000 audit(0.329:1): initialized
[    0.350000] VFS: Disk quotas dquot_6.5.2
[    0.350000] Dquot-cache hash table entries: 1024 (order 0, 4096 bytes)
[    0.360000] NTFS driver 2.1.30 [Flags: R/W].
[    0.370000] fuse init (API version 7.16)
[    0.370000] msgmni has been set to 614
[    0.370000] alg: cipher: Test 2 failed on encryption for des3_ede-generic
[    0.380000] 00000000: 73 71 75 69 67 67 6c 65
[    0.390000] alg: No test for stdrng (krng)
[    0.390000] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 253)
[    0.400000] io scheduler noop registered
[    0.400000] io scheduler deadline registered
[    0.400000] io scheduler cfq registered (default)
[    0.410000] Serial: 8250/16550 driver, 8 ports, IRQ sharing disabled
[    0.430000] serial8250.0: ttyS0 at MMIO 0x1c28000 (irq = 1) is a U6_16550A
<6>console [ttyS0] enabled
[    1.100000] console [ttyS0] enabled
[uart]: used uart info.: 0x05
[    1.100000] [uart]: used uart info.: 0x05
<6>sunxi-uart.0: ttyS0 at MMIO 0x1c28000 (irq = 1) is a U6_16550A
[    1.130000] sunxi-uart.0: ttyS0 at MMIO 0x1c28000 (irq = 1) is a U6_16550A
[uart]: serial probe 0, membase   (null) irq 1 mapbase 0x01c28000
[    1.140000] [uart]: serial probe 0, membase   (null) irq 1 mapbase 0x01c28000
<6>sunxi-uart.2: ttyS1 at MMIO 0x1c28800 (irq = 3) is a U6_16550A
[    1.180000] sunxi-uart.2: ttyS1 at MMIO 0x1c28800 (irq = 3) is a U6_16550A
[uart]: serial probe 2, membase   (null) irq 3 mapbase 0x01c28800
[    1.190000] [uart]: serial probe 2, membase   (null) irq 3 mapbase 0x01c28800
<7>G2D: drv_g2d_init
[    1.200000] G2D: drv_g2d_init
<6>G2D: g2dmem: g2d_start=58000000, g2d_size=1000000
[    1.210000] G2D: g2dmem: g2d_start=58000000, g2d_size=1000000
<6>G2D: head:d8000000,tail:d9000000
[    1.220000] G2D: head:d8000000,tail:d9000000
<6>G2D: Module initialized.major:251
[    1.230000] G2D: Module initialized.major:251
<6>brd: module loaded
[    1.240000] brd: module loaded
<6>loop: module loaded
[    1.240000] loop: module loaded
[NAND]nand driver, init.
[    1.250000] [NAND]nand driver, init.
cmu_clk is 360
[    1.250000] cmu_clk is 360
nand clk init end
[    1.260000] nand clk init end
offset 0xc:  0x6140
[    1.260000] offset 0xc:  0x6140
offset 0x14:  0x82000008
[    1.270000] offset 0x14:  0x82000008
[NAND] nand gpio_request
[    1.270000] [NAND] nand gpio_request
[NAND] nand driver version: 0x2 0x9
[    1.280000] [NAND] nand driver version: 0x2 0x9
nand interrupte register ok
[    1.290000] nand interrupte register ok
ret of NFC_ChangMode is 0
[    1.290000] ret of NFC_ChangMode is 0
dma_hdle  is 0
[    1.300000] dma_hdle  is 0
dma_hdle  is 10000008
[    1.310000] dma_hdle  is 10000008
cmu_clk is 360
[    1.310000] cmu_clk is 360
nand clk init end
[    1.320000] nand clk init end
offset 0xc:  0x6140
[    1.320000] offset 0xc:  0x6140
offset 0x14:  0x82000005
[    1.320000] offset 0x14:  0x82000005
The 0 disk name = bootloader, class name = DISK, disk size = 32768
[    1.350000] The 0 disk name = bootloader, class name = DISK, disk size = 32768
The 1 disk name = env, class name = DISK, disk size = 4096
[    1.360000] The 1 disk name = env, class name = DISK, disk size = 4096
The 2 disk name = boot, class name = DISK, disk size = 65536
[    1.370000] The 2 disk name = boot, class name = DISK, disk size = 65536
The 3 disk name = system, class name = DISK, disk size = 1048576
[    1.390000] The 3 disk name = system, class name = DISK, disk size = 1048576
The 4 disk name = data, class name = DISK, disk size = 3145728
[    1.400000] The 4 disk name = data, class name = DISK, disk size = 3145728
The 5 disk name = misc, class name = DISK, disk size = 2048
[    1.410000] The 5 disk name = misc, class name = DISK, disk size = 2048
The 6 disk name = recovery, class name = DISK, disk size = 65536
[    1.420000] The 6 disk name = recovery, class name = DISK, disk size = 65536
The 7 disk name = cache, class name = DISK, disk size = 262144
[    1.440000] The 7 disk name = cache, class name = DISK, disk size = 262144
The 8 disk name = private, class name = DISK, disk size = 2048
[    1.450000] The 8 disk name = private, class name = DISK, disk size = 2048
The 9 disk name = sysrecovery, class name = DISK, disk size = 1048576
[    1.460000] The 9 disk name = sysrecovery, class name = DISK, disk size = 1048576
The 10 disk name = UDISK, class name = DISK, disk size = 0
[    1.470000] The 10 disk name = UDISK, class name = DISK, disk size = 0
The 10 disk size = 2103296
[    1.490000] The 10 disk size = 2103296
part total count = 11
[    1.490000] part total count = 11
<6> nanda:
[    1.500000]  nanda:
<6> nandb: unknown partition table
[    1.500000]  nandb: unknown partition table
<6> nandc: unknown partition table
[    1.510000]  nandc: unknown partition table
<6> nandd: unknown partition table
[    1.520000]  nandd: unknown partition table
<6> nande: unknown partition table
[    1.530000]  nande: unknown partition table
<6> nandf: unknown partition table
[    1.540000]  nandf: unknown partition table
<6> nandg: unknown partition table
[    1.550000]  nandg: unknown partition table
<6> nandh: unknown partition table
[    1.560000]  nandh: unknown partition table
<6> nandi:
[    1.560000]  nandi:
<6> nandj: unknown partition table
[    1.570000]  nandj: unknown partition table
<6> nandk:
[    1.580000]  nandk:
<6>benn: nand probe enter
[    1.580000] benn: nand probe enter
[NAND]nand driver, ok.
[    1.590000] [NAND]nand driver, ok.
<6>ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
[    1.590000] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
<6>ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
[    1.600000] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
[sw-ehci1]: probe, pdev->name: sw-ehci, pdev->id: 1, sw_ehci: 0xc08ca494
[    1.620000] [sw-ehci1]: probe, pdev->name: sw-ehci, pdev->id: 1, sw_ehci: 0xc08ca494
[sw-ehci1]: open clock
[    1.630000] [sw-ehci1]: open clock
[sw-ehci1]: Set USB Power ON
[    1.660000] [sw-ehci1]: Set USB Power ON
<6>sw-ehci sw-ehci.1: SW USB2.0 'Enhanced' Host Controller (EHCI) Driver
[    1.660000] sw-ehci sw-ehci.1: SW USB2.0 'Enhanced' Host Controller (EHCI) Driver
<6>sw-ehci sw-ehci.1: new USB bus registered, assigned bus number 2
[    1.680000] sw-ehci sw-ehci.1: new USB bus registered, assigned bus number 2
<6>sw-ehci sw-ehci.1: irq 39, io mem 0xf1c14000
[    1.690000] sw-ehci sw-ehci.1: irq 39, io mem 0xf1c14000
<6>sw-ehci sw-ehci.1: USB 0.0 started, EHCI 1.00
[    1.720000] sw-ehci sw-ehci.1: USB 0.0 started, EHCI 1.00
ehci_irq: port change detect
[    1.720000] ehci_irq: port change detect
<6>hub 2-0:1.0: USB hub found
[    1.730000] hub 2-0:1.0: USB hub found
<6>hub 2-0:1.0: 1 port detected
[    1.740000] hub 2-0:1.0: 1 port detected
[sw-ohci1]: probe, pdev->name: sw-ohci, pdev->id: 1, sw_ohci: 0xc08ca5a4
[    1.750000] [sw-ohci1]: probe, pdev->name: sw-ohci, pdev->id: 1, sw_ohci: 0xc08ca5a4
[sw-ohci1]: open clock
[    1.760000] [sw-ohci1]: open clock
<6>sw-ohci sw-ohci.1: SW USB2.0 'Open' Host Controller (OHCI) Driver
[    1.790000] sw-ohci sw-ohci.1: SW USB2.0 'Open' Host Controller (OHCI) Driver
<6>sw-ohci sw-ohci.1: new USB bus registered, assigned bus number 3
[    1.800000] sw-ohci sw-ohci.1: new USB bus registered, assigned bus number 3
<6>sw-ohci sw-ohci.1: irq 64, io mem 0xf1c14400
[    1.810000] sw-ohci sw-ohci.1: irq 64, io mem 0xf1c14400
<6>hub 3-0:1.0: USB hub found
[    1.880000] hub 3-0:1.0: USB hub found
<6>hub 3-0:1.0: 1 port detected
[    1.890000] hub 3-0:1.0: 1 port detected
[sw-ehci2]: probe, pdev->name: sw-ehci, pdev->id: 2, sw_ehci: 0xc08ca6b4
[    1.890000] [sw-ehci2]: probe, pdev->name: sw-ehci, pdev->id: 2, sw_ehci: 0xc08ca6b4
[sw-ehci2]: open clock
[    1.910000] [sw-ehci2]: open clock
[sw-ehci2]: Set USB Power ON
[    1.930000] [sw-ehci2]: Set USB Power ON
<6>sw-ehci sw-ehci.2: SW USB2.0 'Enhanced' Host Controller (EHCI) Driver
[    1.940000] sw-ehci sw-ehci.2: SW USB2.0 'Enhanced' Host Controller (EHCI) Driver
<6>sw-ehci sw-ehci.2: new USB bus registered, assigned bus number 4
[    1.950000] sw-ehci sw-ehci.2: new USB bus registered, assigned bus number 4
<6>sw-ehci sw-ehci.2: irq 40, io mem 0xf1c1c000
[    1.970000] sw-ehci sw-ehci.2: irq 40, io mem 0xf1c1c000
<6>usb 2-1: new high speed USB device number 2 using sw-ehci
[    2.070000] usb 2-1: new high speed USB device number 2 using sw-ehci
<6>sw-ehci sw-ehci.2: USB 0.0 started, EHCI 1.00
[    2.100000] sw-ehci sw-ehci.2: USB 0.0 started, EHCI 1.00
ehci_irq: port change detect
[    2.100000] ehci_irq: port change detect
<6>hub 4-0:1.0: USB hub found
[    2.110000] hub 4-0:1.0: USB hub found
<6>hub 4-0:1.0: 1 port detected
[    2.120000] hub 4-0:1.0: 1 port detected
[sw-ohci2]: probe, pdev->name: sw-ohci, pdev->id: 2, sw_ohci: 0xc08ca7c4
[    2.130000] [sw-ohci2]: probe, pdev->name: sw-ohci, pdev->id: 2, sw_ohci: 0xc08ca7c4
[sw-ohci2]: open clock
[    2.140000] [sw-ohci2]: open clock
<6>sw-ohci sw-ohci.2: SW USB2.0 'Open' Host Controller (OHCI) Driver
[    2.170000] sw-ohci sw-ohci.2: SW USB2.0 'Open' Host Controller (OHCI) Driver
<6>sw-ohci sw-ohci.2: new USB bus registered, assigned bus number 5
[    2.180000] sw-ohci sw-ohci.2: new USB bus registered, assigned bus number 5
<6>sw-ohci sw-ohci.2: irq 65, io mem 0xf1c1c400
[    2.190000] sw-ohci sw-ohci.2: irq 65, io mem 0xf1c1c400
<6>hub 2-1:1.0: USB hub found
[    2.260000] hub 2-1:1.0: USB hub found
<6>hub 2-1:1.0: 4 ports detected
[    2.260000] hub 2-1:1.0: 4 ports detected
<6>hub 5-0:1.0: USB hub found
[    2.270000] hub 5-0:1.0: USB hub found
<6>hub 5-0:1.0: 1 port detected
[    2.280000] hub 5-0:1.0: 1 port detected
<6>Initializing USB Mass Storage driver...
[    2.290000] Initializing USB Mass Storage driver...
<6>usbcore: registered new interface driver usb-storage
[    2.300000] usbcore: registered new interface driver usb-storage
<6>USB Mass Storage support registered.
[    2.310000] USB Mass Storage support registered.
<6>usbcore: registered new interface driver ums-alauda
[    2.320000] usbcore: registered new interface driver ums-alauda
<6>usbcore: registered new interface driver ums-cypress
[    2.330000] usbcore: registered new interface driver ums-cypress
<6>usbcore: registered new interface driver ums-datafab
[    2.340000] usbcore: registered new interface driver ums-datafab
<6>usbcore: registered new interface driver ums_eneub6250
[    2.350000] usbcore: registered new interface driver ums_eneub6250
<6>usbcore: registered new interface driver ums-freecom
[    2.360000] usbcore: registered new interface driver ums-freecom
<6>usbcore: registered new interface driver ums-isd200
[    2.370000] usbcore: registered new interface driver ums-isd200
<6>usbcore: registered new interface driver ums-jumpshot
[    2.380000] usbcore: registered new interface driver ums-jumpshot
<6>usbcore: registered new interface driver ums-karma
[    2.390000] usbcore: registered new interface driver ums-karma
<6>usbcore: registered new interface driver ums-onetouch
[    2.400000] usbcore: registered new interface driver ums-onetouch
<6>usbcore: registered new interface driver ums-realtek
[    2.420000] usbcore: registered new interface driver ums-realtek
<6>usbcore: registered new interface driver ums-sddr09
[    2.430000] usbcore: registered new interface driver ums-sddr09
<6>usbcore: registered new interface driver ums-sddr55
[    2.440000] usbcore: registered new interface driver ums-sddr55
<6>usbcore: registered new interface driver ums-usbat
[    2.450000] usbcore: registered new interface driver ums-usbat
<6>usb 4-1: new high speed USB device number 2 using sw-ehci
[    2.460000] usb 4-1: new high speed USB device number 2 using sw-ehci
<6>mousedev: PS/2 mouse device common for all mice
[    2.470000] mousedev: PS/2 mouse device common for all mice
sunxi RTC version 0.1
[    2.480000] sunxi RTC version 0.1
<6>sunxi-rtc sunxi-rtc: sunxi_rtc_probe tmp_data = 380239881
[    2.490000] sunxi-rtc sunxi-rtc: sunxi_rtc_probe tmp_data = 380239881
<6>sunxi-rtc sunxi-rtc: sunxi_rtc_gettime
[    2.500000] sunxi-rtc sunxi-rtc: sunxi_rtc_gettime
<6>sunxi-rtc sunxi-rtc: read time 2010-1-1 0:7:20
[    2.510000] sunxi-rtc sunxi-rtc: read time 2010-1-1 0:7:20
<6>using rtc device, rtc, for alarms[    2.520000] using rtc device, rtc, for alarms<6>sunxi-rtc sunxi-rtc: rtc core: registered rtc as rtc0

[    2.530000] sunxi-rtc sunxi-rtc: rtc core: registered rtc as rtc0
<6>i2c /dev entries driver
[    2.540000] i2c /dev entries driver
!!! base_Addr = 0xdc8b8c00
[    2.540000] !!! base_Addr = 0xdc8b8c00
config i2c gpio with gpio_config api
[    2.550000] config i2c gpio with gpio_config api
twi0, apb clock = 24000000
[    2.560000] twi0, apb clock = 24000000
<6>axp_mfd 0-0034: AXP (CHIP ID: 0x21) detected
[    2.570000] axp_mfd 0-0034: AXP (CHIP ID: 0x21) detected
[AXP]axp driver uning configuration failed(323)
[    2.580000] [AXP]axp driver uning configuration failed(323)
[AXP]power_start = 0
[    2.590000] [AXP]power_start = 0
<6>I2C: i2c-0: AW16XX I2C adapter
[    2.590000] I2C: i2c-0: AW16XX I2C adapter
**********start************
[    2.600000] **********start************
0x40
[    2.600000] 0x40
0xf8
[    2.610000] 0xf8
0x28
[    2.610000] 0x28
0x0
[    2.610000] 0x0
0x0
[    2.610000] 0x0
**********end************
[    2.620000] **********end************
!!! base_Addr = 0xdc8ba000
[    2.620000] !!! base_Addr = 0xdc8ba000
twi1, apb clock = 24000000
[    2.630000] twi1, apb clock = 24000000
<6>I2C: i2c-1: AW16XX I2C adapter
[    2.640000] I2C: i2c-1: AW16XX I2C adapter
**********start************
[    2.640000] **********start************
0x40
[    2.650000] 0x40
0xf8
[    2.650000] 0xf8
0x58
[    2.650000] 0x58
0x0
[    2.660000] 0x0
0x0
[    2.660000] 0x0
**********end************
[    2.660000] **********end************
!!! base_Addr = 0xdc8bc400
[    2.670000] !!! base_Addr = 0xdc8bc400
twi2, apb clock = 24000000
[    2.680000] twi2, apb clock = 24000000
<6>I2C: i2c-2: AW16XX I2C adapter
[    2.680000] I2C: i2c-2: AW16XX I2C adapter
**********start************
[    2.690000] **********start************
0x40
[    2.700000] 0x40
0xf8
[    2.700000] 0xf8
0x58
[    2.700000] 0x58
0x0
[    2.700000] 0x0
0x0
[    2.710000] 0x0
**********end************
[    2.710000] **********end************
<6>lirc_dev: IR Remote Control driver registered, major 250
[    2.710000] lirc_dev: IR Remote Control driver registered, major 250
<6>IR NEC protocol handler initialized
[    2.730000] IR NEC protocol handler initialized
<6>IR RC5(x) protocol handler initialized
[    2.730000] IR RC5(x) protocol handler initialized
<6>IR RC6 protocol handler initialized
[    2.740000] IR RC6 protocol handler initialized
<6>IR JVC protocol handler initialized
[    2.750000] IR JVC protocol handler initialized
<6>IR Sony protocol handler initialized
[    2.760000] IR Sony protocol handler initialized
<6>usb 2-1.1: new high speed USB device number 3 using sw-ehci
[    2.770000] usb 2-1.1: new high speed USB device number 3 using sw-ehci
<6>IR RC5 (streamzap) protocol handler initialized
[    2.780000] IR RC5 (streamzap) protocol handler initialized
<6>IR LIRC bridge handler initialized
[    2.790000] IR LIRC bridge handler initialized
<6>Linux video capture interface: v2.00
[    2.800000] Linux video capture interface: v2.00
[cedar dev]: install start!!!
[    2.810000] [cedar dev]: install start!!!
[cedar dev]: install end!!!
[    2.810000] [cedar dev]: install end!!!
[ace_drv] start!!!
[    2.820000] [ace_drv] start!!!
[ace_drv] init end!!!
[    2.820000] [ace_drv] init end!!!
[pa_drv] start!!!
[    2.830000] [pa_drv] start!!!
[pa_drv] init end!!!
[    2.840000] [pa_drv] init end!!!
<6>print_constraints: axp20_ldo1: 1300 mV
[    2.840000] print_constraints: axp20_ldo1: 1300 mV
<6>print_constraints: axp20_ldo2: 1800 <--> 3300 mV at 3000 mV
[    2.850000] print_constraints: axp20_ldo2: 1800 <--> 3300 mV at 3000 mV
<6>print_constraints: axp20_ldo3: 700 <--> 3500 mV at 2800 mV
[    2.860000] print_constraints: axp20_ldo3: 700 <--> 3500 mV at 2800 mV
<6>print_constraints: axp20_ldo4: 1250 <--> 3300 mV at 2800 mV
[    2.880000] print_constraints: axp20_ldo4: 1250 <--> 3300 mV at 2800 mV
<6>print_constraints: axp20_buck2: 700 <--> 2275 mV at 1400 mV
[    2.890000] print_constraints: axp20_buck2: 700 <--> 2275 mV at 1400 mV
<6>print_constraints: axp20_buck3: 700 <--> 3500 mV at 1250 mV
[    2.900000] print_constraints: axp20_buck3: 700 <--> 3500 mV at 1250 mV
<6>print_constraints: axp20_ldoio0: 1800 <--> 3300 mV at 2800 mV
[    2.920000] print_constraints: axp20_ldoio0: 1800 <--> 3300 mV at 2800 mV
<6>input: axp20-supplyer as /devices/platform/sun4i-i2c.0/i2c-0/0-0034/axp20-supplyer.28/input/input0
[    2.930000] input: axp20-supplyer as /devices/platform/sun4i-i2c.0/i2c-0/0-0034/axp20-supplyer.28/input/input0
<6>hub 2-1.1:1.0: USB hub found
[    2.950000] hub 2-1.1:1.0: USB hub found
<6>hub 2-1.1:1.0: 4 ports detected
[    2.960000] hub 2-1.1:1.0: 4 ports detected
<6>Bluetooth: HCI UART driver ver 2.2
[    2.980000] Bluetooth: HCI UART driver ver 2.2
<6>Bluetooth: HCI H4 protocol initialized
[    2.990000] Bluetooth: HCI H4 protocol initialized
<6>Bluetooth: HCI BCSP protocol initialized
[    2.990000] Bluetooth: HCI BCSP protocol initialized
<6>Bluetooth: HCILL protocol initialized
[    3.000000] Bluetooth: HCILL protocol initialized
<6>cpuidle: using governor ladder
[    3.010000] cpuidle: using governor ladder
<6>cpuidle: using governor menu
[    3.020000] cpuidle: using governor menu
[wifi]: Select sdio wifi: swl-n20 !!
[    3.030000] [wifi]: Select sdio wifi: swl-n20 !!
[mmc_pm]: SDIO card gpio init is OK !!
[    3.030000] [mmc_pm]: SDIO card gpio init is OK !!
[mmc]: sunximmc_init
[    3.040000] [mmc]: sunximmc_init
[mmc]: sunxi mmc controller using config : 0xb
[    3.050000] [mmc]: sunxi mmc controller using config : 0xb
[mmc]: sunxi-mmc.0: pdev->name: sunxi-mmc, pdev->id: 0
[    3.060000] [mmc]: sunxi-mmc.0: pdev->name: sunxi-mmc, pdev->id: 0
<6>usb 2-1.2: new high speed USB device number 4 using sw-ehci
[    3.070000] usb 2-1.2: new high speed USB device number 4 using sw-ehci
[mmc]: mmc 0 power off !!
[    3.080000] [mmc]: mmc 0 power off !!
[mmc]: mmc0 Probe: base:0xdc8d6000 irq:32 dma:0 pdes:0xd9a94000, ret 0.
[    3.090000] [mmc]: mmc0 Probe: base:0xdc8d6000 irq:32 dma:0 pdes:0xd9a94000, ret 0.
[mmc]: sunxi-mmc.1: pdev->name: sunxi-mmc, pdev->id: 1
[    3.100000] [mmc]: sunxi-mmc.1: pdev->name: sunxi-mmc, pdev->id: 1
[mmc]: mmc 1 power off !!
[    3.110000] [mmc]: mmc 1 power off !!
[mmc]: mmc1 Probe: base:0xdc8d8000 irq:33 dma:0 pdes:0xd9a9c000, ret 0.
[    3.120000] [mmc]: mmc1 Probe: base:0xdc8d8000 irq:33 dma:0 pdes:0xd9a9c000, ret 0.
[mmc]: sunxi-mmc.3: pdev->name: sunxi-mmc, pdev->id: 3
[    3.130000] [mmc]: sunxi-mmc.3: pdev->name: sunxi-mmc, pdev->id: 3
[mmc]: mmc 3 power off !!
[    3.140000] [mmc]: mmc 3 power off !!
[mmc]: mmc3 Probe: base:0xdc8da000 irq:35 dma:0 pdes:0xd9aa0000, ret 0.
[    3.150000] [mmc]: mmc3 Probe: base:0xdc8da000 irq:35 dma:0 pdes:0xd9aa0000, ret 0.
<6>usbcore: registered new interface driver usbhid
[    3.170000] usbcore: registered new interface driver usbhid
<6>usbhid: USB HID core driver
[    3.180000] usbhid: USB HID core driver
enter sun4i Audio codec!!!
[    3.180000] enter sun4i Audio codec!!!
<6>sun4i audio support initialized
[    3.190000] sun4i audio support initialized
audiocodec_adap_awxx_init: script_parser_fetch err.
[    3.200000] audiocodec_adap_awxx_init: script_parser_fetch err.
sun4i Audio codec successfully loaded..
[    3.210000] sun4i Audio codec successfully loaded..
<6>asoc: sndhdmi <-> sun4i-hdmiaudio.0 mapping ok
[    3.220000] asoc: sndhdmi <-> sun4i-hdmiaudio.0 mapping ok
<6>ALSA device list:
[    3.230000] ALSA device list:
<6>  #0: sun4i-CODEC  Audio Codec
[    3.240000]   #0: sun4i-CODEC  Audio Codec
<6>  #1: sun4i-sndhdmi
[    3.240000]   #1: sun4i-sndhdmi
<6>IPv4 over IPv4 tunneling driver
[    3.250000] IPv4 over IPv4 tunneling driver
<6>TCP cubic registered
[    3.260000] TCP cubic registered
<6>Initializing XFRM netlink socket
[    3.260000] Initializing XFRM netlink socket
<6>NET: Registered protocol family 10
[    3.270000] NET: Registered protocol family 10
<6>NET: Registered protocol family 17
[    3.280000] NET: Registered protocol family 17
<6>NET: Registered protocol family 15
[    3.290000] NET: Registered protocol family 15
<6>Bluetooth: RFCOMM TTY layer initialized
[    3.290000] Bluetooth: RFCOMM TTY layer initialized
<6>Bluetooth: RFCOMM socket layer initialized
[    3.300000] Bluetooth: RFCOMM socket layer initialized
<6>Bluetooth: RFCOMM ver 1.11
[    3.310000] Bluetooth: RFCOMM ver 1.11
<6>Bluetooth: BNEP (Ethernet Emulation) ver 1.3
[    3.320000] Bluetooth: BNEP (Ethernet Emulation) ver 1.3
<6>Bluetooth: BNEP filters: protocol multicast
[    3.330000] Bluetooth: BNEP filters: protocol multicast
<6>usb 2-1.1.1: new high speed USB device number 5 using sw-ehci
[    3.340000] usb 2-1.1.1: new high speed USB device number 5 using sw-ehci
<6>802.1Q VLAN Support v1.8
[    3.350000] 802.1Q VLAN Support v1.8
<6>VFP support v0.3: [    3.360000] VFP support v0.3: implementor 41 architecture 3 part 30 variant c rev 3
implementor 41 architecture 3 part 30 variant c rev 3
<5>Registering SWP/SWPB emulation handler
[    3.370000] Registering SWP/SWPB emulation handler
<6>registered taskstats version 1
[    3.380000] registered taskstats version 1
<4>[LCD] [    3.390000] [LCD] lcd_module_init
lcd_module_init
<4>regulator_init_complete: axp20_buck3: incomplete constraints, leaving on
[    3.460000] regulator_init_complete: axp20_buck3: incomplete constraints, leaving on
<4>regulator_init_complete: axp20_buck2: incomplete constraints, leaving on
[    3.470000] regulator_init_complete: axp20_buck2: incomplete constraints, leaving on
<4>regulator_init_complete: axp20_ldo4: incomplete constraints, leaving on
[    3.490000] regulator_init_complete: axp20_ldo4: incomplete constraints, leaving on
<6>scsi0 : usb-storage 2-1.1.1:1.0
[    3.500000] scsi0 : usb-storage 2-1.1.1:1.0
<4>regulator_init_complete: axp20_ldo3: incomplete constraints, leaving on
[    3.510000] regulator_init_complete: axp20_ldo3: incomplete constraints, leaving on
<4>regulator_init_complete: axp20_ldo2: incomplete constraints, leaving on
[    3.520000] regulator_init_complete: axp20_ldo2: incomplete constraints, leaving on
<4>regulator_init_complete: axp20_ldo1: incomplete constraints, leaving on
[    3.540000] regulator_init_complete: axp20_ldo1: incomplete constraints, leaving on
<6>sunxi-rtc sunxi-rtc: sunxi_rtc_gettime
[    3.550000] sunxi-rtc sunxi-rtc: sunxi_rtc_gettime
<6>sunxi-rtc sunxi-rtc: read time 2010-1-1 0:7:21
[    3.560000] sunxi-rtc sunxi-rtc: read time 2010-1-1 0:7:21
<6>sunxi-rtc sunxi-rtc: setting system clock to 2010-01-01 00:07:21 UTC (1262304441)
[    3.570000] sunxi-rtc sunxi-rtc: setting system clock to 2010-01-01 00:07:21 UTC (1262304441)
<6>Waiting for root device /dev/mmcblk0p2...
[    3.590000] Waiting for root device /dev/mmcblk0p2...
<6>usb 2-1.1.3: new full speed USB device number 6 using sw-ehci
[    3.650000] usb 2-1.1.3: new full speed USB device number 6 using sw-ehci
<6>input: C-Media USB Headphone Set   as /devices/platform/sw-ehci.1/usb2/2-1/2-1.1/2-1.1.3/2-1.1.3:1.3/input/input1
[    3.770000] input: C-Media USB Headphone Set   as /devices/platform/sw-ehci.1/usb2/2-1/2-1.1/2-1.1.3/2-1.1.3:1.3/input/input1
<6>generic-usb 0003:0D8C:000C.0001: input: USB HID v1.00 Device [C-Media USB Headphone Set  ] on usb-sw-ehci-1.1.3/input3
[    3.790000] generic-usb 0003:0D8C:000C.0001: input: USB HID v1.00 Device [C-Media USB Headphone Set  ] on usb-sw-ehci-1.1.3/input3
[mmc]: mmc 0 detect change, present 1
[    4.090000] [mmc]: mmc 0 detect change, present 1
[mmc]: mmc 0 power on !!
[    4.390000] [mmc]: mmc 0 power on !!
[mmc]: sdxc_request_done(L1113): [    4.430000] [mmc]: sdxc_request_done(L1113): smc 0 err, cmd 52,  RTO !!
smc 0 err, cmd 52,  RTO !!
[mmc]: sdxc_request_done(L1113): [    4.440000] [mmc]: sdxc_request_done(L1113): smc 0 err, cmd 52,  RTO !!
smc 0 err, cmd 52,  RTO !!
[mmc]: sdxc_request_done(L1113): [    4.450000] [mmc]: sdxc_request_done(L1113): smc 0 err, cmd 5,  RTO !!
smc 0 err, cmd 5,  RTO !!
[mmc]: sdxc_request_done(L1113): [    4.470000] [mmc]: sdxc_request_done(L1113): smc 0 err, cmd 5,  RTO !!
smc 0 err, cmd 5,  RTO !!
[mmc]: sdxc_request_done(L1113): [    4.480000] [mmc]: sdxc_request_done(L1113): smc 0 err, cmd 5,  RTO !!
smc 0 err, cmd 5,  RTO !!
[mmc]: sdxc_request_done(L1113): [    4.490000] [mmc]: sdxc_request_done(L1113): smc 0 err, cmd 5,  RTO !!
smc 0 err, cmd 5,  RTO !!
<5>scsi 0:0:0:0: Direct-Access     FNK TECH  USB CARD READER 2.33 PQ: 0 ANSI: 2
[    4.510000] scsi 0:0:0:0: Direct-Access     FNK TECH  USB CARD READER 2.33 PQ: 0 ANSI: 2
<5>sd 0:0:0:0: [sda] 15523840 512-byte logical blocks: (7.94 GB/7.40 GiB)
[    4.530000] sd 0:0:0:0: [sda] 15523840 512-byte logical blocks: (7.94 GB/7.40 GiB)
<5>sd 0:0:0:0: [sda] Write Protect is off
[    4.540000] sd 0:0:0:0: [sda] Write Protect is off
<7>sd 0:0:0:0: [sda] Mode Sense: 03 00 00 00
[    4.550000] sd 0:0:0:0: [sda] Mode Sense: 03 00 00 00
<3>sd 0:0:0:0: [sda] No Caching mode page present
[    4.560000] sd 0:0:0:0: [sda] No Caching mode page present
<3>sd 0:0:0:0: [sda] Assuming drive cache: write through
[    4.570000] sd 0:0:0:0: [sda] Assuming drive cache: write through
<3>sd 0:0:0:0: [sda] No Caching mode page present
[    4.580000] sd 0:0:0:0: [sda] No Caching mode page present
<3>sd 0:0:0:0: [sda] Assuming drive cache: write through
[    4.590000] sd 0:0:0:0: [sda] Assuming drive cache: write through
<6> sda: sda1
[    4.610000]  sda: sda1
<6>mmc0: new SD card at address 8a08
[    4.610000] mmc0: new SD card at address 8a08
<6>mmcblk0: mmc0:8a08 SD02G 1.84 GiB
[    4.620000] mmcblk0: mmc0:8a08 SD02G 1.84 GiB
<3>sd 0:0:0:0: [sda] No Caching mode page present
[    4.630000] sd 0:0:0:0: [sda] No Caching mode page present
<6> mmcblk0: p1 p2
[    4.640000]  mmcblk0: p1 p2
<3>sd 0:0:0:0: [sda] Assuming drive cache: write through
[    4.640000] sd 0:0:0:0: [sda] Assuming drive cache: write through
<5>sd 0:0:0:0: [sda] Attached SCSI removable disk
[    4.660000] sd 0:0:0:0: [sda] Attached SCSI removable disk
<6>EXT4-fs (mmcblk0p2): mounted filesystem with ordered data mode. Opts: (null)
[    4.720000] EXT4-fs (mmcblk0p2): mounted filesystem with ordered data mode. Opts: (null)
<6>VFS: Mounted root (ext4 filesystem) on device 179:2.
[    4.730000] VFS: Mounted root (ext4 filesystem) on device 179:2.
<6>devtmpfs: mounted
[    4.740000] devtmpfs: mounted
<6>Freeing init memory: 168K
[    4.750000] Freeing init memory: 168K
<4>Failed to execute /init.  Attempting defaults...
[    4.760000] Failed to execute /init.  Attempting defaults...
<6>usb 2-1.1.4: new full speed USB device number 7 using sw-ehci
[    4.800000] usb 2-1.1.4: new full speed USB device number 7 using sw-ehci
<6>hub 2-1.1.4:1.0: USB hub found
[    4.920000] hub 2-1.1.4:1.0: USB hub found
<6>hub 2-1.1.4:1.0: 3 ports detected
[    4.930000] hub 2-1.1.4:1.0: 3 ports detected
<6>usb 2-1.1.4.1: new full speed USB device number 8 using sw-ehci
[    5.210000] usb 2-1.1.4.1: new full speed USB device number 8 using sw-ehci

Welcome to Linux!

<6>input: HID 0a5c:4502 as /devices/platform/sw-ehci.1/usb2/2-1/2-1.1/2-1.1.4/2-1.1.4.1/2-1.1.4.1:1.0/input/input2
[    5.380000] input: HID 0a5c:4502 as /devices/platform/sw-ehci.1/usb2/2-1/2-1.1/2-1.1.4/2-1.1.4.1/2-1.1.4.1:1.0/input/input2
<6>generic-usb 0003:0A5C:4502.0002: input: USB HID v1.11 Keyboard [HID 0a5c:4502] on usb-sw-ehci-1.1.4.1/input0
[    5.420000] generic-usb 0003:0A5C:4502.0002: input: USB HID v1.11 Keyboard [HID 0a5c:4502] on usb-sw-ehci-1.1.4.1/input0
<6>usb 2-1.1.4.2: new full speed USB device number 9 using sw-ehci
[    5.540000] usb 2-1.1.4.2: new full speed USB device number 9 using sw-ehci
<6>input: HID 0a5c:4503 as /devices/platform/sw-ehci.1/usb2/2-1/2-1.1/2-1.1.4/2-1.1.4.2/2-1.1.4.2:1.0/input/input3
[    5.670000] input: HID 0a5c:4503 as /devices/platform/sw-ehci.1/usb2/2-1/2-1.1/2-1.1.4/2-1.1.4.2/2-1.1.4.2:1.0/input/input3
<6>generic-usb 0003:0A5C:4503.0003: input: USB HID v1.11 Mouse [HID 0a5c:4503] on usb-sw-ehci-1.1.4.2/input0
[    5.690000] generic-usb 0003:0A5C:4503.0003: input: USB HID v1.11 Mouse [HID 0a5c:4503] on usb-sw-ehci-1.1.4.2/input0
<6>usb 2-1.1.4.3: new full speed USB device number 10 using sw-ehci
[    5.790000] usb 2-1.1.4.3: new full speed USB device number 10 using sw-ehci
Starting Collect Read-Ahead Data...
Started Replay Read-Ahead Data                                         [  OK  ]
Starting udev Kernel Device Manager...
Starting Media Directory...
Starting Runtime Directory...
Starting Debug File System...
Starting Security File System...
Starting udev Coldplug all Devices...
Started POSIX Message Queue File System                                [  OK  ]
Started Huge Pages File System                                         [  OK  ]
Starting Journal Service...
Started Journal Service                                                [  OK  ]
<30>udevd[73]: starting version 182
[    6.850000] udevd[73]: starting version 182
Starting Lock Directory...
Started udev Kernel Device Manager                                     [  OK  ]
Started Collect Read-Ahead Data                                        [  OK  ]
Started Media Directory                                                [  OK  ]
Started Runtime Directory                                              [  OK  ]
Started Debug File System                                              [  OK  ]
Started Security File System                                           [  OK  ]
Started Lock Directory                                                 [  OK  ]
Starting Remount API VFS...
Started Set Up Additional Binary Formats                               [  OK  ]
Starting File System Check on Root Device...
Starting Load Kernel Modules...
Starting Setup Virtual Console...
Started File System Check on Root Device                               [  OK  ]
Starting LSB: setup hostname and yp...
Starting Remount Root FS...
Started Remount API VFS                                                [  OK  ]
Started Load Kernel Modules                                            [  OK  ]
Starting Apply Kernel Variables...
Starting FUSE Control File System...
Starting Configuration File System...
Started udev Coldplug all Devices                                      [  OK  ]
<6>smsc95xx v1.0.4
[   10.080000] smsc95xx v1.0.4
<6>smsc95xx 2-1.2:1.0: eth0: register 'smsc95xx' at usb-sw-ehci-1.2, smsc95xx USB 2.0 Ethernet, 00:1a:a9:29:50:d6
[   10.170000] smsc95xx 2-1.2:1.0: eth0: register 'smsc95xx' at usb-sw-ehci-1.2, smsc95xx USB 2.0 Ethernet, 00:1a:a9:29:50:d6
<6>usbcore: registered new interface driver smsc95xx
[   10.200000] usbcore: registered new interface driver smsc95xx
<30>udevd[104]: renamed network interface eth0 to eth1
[   10.210000] udevd[104]: renamed network interface eth0 to eth1
sw_usb_enable_hcd: usbc_num = 2
[   12.430000] sw_usb_enable_hcd: usbc_num = 2
WRN:L894(drivers/usb/host/ehci_sun4i.c):[   12.440000] WRN:L894(drivers/usb/host/ehci_sun4i.c):ERR: not support sw_usb_enable_ehci
ERR: not support sw_usb_enable_ehci
WRN:L780(drivers/usb/host/ohci_sun4i.c):[   12.450000] WRN:L780(drivers/usb/host/ohci_sun4i.c):ERR: not support sw_usb_enable_ohci
ERR: not support sw_usb_enable_ohci

rtw driver version=v3.3.2_3192.20120103
[   12.470000]
[   12.470000] rtw driver version=v3.3.2_3192.20120103
register rtw_netdev_ops to netdev_ops
[   12.480000] register rtw_netdev_ops to netdev_ops
CHIP TYPE: RTL8188C_8192C
[   12.490000] CHIP TYPE: RTL8188C_8192C

usb_endpoint_descriptor(0):
[   12.500000]
[   12.500000] usb_endpoint_descriptor(0):
bLength=7
[   12.510000] bLength=7
bDescriptorType=5
[   12.520000] bDescriptorType=5
bEndpointAddress=81
[   12.520000] bEndpointAddress=81
wMaxPacketSize=200
[   12.520000] wMaxPacketSize=200
bInterval=0
[   12.540000] bInterval=0
RT_usb_endpoint_is_bulk_in = 1
[   12.540000] RT_usb_endpoint_is_bulk_in = 1

usb_endpoint_descriptor(1):
[   12.570000]
[   12.570000] usb_endpoint_descriptor(1):
bLength=7
[   12.570000] bLength=7
bDescriptorType=5
[   12.600000] bDescriptorType=5
bEndpointAddress=2
[   12.600000] bEndpointAddress=2
wMaxPacketSize=200
[   12.600000] wMaxPacketSize=200
bInterval=0
[   12.630000] bInterval=0
RT_usb_endpoint_is_bulk_out = 2
[   12.630000] RT_usb_endpoint_is_bulk_out = 2
<6>usbcore: registered new interface driver snd-usb-audio
[   12.640000] usbcore: registered new interface driver snd-usb-audio

usb_endpoint_descriptor(2):
[   12.670000]
[   12.670000] usb_endpoint_descriptor(2):
bLength=7
[   12.670000] bLength=7
bDescriptorType=5
[   12.690000] bDescriptorType=5
bEndpointAddress=3
[   12.690000] bEndpointAddress=3
wMaxPacketSize=200
[   12.690000] wMaxPacketSize=200
bInterval=0
[   12.710000] bInterval=0
RT_usb_endpoint_is_bulk_out = 3
[   12.740000] RT_usb_endpoint_is_bulk_out = 3

usb_endpoint_descriptor(3):
[   12.760000]
[   12.760000] usb_endpoint_descriptor(3):
bLength=7
[   12.760000] bLength=7
bDescriptorType=5
[   12.770000] bDescriptorType=5
bEndpointAddress=84
[   12.780000] bEndpointAddress=84
wMaxPacketSize=40
[   12.780000] wMaxPacketSize=40
bInterval=1
[   12.790000] bInterval=1
RT_usb_endpoint_is_int_in = 4, Interval = 1
[   12.790000] RT_usb_endpoint_is_int_in = 4, Interval = 1
nr_endpoint=4, in_num=2, out_num=2

[   12.800000] nr_endpoint=4, in_num=2, out_num=2
[   12.800000]
USB_SPEED_HIGH
[   12.810000] USB_SPEED_HIGH
Chip Version ID: VERSION_NORMAL_TSMC_CHIP_88C.
[   12.810000] Chip Version ID: VERSION_NORMAL_TSMC_CHIP_88C.
RF_Type is 3!!
[   12.820000] RF_Type is 3!!
EEPROM type is E-FUSE
[   12.830000] EEPROM type is E-FUSE
====> ReadAdapterInfo8192C
[   12.830000] ====> ReadAdapterInfo8192C
Boot from EFUSE, Autoload OK !
[   12.840000] Boot from EFUSE, Autoload OK !
EEPROMVID = 0x0bda
[   13.000000] EEPROMVID = 0x0bda
EEPROMPID = 0x8176
[   13.010000] EEPROMPID = 0x8176
EEPROMCustomerID : 0x00
[   13.010000] EEPROMCustomerID : 0x00
EEPROMSubCustomerID: 0x00
[   13.020000] EEPROMSubCustomerID: 0x00
RT_CustomerID: 0x00
[   13.020000] RT_CustomerID: 0x00
_ReadMACAddress MAC Address from EFUSE = 00:94:8b:00:40:e8
[   13.030000] _ReadMACAddress MAC Address from EFUSE = 00:94:8b:00:40:e8
EEPROMRegulatory = 0x0
[   13.040000] EEPROMRegulatory = 0x0
_ReadBoardType(0)
[   13.040000] _ReadBoardType(0)
BT Coexistance = disable
[   13.050000] BT Coexistance = disable
RT_ChannelPlan: 0x0a
[   13.050000] RT_ChannelPlan: 0x0a
_ReadPSSetting...bHWPwrPindetect(0)-bHWPowerdown(0) ,bSupportRemoteWakeup(0)
[   13.060000] _ReadPSSetting...bHWPwrPindetect(0)-bHWPowerdown(0) ,bSupportRemoteWakeup(0)
### PS params=>  power_mgnt(1),usbss_enable(0) ###
[   13.080000] ### PS params=>  power_mgnt(1),usbss_enable(0) ###
### AntDivCfg(0)
[   13.090000] ### AntDivCfg(0)
readAdapterInfo_8192CU(): REPLACEMENT = 1
[   13.090000] readAdapterInfo_8192CU(): REPLACEMENT = 1
<==== ReadAdapterInfo8192C in 270 ms
[   13.100000] <==== ReadAdapterInfo8192C in 270 ms
rtw_macaddr_cfg MAC Address  = 00:94:8b:00:40:e8
[   13.130000] rtw_macaddr_cfg MAC Address  = 00:94:8b:00:40:e8
MAC Address from pnetdev->dev_addr= 00:94:8b:00:40:e8
[   13.150000] MAC Address from pnetdev->dev_addr= 00:94:8b:00:40:e8
bDriverStopped:1, bSurpriseRemoved:0, bup:0, hw_init_completed:0
[   13.170000] bDriverStopped:1, bSurpriseRemoved:0, bup:0, hw_init_completed:0
<6>usbcore: registered new interface driver rtl8192cu
[   13.180000] usbcore: registered new interface driver rtl8192cu
Started Apply Kernel Variables                                         [  OK  ]
boot.localnet[98]: Using boot-specified hostname 'linux.site'
Started Configuration File System                                      [  OK  ]
Started FUSE Control File System                                       [  OK  ]
boot.localnet[98]: Setting up hostname 'linux'..done
boot.localnet[98]: Setting up loopback interface RTNETLINK answers: File exists
Started LSB: setup hostname and yp                                     [  OK  ]
boot.localnet[98]: ..done
<6>EXT4-fs (mmcblk0p2): re-mounted. Opts: user_xattr,barrier=1,data=ordered
[   25.740000] EXT4-fs (mmcblk0p2): re-mounted. Opts: user_xattr,barrier=1,data=ordered
Started Remount Root FS                                                [  OK  ]
Starting Recreate Volatile Files and Directories...
Starting Load Random Seed...
Started Load Random Seed                                               [  OK  ]
Started Recreate Volatile Files and Directories                        [  OK  ]
Started Setup Virtual Console                                          [  OK  ]
Starting Console System Startup Logging...
Starting Restore Sound Card State...
Starting System Logging Service...
Starting LSB: Purge old kernels...
Starting LSB: Configure the localfs depending network interfaces...
Starting Login Service...
Starting Permit User Sessions...
Started Console System Startup Logging                                 [  OK  ]
Started LSB: Purge old kernels                                         [  OK  ]
Started Permit User Sessions                                           [  OK  ]
Started Restore Sound Card State                                       [  OK  ]
Starting Serial Getty on ttyS0...
Started Serial Getty on ttyS0                                          [  OK  ]
Starting Getty on tty1...
Started Getty on tty1                                                  [  OK  ]
Stopped systemd-kmsg-syslogd.service                                   [  OK  ]
Started System Logging Service                                         [  OK  ]
Starting D-Bus System Message Bus...
Started D-Bus System Message Bus                                       [  OK  ]
Started Login Service                                                  [  OK  ]


Welcome to Dummy Product - Kernel 3.0.38+ (ttyS0).


linux login: network[241]: Setting up (localfs) network interfaces:
network[241]: lo
network[241]: lo        IP address: 127.0.0.1/8
network[241]: ..done    eth1
<6>ADDRCONF(NETDEV_UP): eth1: link is not ready
<6>ADDRCONF(NETDEV_CHANGE): eth1: link becomes ready
<6>smsc95xx 2-1.2:1.0: eth1: link up, 100Mbps, full-duplex, lpa 0x45E1
<7>eth1: no IPv6 routers present
network[241]: eth1      Starting DHCP4 client. . .
network[241]: eth1      IP address: 147.2.207.42/24
network[241]: ..done    tunl0
Failed to start LSB: Configure the localfs depending...work interfaces [FAILED]
See 'systemctl status network.service' for details.
Starting LSB: handles udev coldplug of bluetooth dongles...
Starting Command Scheduler...
Started Command Scheduler                                              [  OK  ]
Starting LSB: Configure the remote-fs depending network interfaces...
Starting OpenSSH Daemon...
network[241]: No configuration found for tunl0
Starting /etc/init.d/boot.local Compatibility...
network[241]: ..unused    wlan0
network[241]: No configuration found for wlan0
network[241]: ..unused    eth0                                No interface found
network[241]: ..failedSetting up service (localfs) network  .  .  .  .  .  .  .  .  .  ...failed
bluez-coldplug[1634]: ..done
Started LSB: handles udev coldplug of bluetooth dongles                [  OK  ]
Started /etc/init.d/boot.local Compatibility                           [  OK  ]
Started OpenSSH Daemon                                                 [  OK  ]
network-remotefs[1636]: Setting up (remotefs) network interfaces:
network-remotefs[1636]: Setting up service (remotefs) network  .  .  .  .  .  .  .  .  .  ...done
Started LSB: Configure the remote-fs depending network interfaces      [  OK  ]

3, install X11
1), zypper in patterns-openSUSE-xfce
Problem: patterns-openSUSE-xfce-12.2-7.1.armv7hl requires patterns-openSUSE-x11, but this requirement cannot be provided
  uninstallable providers: patterns-openSUSE-x11-12.2-7.1.armv7hl[suse-factory]
 Solution 1: deinstallation of dummy-release-11-16.3.armv7hl
1002 new packages to install, 1 to remove.
...
Overall download size: 503.9 MiB. After the operation, additional 1.4 GiB will be 
used. 
2), kernel backtrace while install and scp. after reboot, it is ok. 
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<4>rcu_kthread: page allocation failure: order:3, mode:0x4020
Backtrace:
[<c003d168>] (dump_backtrace+0x0/0x110) from [<c05c3024>] (dump_stack+0x18/0x1c)
 r6:00000000 r5:00004020 r4:00000000 r3:00000102
[<c05c300c>] (dump_stack+0x0/0x1c) from [<c00c9808>] (warn_alloc_failed+0xc8/0x10c)
[<c00c9740>] (warn_alloc_failed+0x0/0x10c) from [<c00cd580>] (__alloc_pages_nodemask+0x4e0/0x724)
 r3:d984fd2c r2:00000000
 r8:00000000 r7:c0815b8c r6:d984e000 r5:00000000 r4:00004020
[<c00cd0a0>] (__alloc_pages_nodemask+0x0/0x724) from [<c00cd7dc>] (__get_free_pages+0x18/0x34)
[<c00cd7c4>] (__get_free_pages+0x0/0x34) from [<c0100c44>] (__kmalloc_track_caller+0x110/0x118)
[<c0100b34>] (__kmalloc_track_caller+0x0/0x118) from [<c0489a08>] (__alloc_skb+0x5c/0xe8)
 r7:00000000 r6:d9802100 r5:00004a40 r4:cef7d300
[<c04899ac>] (__alloc_skb+0x0/0xe8) from [<bf00bae0>] (rx_submit+0x30/0x350 [usbnet])
[<bf00bab0>] (rx_submit+0x0/0x350 [usbnet]) from [<bf00d0e8>] (usbnet_bh+0x3e0/0x53c [usbnet])
 r8:bf00d8bc r7:00000003 r6:00000000 r5:d9b5d400 r4:00000004
[<bf00cd08>] (usbnet_bh+0x0/0x53c [usbnet]) from [<c006f490>] (tasklet_action+0x70/0xd0)
 r8:c07de62c r7:00000000 r6:c08a0dc0 r5:c07de620 r4:00000000
[<c006f420>] (tasklet_action+0x0/0xd0) from [<c006f6b8>] (__do_softirq+0xb8/0x140)
 r7:00000101 r6:d984e000 r5:c08a0e1c r4:00000001
[<c006f600>] (__do_softirq+0x0/0x140) from [<c006f908>] (do_softirq+0x58/0x60)
[<c006f8b0>] (do_softirq+0x0/0x60) from [<c006fa7c>] (local_bh_enable+0xb4/0xb8)
 r4:d984e000 r3:00000001
[<c006f9c8>] (local_bh_enable+0x0/0xb8) from [<c00b5c4c>] (rcu_process_callbacks+0xa0/0xac)
 r5:d9020c00 r4:d9020c00
[<c00b5bac>] (rcu_process_callbacks+0x0/0xac) from [<c00b5d34>] (rcu_kthread+0xdc/0xf0)
 r6:d984ff90 r5:d984e000 r4:c08b0e50 r3:200e0113
[<c00b5c58>] (rcu_kthread+0x0/0xf0) from [<c00865f8>] (kthread+0x90/0x94)
 r8:00000000 r7:00000013 r6:c00b5c58 r5:00000000 r4:d983bf28
[<c0086568>] (kthread+0x0/0x94) from [<c006d0fc>] (do_exit+0x0/0x748)
 r6:c006d0fc r5:c0086568 r4:d983bf28
Mem-info:
Normal per-cpu:
CPU    0: hi:  186, btch:  31 usd: 111
active_anon:11042 inactive_anon:46 isolated_anon:0
 active_file:15460 inactive_file:44275 isolated_file:27
 unevictable:0 dirty:1716 writeback:1 unstable:0
 free:2035 slab_reclaimable:3434 slab_unreclaimable:1235
 mapped:1601 shmem:181 pagetables:181 bounce:0
Normal free:8140kB min:2696kB low:3368kB high:4044kB active_anon:44168kB inactive_anon:184kB active_file:61840kB inactive_file:177100kB unevictable:0kB isolated(anon):0kB isolated(file):108kB present:455168kB mlocked:0kB dirty:6864kB writeback:4kB mapped:6404kB shmem:724kB slab_reclaimable:13736kB slab_unreclaimable:4940kB kernel_stack:1048kB pagetables:724kB unstable:0kB bounce:0kB writeback_tmp:0kB pages_scanned:0 all_unreclaimable? no
lowmem_reserve[]: 0 0 0
Normal: 1565*4kB 207*8kB 2*16kB 6*32kB 0*64kB 0*128kB 0*256kB 0*512kB 0*1024kB 0*2048kB 0*4096kB = 8140kB
59930 total pagecache pages
0 pages in swap cache
Swap cache stats: add 0, delete 0, find 0/0
Free swap  = 0kB
Total swap = 0kB
114688 pages of RAM
2344 free pages
36008 reserved pages
3370 slab pages
38465 pages shared
0 pages swap cached
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped
<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been d
3), add swap into A1000
/dev/sda2 swap swap defaults 0 0

4, maybe I need compile X11 driver for Mali. ref"14:20 2012-07-19"6.
download these packages.

11:01 2012-07-27
arm, board, Allwinner, A10, mele A1000, try linux, cont4, try X11, cont1
1, this is the third time install failed.
1), the error message yestoday
Installing: kernel-default-3.4.4-1.2 .................................................................................................................................[done]
Additional rpm output:
warning: /var/cache/zypp/packages/suse-factory/armv7hl/kernel-default-3.4.4-1.2.armv7hl.rpm: Header V3 DSA/SHA1 Signature, key ID a4e5a8f4: NOKEY
/usr/lib/module-init-tools/weak-modules2: line 295: sort: command not found
/sbin/mkinitrd: line 274: stat: command not found
/sbin/mkinitrd: line 274: stat: command not found
/sbin/mkinitrd: line 274: stat: command not found
 is not a directory
/usr/lib/module-init-tools/weak-modules2: line 1: rm: command not found


Installing: perl-XML-LibXML-1.95-3.3 ---------------------------------------------Bus error
2), although my install is not finished. the welcome message has been changed from "Welcom to linux" to: 
Welcome to openSUSE 12.2 Beta 2 (Mantis) (armv7hl)!
Welcome to openSUSE 12.2 "Mantis" Beta 2

2, there are so many package need to be install. try x11: 
zypper in patterns-openSUSE-x11
1), X11 failed. 
linux:~ # startx                                              
hostname: Name or service not known                           
xauth:  file /root/.serverauth.3800 does not exist            
xauth:  file /root/.Xauthority does not exist
xauth:  file /root/.Xauthority does not exist

X.Org X Server 1.12.2
Release Date: 2012-05-29
X Protocol Version 11, Revision 0
Build Operating System: openSUSE SUSE LINUX
Current Operating System: Linux linux 3.0.38+ #12 PREEMPT Wed Jul 25 18:00:54 CST 2012 armv7l
Kernel command line: console=ttyS0,115200 root=/dev/mmcblk0p2 init=/init loglevel=8 rootfstype=ext4 rootwait
Build Date: 26 June 2012  06:23:48PM

Current version of pixman: 0.24.4
        Before reporting problems, check http://wiki.x.org
        to make sure that you have the latest version.
Markers: (--) probed, (**) from config file, (==) default setting,
        (++) from command line, (!!) notice, (II) informational,
        (WW) warning, (EE) error, (NI) not implemented, (??) unknown.
(==) Log file: "/var/log/Xorg.0.log", Time: Fri Jan  1 00:54:32 2010
(==) Using config directory: "/etc/X11/xorg.conf.d"
(==) Using system config directory "/usr/share/X11/xorg.conf.d"

Fatal server error:
no screens found

Please consult the The X.Org Foundation support
         at http://wiki.x.org
 for help.
Please also check the log file at "/var/log/Xorg.0.log" for additional information.

Server terminated with error (1). Closing log file.

xinit: giving up
xinit: unable to connect to X server: Connection refused
xinit: server error
-------------------------------------------------------------------------------------------
xinit failed. /usr/bin/Xorg is not setuid, maybe that's the reason?
If so either use a display manager (strongly recommended) or adjust /etc/permissions.local

3, try compile
1), prepare enviroment
(1), put mali opengl library to lib dir
linux:/usr/mali/prebuilt_opengl_library/mali_opengl_hf_lib # ll
total 17008
-rwxr-xr-x 1 root root  575049 Jun 21 14:05 libEGL.so
-rwxr-xr-x 1 root root  575049 Jun 21 14:05 libEGL.so.1
-rwxr-xr-x 1 root root  575049 Jun 21 14:05 libEGL.so.1.4
-rwxr-xr-x 1 root root 2179763 Jun 21 14:05 libGLESv1_CM.so
-rwxr-xr-x 1 root root 2179763 Jun 21 14:05 libGLESv1_CM.so.1
-rwxr-xr-x 1 root root 2179763 Jun 21 14:05 libGLESv1_CM.so.1.1
-rwxr-xr-x 1 root root 1898495 Jun 21 14:05 libGLESv2.so
-rwxr-xr-x 1 root root 1898495 Jun 21 14:05 libGLESv2.so.2
-rwxr-xr-x 1 root root 1898495 Jun 21 14:05 libGLESv2.so.2.0
-rwxr-xr-x 1 root root 3329901 Jun 21 14:05 libMali.so
-rwxr-xr-x 1 root root   54861 Jun 21 14:05 libUMP.so
linux:/usr/mali/prebuilt_opengl_library/mali_opengl_hf_lib # ln -s `pwd` /usr/lib/mali
linux:/usr/mali/prebuilt_opengl_library/mali_opengl_hf_lib # ll /usr/lib/mali
lrwxrwxrwx 1 root root 52 Jul 27 12:16 /usr/lib/mali -> /usr/mali/prebuilt_opengl_library/mali_opengl_hf_lib
(2), put the header of UMP userspace driver source code to system include dir
linux:/usr/mali/UMP_userspace_driver/DX910-SW-99006-r2p4-02rel1/DX910-SW-99006-r2p4-02rel1/driver/src/ump/include/ump # ll
total 56
-rw-r----- 1 messagebus users 10971 May  3  2012 ump_debug.h
-rw-r----- 1 messagebus users  8414 May  3  2012 ump.h
-rw-r----- 1 messagebus users 16186 May  3  2012 ump_osu.h
-rw-r----- 1 messagebus users  1678 May  3  2012 ump_platform.h
-rw-r----- 1 messagebus users  2287 May  3  2012 ump_ref_drv.h
-rw-r----- 1 messagebus users  5001 May  3  2012 ump_uk_types.h
linux:/usr/mali/UMP_userspace_driver/DX910-SW-99006-r2p4-02rel1/DX910-SW-99006-r2p4-02rel1/driver/src/ump/include/ump # ll /usr/include/ump
lrwxrwxrwx 1 root root 111 Jul 27  2012 /usr/include/ump -> /usr/mali/UMP_userspace_driver/DX910-SW-99006-r2p4-02rel1/DX910-SW-99006-r2p4-02rel1/driver/src/ump/include/ump
These are required to build the mali xserver driver.
(3), install package
((1)), install xorg-xerver development package
zypper in xorg-x11-server-sdk xorg-x11-util-develk 
if not installed, the following error will be encounted during configure
checking for XORG... configure: error: Package requirements (xorg-server >= 1.0.99.901 xproto fontsproto ) were not met:

No package 'xorg-server' found
No package 'xproto' found
No package 'fontsproto' found
((2)), install make and gcc
zypper in make gcc

2), Compile the xserver-video-mali
do the following command in the "linux:/usr/mali/EXA_DRI2_And_X11_Display_Drivers/DX910-SW-99003-r2p4-02rel1/DX910-SW-99003-r2p4-02rel1/x11/xf86-video-mali-0.0.1"
    LDFLAGS="-L/lib -lMali -lUMP -lpthread"
    ./configure --prefix=/usr --x-includes=/usr/include --x-libraries=/usr/lib
    make
    make install
    cp xorg.conf /etc/X11

notes:
(1), there is a error in the xf86drm.h:  
 gcc -DHAVE_CONFIG_H -I. -I.. -fvisibility=hidden -I/usr/include/xorg -I/usr/include/pixman-1 -g -O2 -c mali_fbdev.c  -fPIC -DPIC -o .libs/mali_fbdev.o
In file included from mali_fbdev.c:39:0:
/usr/include/xf86drm.h:40:17: fatal error: drm.h: No such file or directory
compilation terminated.

linux:/usr/include # diff -up xf86drm.h.orig xf86drm.h
--- xf86drm.h.orig      2012-07-27 12:34:50.000000000 +0000
+++ xf86drm.h   2012-07-27 12:34:28.000000000 +0000
@@ -37,7 +37,7 @@
 #include <stdarg.h>
 #include <sys/types.h>
 #include <stdint.h>
-#include <drm.h>
+#include <libdrm/drm.h>

 #if defined(__cplusplus) || defined(c_plusplus)
 extern "C" {

(2), the mali_drv.so and mali_drv.la will be installed to:
/usr/lib/xorg/modules/drivers/mali_drv.so
/usr/lib/xorg/modules/drivers/mali_drv.la

(3), install
Libraries have been installed in:
    /usr/lib/xorg/modules/drivers

(4), modify xorg.conf
linux:/etc/X11 # diff -up /usr/mali/EXA_DRI2_And_X11_Display_Drivers/DX910-SW-99003-r2p4-02rel1/DX910-SW-99003-r2p4-02rel1/x11/xf86-video-mali-0.0.1/xorg.conf xorg.conf
--- /usr/mali/EXA_DRI2_And_X11_Display_Drivers/DX910-SW-99003-r2p4-02rel1/DX910-SW-99003-r2p4-02rel1/x11/xf86-video-mali-0.0.1/xorg.conf  2012-05-03 21:33:41.000000000 +0000
+++ xorg.conf   2012-07-27 12:39:18.649021503 +0000
@@ -4,16 +4,15 @@ Section "Device"
        Identifier "Mali FBDEV"
        Driver  "mali"
        Option  "fbdev"            "/dev/fb0"
-       Option  "DRI2"             "true"
-       Option  "DRI2"             "true"
-       Option  "DRI2_PAGE_FLIP"   "true"
+       Option  "DRI2"             "false"
+       Option  "DRI2"             "false"
+       Option  "DRI2_PAGE_FLIP"   "false"
        Option  "DRI2_WAIT_VSYNC"  "false"
 EndSection

 Section "Screen"
        Identifier      "Mali Screen"
        Device          "Mali FBDEV"
-       DefaultDepth    24
 EndSection

 Section "DRI"

3), reboot for freeing the memory. 

4), start
(1), the display module(lcd, hdmi, disp) already comple into kernel.
(2), modprobe failed, maybe the modprobe version is too old? 
modprobe ump mali mali_drm
linux:~ # modprobe ump mali mali_drm
FATAL: Error inserting ump (/lib/modules/3.0.38+/kernel/drivers/gpu/mali/ump/ump.ko): Unknown symbol in module, or unknown parameter (see dmesg)

the error in dmesg: 
[  516.470000] ump: Unknown parameter `mali'

if i modprobe the module one by one, it is ok. 
linux:~ # modprobe ump
linux:~ # modprobe mali
linux:~ # modprobe mali_drm
(3), check the module
linux:~ # lsmod
Module                  Size  Used by
mali_drm                1954  0
drm                   195121  1 mali_drm
mali                  149774  0
ump                    47609  1 mali
8192cu                510930  0
snd_usb_audio         103528  0
smsc95xx               18594  0
snd_hwdep               5130  1 snd_usb_audio
snd_usbmidi_lib        26227  1 snd_usb_audio
snd_rawmidi            19202  1 snd_usbmidi_lib
usbnet                 26159  1 smsc95xx

there is a little bit different between my lsmod and website. the ump module is used by mali and disp in the latter one: 
ump 47762 2 mali,disp
(4), start X fail
linux:~ # X -verbose &
[1] 3270
linux:~ #
X.Org X Server 1.12.2
Release Date: 2012-05-29
X Protocol Version 11, Revision 0
Build Operating System: openSUSE SUSE LINUX
Current Operating System: Linux linux 3.0.38+ #12 PREEMPT Wed Jul 25 18:00:54 CST 2012 armv7l
Kernel command line: console=ttyS0,115200 root=/dev/mmcblk0p2 init=/init loglevel=8 rootfstype=ext4 rootwait
Build Date: 26 June 2012  06:23:48PM

Current version of pixman: 0.24.4
        Before reporting problems, check http://wiki.x.org
        to make sure that you have the latest version.
Markers: (--) probed, (**) from config file, (==) default setting,
        (++) from command line, (!!) notice, (II) informational,
        (WW) warning, (EE) error, (NI) not implemented, (??) unknown.
(==) Log file: "/var/log/Xorg.0.log", Time: Fri Jan  1 00:14:20 2010
(==) Using config file: "/etc/X11/xorg.conf"
(==) Using config directory: "/etc/X11/xorg.conf.d"
(==) Using system config directory "/usr/share/X11/xorg.conf.d"
(==) No Layout section.  Using the first Screen section.
(**) |-->Screen "Mali Screen" (0)
(**) |   |-->Monitor "<default monitor>"
(**) |   |-->Device "Mali FBDEV"
(==) No monitor specified for screen "Mali Screen".
        Using a default monitor configuration.
(==) Automatically adding devices
(==) Automatically enabling devices
(WW) The directory "/usr/share/fonts/Type1/" does not exist.
        Entry deleted from font path.
(WW) The directory "/usr/share/fonts/100dpi" does not exist.
        Entry deleted from font path.
(WW) The directory "/usr/share/fonts/URW/" does not exist.
        Entry deleted from font path.
(WW) The directory "/usr/share/fonts/cyrillic" does not exist.
        Entry deleted from font path.
(WW) The directory "/usr/share/fonts/misc/sgi" does not exist.
        Entry deleted from font path.
(==) FontPath set to:
        /usr/share/fonts/misc:unscaled,
        /usr/share/fonts/75dpi:unscaled,
        /usr/share/fonts/truetype/,
        built-ins
(==) ModulePath set to "/usr/lib/xorg/modules/updates,/usr/lib/xorg/modules"
(II) The server relies on udev to provide the list of input devices.
        If no devices become available, reconfigure udev or disable AutoAddDevices.
(II) Loading /usr/lib/xorg/modules/extensions/libextmod.so
(II) Module extmod: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 1.0.0
(II) Loading /usr/lib/xorg/modules/extensions/libdbe.so
(II) Module dbe: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 1.0.0
(II) Loading /usr/lib/xorg/modules/extensions/libglx.so
(II) Module glx: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 1.0.0
(==) AIGLX enabled
(II) Loading /usr/lib/xorg/modules/extensions/librecord.so
(II) Module record: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 1.13.0
(II) Loading /usr/lib/xorg/modules/extensions/libdri.so
(II) Module dri: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 1.0.0
(II) Loading /usr/lib/xorg/modules/extensions/libdri2.so
(II) Module dri2: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 1.2.0
(II) Loading /usr/lib/xorg/modules/drivers/mali_drv.so
(II) Module mali: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 0.0.1
MaliSetup
MaliIdentify
(II) MALI: driver for Mali Framebuffer: mali
(--) using VT number 2

(WW) Falling back to old probe method for mali
MaliProbe
MaliHWProbe
(II) MALI(0): using /dev/fb0
(WW) VGA arbiter: cannot open kernel arbiter, no multi-card support
(II) MALI(0): MaliPreInit: ENTER
(II) MALI(0): MaliGetRec: ENTER
(II) MALI(0): MaliHWInit: ENTER
(II) MALI(0): MaliHWGetDepth: ENTER
(II) MALI(0): Creating default Display subsection in Screen section
        "Mali Screen" for depth/fbbpp 24/32
(==) MALI(0): Depth 24, (==) framebuffer bpp 32
(==) MALI(0): RGB weight 888
(==) MALI(0): Default visual is TrueColor
(==) MALI(0): Using gamma correction (1.0, 1.0, 1.0)
(II) MALI(0): MaliHWGetVidmem: ENTER
(II) MALI(0): MaliHWGetName: ENTER
(II) MALI(0): hardware:  (video memory: 10125kB)
(**) MALI(0): DRI disabled. No support in config file
(**) MALI(0): DRI Fullscreen page flip disabled. No support in config file
(**) MALI(0): DRI Fullscreen page flip VSYNC disabled
(**) MALI(0): DRI disabled. No support in config file
(**) MALI(0): DRI Fullscreen page flip disabled. No support in config file
(**) MALI(0): DRI Fullscreen page flip VSYNC disabled
(II) MALI(0): MaliHWGetFD: ENTER
(II) MALI(0): FBDev_crtc_config: ENTER
(II) MALI(0): FBDev_crtc_config: EXIT
(II) MALI(0): Output LCD has no monitor section
(II) MALI(0): Mode 1440 x 900 valid
(II) MALI(0): Printing probed modes for output LCD
(II) MALI(0): Modeline "1440x900"x60.0   89.38  1440 1460 1480 1520  900 920 940 980 (58.8 kHz e)
(II) MALI(0): Output LCD connected
(II) MALI(0): Using sloppy heuristic for initial modes
(II) MALI(0): Output LCD using initial mode 1440x900
(II) MALI(0): Using default gamma of (1.0, 1.0, 1.0) unless otherwise stated.
(II) MALI(0): MaliHWSetVideoModes: ENTER
(--) MALI(0): Virtual size is 1440x900 (pitch 1440)
(**) MALI(0):  Driver mode "1440x900": 89.4 MHz (scaled from 0.0 MHz), 58.8 kHz, 60.0 Hz
(II) MALI(0): Modeline "1440x900"x60.0   89.38  1440 1460 1480 1520  900 920 940 980 (58.8 kHz e)
(==) MALI(0): DPI set to (96, 96)
(II) Loading /usr/lib/xorg/modules/libfb.so
(II) Module fb: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 1.0.0
(==) Depth 24 pixmap format is 32 bpp
(II) MALI(0): MaliScreenInit: ENTER
(II) MALI(0): MaliHWMapVidmem: ENTER
(II) MALI(0): MaliHWLinearOffset: ENTER
(II) MALI(0): MaliHWSave: ENTER
(II) MALI(0): MaliHWModeInit: ENTER
(II) MALI(0): MaliHWSetMode: ENTER
(II) MALI(0): MaliHWSaveScreen: ENTER
(II) MALI(0): MaliHWAdjustFrame: ENTER
(II) Loading /usr/lib/xorg/modules/libexa.so
(II) Module exa: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 2.5.0
(II) MALI(0): maliSetupExa: ENTER
(II) MALI(0): XRES: 1440 YRES: 900 PHYS: 0x5a001000 VIRT: 0x4061a000
(II) MALI(0): XRES: 1440 YRES: 900 PHYS: 0x5a001000 VIRT: 0x4061a000
X: symbol lookup error: /usr/lib/xorg/modules/drivers/mali_drv.so: undefined symbol: ump_open

[1]+  Exit 127                X -verbose
(5), I guess the above error because I do not compile the UMP userspace driver source code. ump_open is defined in ump_frontend.c
linux:/usr/mali/UMP_userspace_driver/DX910-SW-99006-r2p4-02rel1/DX910-SW-99006-r2p4-02rel1/driver/src/ump # grep ump_open * -R
arch_011_udd/ump_frontend.c:UMP_API_EXPORT ump_result ump_open(void)
include/ump/ump.h:UMP_API_EXPORT ump_result ump_open(void);
((1)), modify the Makefile
linux:/usr/mali/UMP_userspace_driver/DX910-SW-99006-r2p4-02rel1/DX910-SW-99006-r2p4-02rel1/driver/src/ump # diff -up Makefile.orig Makefile
--- Makefile.orig       2010-01-01 00:22:36.000000000 +0000
+++ Makefile    2010-01-01 00:25:46.000000000 +0000
@@ -17,10 +17,10 @@
 UMP_DIR ?= .
 UMP_LIB ?= libUMP
 UDD_OS ?= linux
-CROSS_COMPILE ?= arm-none-linux-gnueabi-
+#CROSS_COMPILE ?= arm-none-linux-gnueabi-
 TARGET_CC ?= $(CROSS_COMPILE)gcc
 TARGET_AR ?= $(CROSS_COMPILE)ar
-CFLAGS += -I$(UMP_DIR)/include -I$(UMP_DIR)/include/ump -Wall -march=armv6 -mthumb-interwork -fno-strict-aliasing -Wno-strict-aliasing -Wno-long-long -O3
+CFLAGS += -I$(UMP_DIR)/include -I$(UMP_DIR)/include/ump -Wall -fno-strict-aliasing -Wno-strict-aliasing -Wno-long-long -O3 -fPIC

 include ump.mak

or the following error message will be encountered: 
/usr/lib/gcc/armv7hl-suse-linux-gnueabi/4.7/../../../../armv7hl-suse-linux-gnueabi/bin/ld: ./arch_011_udd/ump_arch.o: relocation R_ARM_THM_MOVW_ABS_NC against `a local symbol' can not be used when making a shared object; recompile with -fPIC
./arch_011_udd/ump_arch.o: could not read symbols: Bad value
collect2: error: ld returned 1 exit status
make: *** [libUMP.so] Error 1
((2)), copy to /usr/lib/ump
linux:/usr/mali/UMP_userspace_driver/DX910-SW-99006-r2p4-02rel1/DX910-SW-99006-r2p4-02rel1/driver/src/ump # mkdir /usr/lib/ump; cp libUMP.* -p /usr/lib/ump/
linux:/usr/mali/UMP_userspace_driver/DX910-SW-99006-r2p4-02rel1/DX910-SW-99006-r2p4-02rel1/driver/src/ump # ll /usr/lib/ump/
total 68
-rw-r--r-- 1 root root 36352 Jul 27 13:14 libUMP.a
-rwxr-xr-x 1 root root 30194 Jul 27 13:14 libUMP.so
((3)), the error is same.

(6), I have no idea about it. about discuss with several colleague. force set -l while linking. there is because the "-shared" flags. 
((1)), before set
linux:/usr/mali/EXA_DRI2_And_X11_Display_Drivers/DX910-SW-99003-r2p4-02rel1/DX910-SW-99003-r2p4-02rel1/x11/xf86-video-mali-0.0.1 # ldd /usr/lib/xorg/modules/drivers/mali_drv.so
        libc.so.6 => /lib/libc.so.6 (0x40136000)
        /lib/ld-linux-armhf.so.3 (0x40091000)
((2)), linking with "-lUMP -lpthread" 
linux:/usr/mali/EXA_DRI2_And_X11_Display_Drivers/DX910-SW-99003-r2p4-02rel1/DX910-SW-99003-r2p4-02rel1/x11/xf86-video-mali-0.0.1/src # gcc -shared  .libs/mali_fbdev.o .libs/mali_exa.o .libs/mali_lcd.o .libs/mali_dri.o   -Wl,-soname -Wl,mali_drv.so -o .libs/mali_drv.so  -lUMP -lpthread
linux:/usr/mali/EXA_DRI2_And_X11_Display_Drivers/DX910-SW-99003-r2p4-02rel1/DX910-SW-99003-r2p4-02rel1/x11/xf86-video-mali-0.0.1/src # ldd .libs/mali_drv.so
        libUMP.so => /usr/lib/libUMP.so (0x40179000)
        libpthread.so.0 => /lib/libpthread.so.0 (0x401ae000)
        libc.so.6 => /lib/libc.so.6 (0x401c2000)
        /lib/ld-linux-armhf.so.3 (0x4008a000)

4, final X start log:
linux:/usr/mali/EXA_DRI2_And_X11_Display_Drivers/DX910-SW-99003-r2p4-02rel1/DX910-SW-99003-r2p4-02rel1/x11/xf86-video-mali-0.0.1 # X -verbose &
[1] 29959
linux:/usr/mali/EXA_DRI2_And_X11_Display_Drivers/DX910-SW-99003-r2p4-02rel1/DX910-SW-99003-r2p4-02rel1/x11/xf86-video-mali-0.0.1 #
X.Org X Server 1.12.2
Release Date: 2012-05-29
X Protocol Version 11, Revision 0
Build Operating System: openSUSE SUSE LINUX
Current Operating System: Linux linux 3.0.38+ #12 PREEMPT Wed Jul 25 18:00:54 CST 2012 armv7l
Kernel command line: console=ttyS0,115200 root=/dev/mmcblk0p2 init=/init loglevel=8 rootfstype=ext4 rootwait
Build Date: 26 June 2012  06:23:48PM

Current version of pixman: 0.24.4
        Before reporting problems, check http://wiki.x.org
        to make sure that you have the latest version.
Markers: (--) probed, (**) from config file, (==) default setting,
        (++) from command line, (!!) notice, (II) informational,
        (WW) warning, (EE) error, (NI) not implemented, (??) unknown.
(==) Log file: "/var/log/Xorg.0.log", Time: Fri Jul 27 14:44:53 2012
(==) Using config file: "/etc/X11/xorg.conf"
(==) Using config directory: "/etc/X11/xorg.conf.d"
(==) Using system config directory "/usr/share/X11/xorg.conf.d"
(==) No Layout section.  Using the first Screen section.
(**) |-->Screen "Mali Screen" (0)
(**) |   |-->Monitor "<default monitor>"
(**) |   |-->Device "Mali FBDEV"
(==) No monitor specified for screen "Mali Screen".
        Using a default monitor configuration.
(==) Automatically adding devices
(==) Automatically enabling devices
(WW) The directory "/usr/share/fonts/Type1/" does not exist.
        Entry deleted from font path.
(WW) The directory "/usr/share/fonts/100dpi" does not exist.
        Entry deleted from font path.
(WW) The directory "/usr/share/fonts/URW/" does not exist.
        Entry deleted from font path.
(WW) The directory "/usr/share/fonts/cyrillic" does not exist.
        Entry deleted from font path.
(WW) The directory "/usr/share/fonts/misc/sgi" does not exist.
        Entry deleted from font path.
(==) FontPath set to:
        /usr/share/fonts/misc:unscaled,
        /usr/share/fonts/75dpi:unscaled,
        /usr/share/fonts/truetype/,
        built-ins
(==) ModulePath set to "/usr/lib/xorg/modules/updates,/usr/lib/xorg/modules"
(II) The server relies on udev to provide the list of input devices.
        If no devices become available, reconfigure udev or disable AutoAddDevices.
(II) Loading /usr/lib/xorg/modules/extensions/libextmod.so
(II) Module extmod: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 1.0.0
(II) Loading /usr/lib/xorg/modules/extensions/libdbe.so
(II) Module dbe: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 1.0.0
(II) Loading /usr/lib/xorg/modules/extensions/libglx.so
(II) Module glx: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 1.0.0
(==) AIGLX enabled
(II) Loading /usr/lib/xorg/modules/extensions/librecord.so
(II) Module record: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 1.13.0
(II) Loading /usr/lib/xorg/modules/extensions/libdri.so
(II) Module dri: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 1.0.0
(II) Loading /usr/lib/xorg/modules/extensions/libdri2.so
(II) Module dri2: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 1.2.0
(II) Loading /usr/lib/xorg/modules/drivers/mali_drv.so
(II) Module mali: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 0.0.1
MaliSetup
MaliIdentify
(II) MALI: driver for Mali Framebuffer: mali
(--) using VT number 2

(WW) Falling back to old probe method for mali
MaliProbe
MaliHWProbe
(II) MALI(0): using /dev/fb0
(WW) VGA arbiter: cannot open kernel arbiter, no multi-card support
(II) MALI(0): MaliPreInit: ENTER
(II) MALI(0): MaliGetRec: ENTER
(II) MALI(0): MaliHWInit: ENTER
(II) MALI(0): MaliHWGetDepth: ENTER
(II) MALI(0): Creating default Display subsection in Screen section
        "Mali Screen" for depth/fbbpp 24/32
(==) MALI(0): Depth 24, (==) framebuffer bpp 32
(==) MALI(0): RGB weight 888
(==) MALI(0): Default visual is TrueColor
(==) MALI(0): Using gamma correction (1.0, 1.0, 1.0)
(II) MALI(0): MaliHWGetVidmem: ENTER
(II) MALI(0): MaliHWGetName: ENTER
(II) MALI(0): hardware:  (video memory: 10125kB)
(**) MALI(0): DRI disabled. No support in config file
(**) MALI(0): DRI Fullscreen page flip disabled. No support in config file
(**) MALI(0): DRI Fullscreen page flip VSYNC disabled
(**) MALI(0): DRI disabled. No support in config file
(**) MALI(0): DRI Fullscreen page flip disabled. No support in config file
(**) MALI(0): DRI Fullscreen page flip VSYNC disabled
(II) MALI(0): MaliHWGetFD: ENTER
(II) MALI(0): FBDev_crtc_config: ENTER
(II) MALI(0): FBDev_crtc_config: EXIT
(II) MALI(0): Output LCD has no monitor section
(II) MALI(0): Mode 1440 x 900 valid
(II) MALI(0): Printing probed modes for output LCD
(II) MALI(0): Modeline "1440x900"x60.0   89.38  1440 1460 1480 1520  900 920 940 980 (58.8 kHz e)
(II) MALI(0): Output LCD connected
(II) MALI(0): Using sloppy heuristic for initial modes
(II) MALI(0): Output LCD using initial mode 1440x900
(II) MALI(0): Using default gamma of (1.0, 1.0, 1.0) unless otherwise stated.
(II) MALI(0): MaliHWSetVideoModes: ENTER
(--) MALI(0): Virtual size is 1440x900 (pitch 1440)
(**) MALI(0):  Driver mode "1440x900": 89.4 MHz (scaled from 0.0 MHz), 58.8 kHz, 60.0 Hz
(II) MALI(0): Modeline "1440x900"x60.0   89.38  1440 1460 1480 1520  900 920 940 980 (58.8 kHz e)
(==) MALI(0): DPI set to (96, 96)
(II) Loading /usr/lib/xorg/modules/libfb.so
(II) Module fb: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 1.0.0
(==) Depth 24 pixmap format is 32 bpp
(II) MALI(0): MaliScreenInit: ENTER
(II) MALI(0): MaliHWMapVidmem: ENTER
(II) MALI(0): MaliHWLinearOffset: ENTER
(II) MALI(0): MaliHWSave: ENTER
(II) MALI(0): MaliHWModeInit: ENTER
(II) MALI(0): MaliHWSetMode: ENTER
(II) MALI(0): MaliHWSaveScreen: ENTER
(II) MALI(0): MaliHWAdjustFrame: ENTER
(II) Loading /usr/lib/xorg/modules/libexa.so
(II) Module exa: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 2.5.0
(II) MALI(0): maliSetupExa: ENTER
(II) MALI(0): XRES: 1440 YRES: 900 PHYS: 0x5a001000 VIRT: 0x40586000
(II) MALI(0): XRES: 1440 YRES: 900 PHYS: 0x5a001000 VIRT: 0x40586000
(EE) MALI(0): [maliSetupExa:457] failed to open UMP subsystem
(II) MALI(0): maliSetupExa: EXIT
(WW) MALI(0): Failed allocating EXA Driver!
(==) MALI(0): Backing store disabled
(==) MALI(0): Silken mouse enabled
(II) MALI(0): Changing mode to 1440 900 1440 1800
(II) MALI(0): RandR 1.2 enabled, ignore the following RandR disabled message.
(==) MALI(0): DPMS enabled
(--) RandR disabled
(II) AIGLX: Screen 0 is not DRI2 capable
(II) AIGLX: Screen 0 is not DRI capable
(II) AIGLX: Loaded and initialized swrast
(II) GLX: Initialized DRISWRAST GL provider for screen 0
(II) MALI(0): Setting screen physical size to 381 x 238
(II) MALI(0): fbdev_crtc_config_resize: width = 1440 height = 900
(II) config/udev: Adding input device axp20-supplyer (/dev/input/event0)
(**) axp20-supplyer: Applying InputClass "evdev keyboard catchall"
(**) axp20-supplyer: Applying InputClass "evdev keyboard catchall"
(II) Loading /usr/lib/xorg/modules/input/evdev_drv.so
(II) Module evdev: vendor="X.Org Foundation"
        compiled for 1.12.2, module version = 2.7.0
(II) Using input driver 'evdev' for 'axp20-supplyer'
(**) axp20-supplyer: always reports core events
(**) evdev: axp20-supplyer: Device: "/dev/input/event0"
(--) evdev: axp20-supplyer: Vendor 0x1 Product 0x1
(--) evdev: axp20-supplyer: Found keys
(II) evdev: axp20-supplyer: Configuring as keyboard
(II) XINPUT: Adding extended input device "axp20-supplyer" (type: KEYBOARD, id 6)
(II) config/udev: Adding input device C-Media USB Headphone Set   (/dev/input/event1)
(**) C-Media USB Headphone Set  : Applying InputClass "evdev keyboard catchall"
(**) C-Media USB Headphone Set  : Applying InputClass "evdev keyboard catchall"
(II) Using input driver 'evdev' for 'C-Media USB Headphone Set  '
(**) C-Media USB Headphone Set  : always reports core events
(**) evdev: C-Media USB Headphone Set  : Device: "/dev/input/event1"
(--) evdev: C-Media USB Headphone Set  : Vendor 0xd8c Product 0xc
(--) evdev: C-Media USB Headphone Set  : Found keys
(II) evdev: C-Media USB Headphone Set  : Configuring as keyboard
(II) XINPUT: Adding extended input device "C-Media USB Headphone Set  " (type: KEYBOARD, id 7)
(II) MALI(0): MaliHWSaveScreen: ENTER

linux:/usr/mali/EXA_DRI2_And_X11_Display_Drivers/DX910-SW-99003-r2p4-02rel1/DX910-SW-99003-r2p4-02rel1/x11/xf86-video-mali-0.0.1 # DISPLAY=:0 xcalc
Warning: Cannot convert string "calculator" to type Pixmap


(II) config/udev: Adding input device Logitech USB Optical Mouse (/dev/input/mouse0)
(II) No input driver specified, ignoring this device.
(II) This device may have been added with another device file.
(II) config/udev: Adding input device Logitech USB Optical Mouse (/dev/input/event2)
(**) Logitech USB Optical Mouse: Applying InputClass "evdev pointer catchall"
(**) Logitech USB Optical Mouse: Applying InputClass "evdev pointer catchall"
(II) Using input driver 'evdev' for 'Logitech USB Optical Mouse'
(**) Logitech USB Optical Mouse: always reports core events
(**) evdev: Logitech USB Optical Mouse: Device: "/dev/input/event2"
(--) evdev: Logitech USB Optical Mouse: Vendor 0x46d Product 0xc05a
(--) evdev: Logitech USB Optical Mouse: Found 12 mouse buttons
(--) evdev: Logitech USB Optical Mouse: Found scroll wheel(s)
(--) evdev: Logitech USB Optical Mouse: Found relative axes
(--) evdev: Logitech USB Optical Mouse: Found x and y relative axes
(II) evdev: Logitech USB Optical Mouse: Configuring as mouse
(II) evdev: Logitech USB Optical Mouse: Adding scrollwheel support
(**) evdev: Logitech USB Optical Mouse: YAxisMapping: buttons 4 and 5
(**) evdev: Logitech USB Optical Mouse: EmulateWheelButton: 4, EmulateWheelInertia: 10, EmulateWheelTimeout: 200
(II) XINPUT: Adding extended input device "Logitech USB Optical Mouse" (type: MOUSE, id 8)
(II) evdev: Logitech USB Optical Mouse: initialized for relative axes.
(**) Logitech USB Optical Mouse: (accel) keeping acceleration scheme 1
(**) Logitech USB Optical Mouse: (accel) acceleration profile 0
(**) Logitech USB Optical Mouse: (accel) acceleration factor: 2.000
(**) Logitech USB Optical Mouse: (accel) acceleration threshold: 4

5), try xfce again. there are some errors while install some package: 
(1), 
/usr/share/glib-2.0/schemas/org.freedesktop.Tracker.Extract.gschema.xml: Error on line 5 char 1: <enum id='org.freedesktop.Tracker.TrackerVerbosity'> not (yet) defined..  This entire file has been ignored.
e.g. brasero-3.4.1-4.1, nautilus-3.4.2-1.2, totem-3.4.2-3.1, quadrapassel-3.4.2-2.2, shotwell-0.12.3-1.2, simple-scan-3.3.92-1.4, swell-foop-3.4.2-2.2
(2), after install. kill X, typing "startx", ICEWM instead of xfce is started again. 

11:06 2012-07-27
GTD
0, 11:00-17:35

1, today
1), 11:07 try linux on mele A1000. see"11:01 2012-07-27"
2), 11:14-11:38 check the mail. see"11:14 2012-07-27" 
3), 10' openstack, crowbar, see"12:00 2012-07-27"

11:14 2012-07-27
mailing list, hackweek8, virtualization, xen, vm, speed up the xm vnc connection on vm boot; kernel, driver, video, bootsplash
1, "Olaf Hering <ohering@suse.de>"_email_"[kernel] [PATCH] add splash=black option to our bootsplash code"_20120727_0224
The patch below is part of the result of my hackweek project.

If I connect to a VM via a slow link (GSM/DSL) with 'xm vnc vm'
screenupdates are very slow due to all the fancy drawing. The kernel
patch extends bootsplash to draw just a black screen on request, if the
kernel is booted with splash=black. Only the logo and the progress bar
is still shown.

Other changes I have made will recognize this boot option and tell GNOME
to draw a black solid background image as well.

Are there any objections to add such a change to the SP2 branch (and
perhaps other branches as well)?

2, bamvor
1), the patch modify: 
 drivers/video/bootsplash/bootsplash.c |    9 +++++++++
 drivers/video/bootsplash/render.c     |    6 +++++-
2), I have notice this problem too. but i dot not think I could improve it.(这问题我也注意到了, 但是没想自己改进). 

12:00 2012-07-27
mailing list, devel-server, work report; cloud, virtualization, openstack, crowbar2
1, Jim work report
Notes from Crowbar2 design summit (previously posted to cloud-devel)
Companies Participating: SUSE, Dell, OpsCode, Ubuntu, Puppet labs,
Mirantis, Intel, Dreamhost, Deutsche Telekom, and Morphlabs.

10:13 2012-07-30
arm, board, Allwinner, A10, mele A1000, try linux, cont5, try X11, cont2; free flash play: gnash
1, start xfce is ok. 
2, IceWM: Warning: glyph not found: 32034
3, flash player is missing. 
1), send mail
title: flash player is missing? 
Hi, 

I have boot opensuse arm on my mele A1000(Allwinner A10 Cpu: Cortex-A8@1.2GHz). 
IceWM and xfce is ok. 
But I found that there is no flash player included in opensuse arm.  Is it true?
Do we have plan to work on it? There are lots of website counting on it. 
Thanks. 

bamvor
2), algraf reply
Hrm. I'm not aware of an official Adobe flash player build for non-Android on ARM. And even that one is cancelled now IIRC.  
However, you could give gnash a try :). Maybe it works for you?

4, backup the image
work_bak/Allwinner/image/opensuse/opensuse_arm_0730_1045_X_IceWM_ok__xfce_ok

5, try to install gnome-shell
1), zypper in gnome-shell
2), start gnome-shell
# X -verbose &
# DISPLAY=:0 gnome-shell
gnome-shell could started. but very very slow. 

6, fix "<3>smsc95xx 2-1.2:1.0: eth1: kevent 2 may have been dropped"
1), the meaning of this kernel message
https://bugs.launchpad.net/linux-linaro/+bug/664477
'4' appears to be EVENT_LINK_RESET while 2 is EVENT_RX_MEMORY.
(from linux/usb/usbnet.h) so it appears we have different causes
2), reason. 
(1), http://randomsamples.info/blog/phil/ubuntu-1010-and-kevent-2-may-have-been-dropped-errors-beagleboard-xm
increase the minimum amount of free system memory in the kernel. Beyond the problems of large log files, processes were crashing due to out of memory problems and the system would periodically become unresponsive for seconds to minutes any time there was an I/O intensive task running (at least that's when I usually seemed to see it on my system) such as recording or playing back video in MythTV, transferring large files, etc.
(2), meaning of min_free_kbytes, http://russ.garrett.co.uk/2009/01/01/linux-kernel-tuning/
vm.min_free_kbytes = 65536 
This tells the kernel to try and keep 64MB of RAM free at all times. It’s useful in two main cases: 
Swap-less machines, where you don’t want incoming network traffic to overwhelm the kernel and force an OOM before it has time to flush any buffers.  
x86 machines, for the same reason: the x86 architecture only allows DMA transfers below approximately 900MB of RAM. So you can end up with the bizarre situation of an OOM error with tons of RAM free.
3), work around
(1), unplug the smsc95xx uhost network card. the message will be stop in the near future. kernel may be very busy for handling this error message. So, wait for a moment. 
(2), set the proper value for my board. 
http://randomsamples.info/blog/phil/ubuntu-1010-and-kevent-2-may-have-been-dropped-errors-beagleboard-xm
echo 8192 > /proc/sys/vm/min_free_kbytes
The change can be made to persist across reboots by adding the following to /etc/sysctl.conf:
vm.min_free_kbytes = 8192
((1)), 8192 is not enough for me. try 16384: no error within 2 hour. 

7, try vnc
1), x11vnc
install and run x11vnc on mele A1000
# zypper in x11xnc
# x11vnc --display :0
run vncviewer on remote
# vncviewer ip_or_hostname:0

10:18 2012-07-30
company, colleague, HR, Claudia Ping
1, Wei, Chao FW email 
fyi 
br,
Charles
>>> 在  8:34 上午 的 7/30/2012 上，在讯息
<8BEDB1BE9881D446979472FAA28C63292C62CBEA@SEAXMB02.attachmate.com> 中，Andrea
Hayden <Andrea.Hayden@Attachmate.com> 写入：
> Hello All
> 
> I am very excited to welcome Claudia Ping to the team in China.  Claudia 
> joins us today as the HR Manager for Greater China, taking over 
> responsibility for the HR function in China, Hong Kong, Taiwan and Korea.
> 
> Claudia brings with her over 10 years of solid HR experience with her, in 
> both local and multinational organisations.  Claudia's most recent role was 
> with Tencent Technology, prior to that she was with Mars Food where she 
> gained experience in both HR and business roles.  Claudia has strong 
> experience in all facets of HR including recruitment/talent acquisition, 
> performance management, employee engagement and labour law.
> 
> Claudia is based in our Beijing office and I am looking forward to her 
> having a long and successful career with us.  Please take the time to welcome 
> Claudia to the team!
> 
> ** Please share this information with your teams.
> 
> Cheers
> Andrea
> 
> __________________________________________________________
> Andrea Hayden
> Regional Human Resources Director - Asia Pacific
> Level 4, 12-14 Claremont Street
> South Yarra VIC 3141
> Office - +61 3 9825 2321
> Mobile - + 61 423 022 621
> andrea.hayden@attachmate.com<mailto:andrea.hayden@attachmate.com>
> 
> [Description: Description: Description: 
> Attachmate]<http://www.attachmate.com/>[Description: Description: Description: 
> line][Description: Description: Description: 
> NetIQ]<http://www.netiq.com/>[Description: Description: Description: 
> line][Description: Description: Description: 
> Novell]<http://www.novell.com/>[Description: Description: Description: 
> line][Description: Description: Description: SUSE]<http://www.suse.com/>
 
2, outline for Claudia Ping
1), HR manager in Greater China. Taking over responsibility for the HR function in China, Hong Kong, Taiwan and Korea.
2), 10 years of solid HR experience
3), work in Tencent and Mars Food.  
Mars Food: gained experience in both HR and business roles. 

3, about Andrea Hayden
1), Regional Human Resources Director - Asia Pacific
2), based in South Yarra. 
South Yarra is a suburb of Melbourne. 
Melbourne, Canberra and Sydney are located in the south east of Australia. 

10:41 2012-07-30
GTD
0, 9:30-11:50 12:40-18:46

1, today
1), 10' check the mail. new HR manager. see"10:18 2012-07-30"
2), 30' 12:40-12:51 50' opensuse arm. see"10:13 2012-07-30"
3), 2h libvirt migration test. 

11:38 2012-07-30
opensuse, arm, status, 12.2 and gcj
1, "Alexander Graf <agraf@suse.de>"_email_"[opensuse-arm] gcj and 12.2 status"_20120728_1930
Hi guys,

Here's a short update from the last couple weeks / days on recent decisions we made quickly, to get things rolling.  
  1) There is now an openSUSE:12.2:ARM branch. That branch is currently in bootstrap and will probably be stuck there for the next weeks.
  2) We used to build everything with thumb2 code. We still do for Factory, but bumped 12.2 to legacy arm code.  

Now for some more detail on the respective items.  
--- openSUSE 12.2 --- 
We need to get a 12.2 release out. People don't want to play with a factory build that can break every day. They usually don't even do that on x86 which gets tested a lot more than the ARM builds :).  
So we figured, we should have a full 12.2 build available as soon as possible. We probably won't get all our ARM special fixes in for the release, so we're currently working on a solution to keep our ARM base open to change, while still maintaining update compatibility, so that we get all the glorious 12.2 hardening for all the non-ARM-specific issues. Stay tuned for details :).

--- gcj and thumb --- 
After a pretty tough debugging marathon, we finally found out last night that gcj miscompiles its hash map implementation (which is java code that gets compiled to assembly) when using thumb. Funnily enough neither Debian nor Fedora build with thumb as their default. Because neither Dirk nor me felt like digging into the full build process of gcj (which takes > 8h) to boil it down to a specific instruction that gets misplaced and it was already Friday, we concluded that we do: 
  * default to non-thumb (-marm) for the 12.2 build, so we don't accidentally hit bugs other distros haven't hit either
  * build gcj with -marm in Factory, until we figured out what the problem is 
We will write a full summary of what we did and what exactly we debugged things down to in a bug report against gcc, so that the upstream/Linaro folks don't need to go through the same tedious debugging as us.  
---

Once we're through that, we should have a working java stack everywhere. I'm also thrilled to see how many build failures we'll have left on 12.2 after all the thumb introduced issues are evaporated :).

Have a nice weekend!  

Alex

12:55 2012-07-30
virtualization, libvirt, migration, libxl(xenlight), lock, cont15, prepare send patch to upstream, debug, cont2
1, plan
1), debug the work from original migration patch. 

2, compare with 0628 version. 
got a migration successsful version about log/novell/hypervisor_and_tools/migrate/201207_add_full_lock/0730_v0.5_prepare_patch_cont1/1622_migration_test_20times_pass/patch_based_on_0628

3, it is ok after removing check message banner. I have no idea why it is ok now. But I will continue prepare lock patch. I hope i could send it to Jim on Wednesday. 
1), suspend failed after 6 times migration
libxl: error: libxl_dom.c:506:libxl__domain_suspend_common saving domain: domain did not respond to suspend request: Success
libxl: debug: libxl_dom.c:382:libxl__domain_suspend_common_callback issuing PVHVM suspend request via XenBus control node
libxl: debug: libxl_dom.c:387:libxl__domain_suspend_common_callback wait for the guest to acknowledge suspend request
libxl: error: libxl_dom.c:407:libxl__domain_suspend_common_callback guest didn't acknowledge suspend, cancelling request
libxl: error: libxl_dom.c:428:libxl__domain_suspend_common_callback guest didn't acknowledge suspend, request cancelled
xc: error: Suspend request failed: Internal error
xc: error: Domain appears not to have suspended: Internal error
xc: detail: Save exit rc=1
libxl: error: libxl_dom.c:506:libxl__domain_suspend_common saving domain: domain did not respond to suspend request: Success
2), I guess it is not relative the lock. 
test it tomorrow while prepare the lock patch. 

17:36 2012-07-30
arm, board, Allwinner, A10, mele A1000, meterial
1, allwinner a10 is a 1.2ghz cortex-a8 based soc include mali400-mp display adapter. 
here is two stb i buyed, both less than 400RMB. 
mk802(512m or 1g memory)
http://item.taobao.com/item.htm?id=14865433526
mele a1000(512m memory)
http://detail.tmall.com/item.htm?id=15150292332
2, A10 pad(I do not do more research on it, just for reference)
http://item.taobao.com/item.htm?id=15118560813
http://item.taobao.com/item.htm?id=16097356976

10:39 2012-07-31
GTD
0, 10:35-11:50 12:30-13:15 15:55-

1, today
1), mailing list. xen-arm. see"11:32 2012-07-31"
2), opensuse arm. see"16:21 2012-07-31"
3), libvirt libxl driver: prepare patch. see"17:37 2012-07-31"

11:32 2012-07-31
mailing list, xen, arm, Xen Document Days
1, Xen Document Days TODO
http://wiki.xen.org/wiki/Xen_Document_Days/TODO

16:21 2012-07-31
opensuse, arm
1, set default run x windows
1), yast2 runlevel
enter expert mode set 5 as default. 
2), 
3), edit windowmanager
linux:/etc/sysconfig # diff -up windowmanager.orig windowmanager
--- windowmanager.orig  2012-07-31 16:24:41.649144202 +0800
+++ windowmanager       2012-07-31 16:24:33.119089663 +0800
@@ -6,7 +6,7 @@
 #
 # Here you can set the default window manager (kde, fvwm, ...)
 # changes here require at least a re-login
-DEFAULT_WM="kde-plasma"
+DEFAULT_WM="xfce"

 ## Type:       yesno
 ## Default:    yes

17:37 2012-07-31
virtualization, libvirt, migration, libxl(xenlight), lock, cont16, prepare send patch to upstream, debug, cont3
0, find out the reason of "error: internal error Failed to destroy domain '-1'"

1, segmentation fault while libxlDomainMigrateFinish3 break point heat
#0  0x00007f3547742348 in main_arena () from /lib64/libc.so.6
#1  0x00007f354bb5b19f in xc_domain_restore (xch=0x804e00, io_fd=25,
    dom=<optimized out>, store_evtchn=5, store_mfn=0x7f353e703888,
    console_evtchn=6, console_mfn=0x7f353e703898, hvm=1, pae=1, superpages=0)
    at xc_domain_restore.c:1260
#2  0x00007f354bfb3863 in libxl__domain_restore_common (ctx=0x80a8f0,
    domid=1270287948, info=<optimized out>, state=<optimized out>,
    fd=1272532785) at libxl_dom.c:303
#3  0x00007f354bfac99e in domain_restore (dm_info=<optimized out>,
    state=<optimized out>, fd=<optimized out>, domid=<optimized out>,
    info=<optimized out>, ctx=<optimized out>) at libxl_create.c:217
#4  do_domain_create (ctx=0x80a8f0, d_config=0x7f353e7039c0, cb=0,
    priv=0x7f353e7039b4, domid_out=0x7f353e7039bc, restore_fd=25)
    at libxl_create.c:438
#5  0x00000000004daec7 in libxlVmStart (driver=0x7c6cd0, vm=0x802080,
    start_paused=false, restore_fd=25, driver_locked=false)
    at libxl/libxl_driver.c:1058
#6  0x00000000004db92d in doMigrateReceive (opaque=0x805460)
    at libxl/libxl_driver.c:4643
1), but the fault is in the doMigrateReceive which should be return before finish3 called. 

2, broken pipe
4969        ret = doMigrateSend(driver, vm, flags, sockfd);
(gdb)

Program received signal SIGPIPE, Broken pipe.
0x00007f8fb490c70d in write () from /lib64/libpthread.so.0

3, \todo: improve about error handling
linux-vm5:/etc/xen/vm # virsh migrate sles11_hvm_10_2 xen+ssh://linux-vm5
error: Requested operation is not valid: domain is already active as 'sles11_hvm_10_2'

libvirtd will hang after this operation. even reboot libvirtd is not work. 

4, error
linux-vm5:/etc/xen/vm # virsh migrate sles11_hvm_10_2 xen+ssh://linux-vm8
error: An error occurred, but the cause is unknown
1), src
2012-07-31 10:48:57.606+0000: 6087: error : libxlDomainMigrateConfirm3:5110 : internal error migration failed, try to resume on our end
2), dst

