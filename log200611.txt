1:37 2006-11-2
网址，嵌入式，powerPC，linux
http://penguinppc.org/
powerPC嵌入式linux网站

1:37 2006-11-2
网址，嵌入式，linux，JFFS
http://www.developer.axis.com/software/jffs/
JFFS Home Page，linux的一个日志型文件系统

13:32 2006-11-2
书，嵌入式，数字集成电路
乃燃和候哥那里有一本讲HDL语言验证的书，是自己复印的。感觉不错，如果需要可以借着看看。***

19:59 2006-11-2
同学信息，北工大，研三，数理学院，物理专业
孙远，可能是在北区吃饭时听到的我说我做linux和moto招聘的事。研三，数理学院，物理专
业，做过PCB板级模拟电路的设计，e.g.激光稳频器；单片机的开发（51，问问具体项目）；
实验室现在正在做一种楼宇里面使用的可视电话，类似于电力线上网，使用电源线传送。其他
方向的有人做过无线通信。实验室新买了arm7。孙远本人报了一个3G的培训班，bamvor，问一
下学习的内容，关注***。孙远本人想做嵌入式linux。互相留了联系方式。

20:22 2006-11-2
HSPICE安装问题。
安装软件，设置了FLEXlm License Manager以后，运行Hspui W-2005.03，打开一个范例，Simulate，要求选择lincese类型(文件)，并设置路径，设置后提示错误，查看出错信息发现是hostname不匹配。因为前端时间实验室统一修改了机器名。修改环境变量以后，仍然不行。后来注意到hspui的出错信息中的提示的环境变量里的机器名没有改变，于是把hspui退出，再进入，问题解决。说明hspui直接使用的打开软件时的环境变量设置，没有实时更新。

Debussy不能使用，查一下***

13:27 2006-11-3
嵌入式，java虚拟机
http://www.jopdesign.com/
http://www.opencores.org/projects.cgi/web/jop/overview
用VHDL编写的java虚拟机。
JOP is the implementation of the Java Virtual Machine (JVM) as concrete machine in hardware. The design has been sucessfully implemented in low cost FPGA devices from Altera (ACEX 1K50, Cyclone) and Xilinx (Spartan II and Spartan-3).

21:47 2006-11-3
求职招聘，问笔试/面试题目
李京波师兄明天去思科面试，数字前端
宋云扬师兄和罗仁贵过了威盛的笔试，准备去面试了。

14:25 2006-11-4
ptt模板网站
www.51ppt.com.cn
无忧ppt网站，有很多ptt模板

19:45 2006-11-4
待看，关注下面的网站或链接***：
http://www.bokee.com/ 博客网 你我的网络
拒绝冷漠 呼唤真诚：“抱抱陌生人”风靡全球| -专题中心-博客中国-博客网
http://zt.bokee.com/2006/baobao/index.shtml
http://www.free-hugs.com/
红网论坛，
http://bbs.rednet.cn/0-2.dll
红网与潇湘晨报联合征集《湖南人的血性故事》
http://bbs.rednet.cn/1-2.dll?BoardID=10&ID=3650832

20:04 2006-11-4
申请了晶门科技 SSD1300 OLED控制器；
要太阳人的OLED资料。

20:21 2006-11-4
要做的事：
1, 实验室：先把雏鹰那个板子画出来，如果急就先做出来。（已完成，需要我再看一下，王龙伟布局有问题，我自己重做）。还有遥控器和郑师兄的计算器芯片。
2, arm，s3c2410板子只有6个月的email和论坛技术支持。所以这学期要把开发板上linux基本内容跑完。
用户名：bamv. 产品ID号：YF2410IIS-BJJDLKJ051124。
技术支持：linux@embedon.com; wince@embedon.com
3, 杂，实验室，研一：与乃燃一起向吴老师说研一的安排。
下次和吴老师谈毕设时，问问吴老师对我在外面接活的看法。能不能拿到实验室做。	
4, 数字IC部分: leon2的配置, 下载和调试.
(22:49 2006-11-7)jtag线的问题***，暂时自己没有办法。写完科技基金和简历后用3,4办法。(11-22)考虑是不是上拉电阻的问题。
1), 接着试验msp430那根jtag，经检查线没有接错。还是不行。
使用方法这块板子焊的时候把msp430的jtag方向焊反了。使用时，在板子的背面对齐一脚后，单独用一根线把vcc引到板子上。leon板子上晶振和开关中间的那个插座的靠近开关和ps/2口的那个孔是vcc。
2), 找xilinx那个板子。除了10以外都找过了。
3), 周末请罗师兄和宋师兄帮忙解决；问论坛和客服。
4), 联系买leon的公司，能不能换一根。或者再买一根线。
(20:57 2006-11-16)
注意观察了一下，提示连接成功，但是可能是电压问题。查***，的确没有电压。
决定下周去买一根jtag线。约50元。同时买助焊剂。
拆开了热缩套管，发现里面的IC芯片标的是LXY，不知是什么意思。
5, 软件工程，用例		*****	没有头绪，需要对leon2项目，PTT电话项目进行，日志
				系统三个项目分析。
				(2006-8-11)上网找一个音视频产品，从这个产品的功
				能出发，进行分析，硬件平台使用leon2这个平台。***
找软件工程老师
6, 耿师姐建议每周五一起讲。11.10RFID 11.17linux 11.24led灯 12.1rfid芯片（彭振宇，王宁。这个还要看他们的兴趣）。这个计划和乃燃商量一下***。
7, 11.8之前交研究生科技基金解题申请（后来发现还要写解题报告，后来乃燃召集研二几个人和洋洋周二下午到周三上午赶完的）
8, log日志助手使用的grep等linux命令，能够通过mingw使用？
既然cygwin不支持中文，能不能用输入重定向的方法，把含有中文文字的文件做为logAssistant.sh的输入参数。
9, (16:23 2006-10-13)晚上没事儿时向得益网上传资料。（暂时不做了）
10, (22:49 2006-9-30) 与乃燃讨论：ESL与co-design是什么关系，是否是co-design的进一步发展？
bamvor: 初步讨论过，乃燃也不是很了解。
11, (21:49 2006-11-3)有时间写博客，rss与大学生家教网。加入“logAllOther200606222”文件
12, (22:31 2006-10-30)去学大网修改简历。突出编程，嵌入式系统。（暂时不做了）
13, (10:12 2006-11-5)(1)给王龙伟讲雏鹰版图(2)捡机器后面的mp3
14, (23:02 2006-11-8)要做的事***，嵌入式，嵌入式系统设计师。5.26考试。2月份报名。关注***
16, (19:32 2006-11-16)LEON2和LEON3有什么区别？***
17, (13:17 2006-11-17)做cisco的笔试题
18, 复印李京波师兄那个系统移植的讲义。

21:23 2006-11-4
思，嵌入式，msp430***：
msp430单片机的寄存器是16位的，能不能单独访问寄存器的高八位或低八位。如果可以可以进行优化：用于同时进行两个八位数相加；给液晶输出数据时1个寄存器可以输出两列数据，这样减少一次读数的时间。

23:50 2006-11-5
技巧，嵌入式，protel DXP
按住鼠标中键，可以进行拖动

0:13 2006-11-6
实验室，雏鹰板子
今天仔细看了王龙伟布的板子，觉得太乱了。
得重新布局才行。
下周完成。

10:38 2006-11-6
嵌入式, LEON, uClinux
LEON3无MMU的uClinux, 配置与LEON2一样, 可以在leon3的tsim仿真器上运行. 由于grmon对leon3支持的更好一些, 以后调试改为使用leon3. 让孙建辉按照<uClinux On Leon2>的文档, 用leon3跑一下***.
另外, 发邮件, 问一下leon3 linux能不能在tsim上面跑.（LEON3可以在GRSIM上运行，见下面的"22:28 2006-11-25"）

10:55 2006-11-6
嵌入式, linux, 调试, LEON, grom笔记
GRMON is implemented using three functional layers: command layer, debug
driver layer, and debug interface
layer. The command layer consist of a general command parser which implements commands that are independent of the used debug interface or target system. These commands include program downloading and flash programming.

Note that the -u option does not work when for snapgear linux applications.
Instead, a terminal emulator should be connected to UART 1 of the target system.
ahb[trace_length]: show AHB trace
hist[trace_length]: show trace histroy.
inst[trace_length]: show trace instructions.
tm[ahb|proc|both|none]: select trace mode.

GRMON如果使用-u参数, uart工作在loopback模式, For this to work, the following
restrictions must be met by the application: 
The UART control register must not be modified such that loop-back is disabled
The UART data register must not be read

Do not use the gdb where command in parts of an application where traps are
disabled (e.g.trap handlers).
Since the stack pointer is not valid at this point, gdb might go into an
infinite loop trying to unwind false stack
frames.

using uart to debug the hardware
On some hosts, it might be necessary to lower the baud rate in order to achieve a stable connection to the target. In this case, use the -baud switch with the 57600 or 38400 options.

***using Ethernet to debug (P22, 4.3)
If the target system uses the EDCL ethernet communication link core, GRMON can connect to the system using ethernet. (bamvor: search EDCL*** in ipcore lib)

***使用jtag或USB调试时, grmon执行属性需要是s, chmod +s grmon

11:06 2006-11-6
嵌入式, linux, bash
linux的命令行和dos类似, 有些命令行命令是bash内建命令. 如果用man command, 进入bash的手册, 说明该命令是bash的内建命令. 

13:17 2006-11-6
笔记，嵌入式
提点门外汉问题
自：http://forum.eetchina.com/FORUM_TOPIC_POST_1200018686_0.HTM?click_from=1000011503,8883567706,2006-11-06,EECOL,FORUM,GROUPTYPE=C
回复主题：刚接触，提点门外汉问题
提问者： 天地泰然
等级： 初入江湖
积分： 189分
你是否要设计芯片？有什么好构思？tdtrmp8@126.com林泰腾13714222776
bamvor: 关注这个帖子，和《复杂SOC设计这本书》，当时觉得受这本书是本科生参与翻译这个事实的影响，没有认真看就认为不好。有时间去实验室看看这本书，并且找英文版。

13:22 2006-11-6
近期安排，关注 2006第八届高交会电子展报道
http://www.ed-china.com/STATICS/SITE/ELEXCON2006.HTM?dmsource=EDCOL_061105_EETCOL

14:41 2006-11-6
近期安排***
本周说rfid时，问一下大家想听嵌入式linux的哪些内容，我的文档在ftp上。主要是上学期已经讲过一次，听过没听过的同学都照顾到。
另外要把log助手给大家介绍一下。下周例会之前log助手要完成log助手的12, 13两点。讲的内容要包括4510的演示。
本周组织本组同学写科技文献检索作业。***

16:08 2006-11-6
嵌入式, linux下载, 调试, LEON
linux下载运行需要做的工作:
1, 看GRMON(完成), mkprom(完成), bcc(完成)文档
 
2, 简单应用程序的串口/jtag下载调试, 网口下载调试
还有一个是gdb的调试
3, 逐步调试内存和必要的外围硬件. 

19:49 2006-11-6
近期安排***，求职招聘
拿到了今年思科的笔试题，明天去复印，打算认真分析一下。
找不到思科的招聘职位资料。这段时间每天要抽出时间关注招聘信息。

11:37 2006-11-8
会议***，嵌入式，uClinux
iccas.org，韩国，4.30之前提交extended abstract

14:24 2006-11-8
求职招聘，嵌入式，linux内核，长期有效***
自：OldLinux论坛 -- 有关早期Linux内核代码发展的论坛。
http://www.oldlinux.org/cgi-bin/topic.cgi?forum=24&topic=159&start=0&show=0
在OLS2005会议期间遇见了上海Intel公司的几名参加者（董耀祖 等），并且与他们共进了午餐。在讨论期间他们表示很愿意帮助本论坛的学习人员进一步学习Linux新内核，同时也希望我推荐一些内核开发人员去Intel公司工作。如果大家觉得自己有一定的实力，我可以提供应聘联系。你可以把简历email给我（gohigh@sh163.net 或者 gohigh@gmail.com），或者直接email给Intel公司的Eddie：eddie.dong@intel.com

0:21 2006-11-9
网址，嵌入式，待看
IT从业人员必看的10个论坛   	
发布时间： 2006-11-6 下午3:53
提问者： 蹦蹦兔
等级： 初入江湖
积分： 105分
IT方面的论坛太多了，有综合，有专业，有行业，在各个论坛里混了几年，体会颇深，以前是论坛哪里人多，往哪里去，新浪论坛，网易是经常去的，人多啊，好几十万，去了以后才发现没有意思，没有共同的语言，于是逛专业论坛，行业论坛，终于找到了共同语言，总结一下论坛的经验：人不在多，有仙则灵，贴不在多，有精则行，逛了大半辈子，一个IT人发展方向一定要除了技术外，业务，理论，思想一个都不能少，于是我推荐如下这些论坛，或许真能帮助您，做论坛，都是赔本的买卖，不收费还帮助你学习，得向斑竹们致敬啊。 　　 　　以下论坛排名不分先后，还有许多业界知名的论坛，主要有点偏门，这个不做概述，呵呵。　　 　　IT技术开发综合类　　http://community.csdn.net/ 　　适合人群：只适合软件开发者　　技术开发最全面的论坛，里面可以遇到很多牛人，版面也很全，什么J2EE，.NET啊，该有的全上，在这里基本上可以提出任何问题，人气也是最旺的，不过一般提出的意见都有正方两面的，所以最终解决问题，还是靠自己。 　　评价：专业，很牛逼，就是速度慢。 　　 　　http://www.52rd.com/bbs 　　适合人群：研发人员 　　我爱研发网，顾名思义，是针对R&D研发人员的，目前在射频，通信，手机研发是国内第一的，牛人不少，问题讨论的很彻底。论坛制度很人性化，设有资料交换区，有超大量有价值的资料。　　评价：强，速度还可以； 　　 　　http://bbs.chinaunix.net/forum/ 　　适合人员：系统工程师 　　这里的特色就是操作系统方面在业界是最著名的，牛人不少，目前，在数据库，网络方面也颇有建树，当然灌水方面也不赖，呵呵，属于温柔性 　　评价：强，速度还可以 　　 　　http://bbs.chinajavaworld.com/ 　　适合人员：JAVA开发 　　JAVA方面非常综合的论坛了，牛人也很多，是一个难得的JAVA论坛，涉及你想象的关于JAVA目前任何技术。 　　评论：强，速度还可以。 　　电子工程师类　　http://21icbbs.com/ 　　适合人员：电子工程师　　人气不错，覆盖面比较广，老牌了，就是有点和时代脱节了，无论是设计上还是内容上　　评论：强，速度还可以 　　http://www.eetchina.com/DG/eec_dg_home.htm 　　适合人员：电子工程师　　环球资源的子站，页面设计很大气，技术文章也比较及时和权威，是个难得的好网　　评论：强，速度还可以　　　　网络工程类 　　www.1000bbs.com 　　适合人员：布线/网络工程师　　人气很旺，特色是版面比较紧凑，综合布线这一块很权威，很窄很专，时间非常久了，颜色比较明快，就是太低端了， 　　评价：不错，速度一般 　　　　http://www.sharecenter.net/ 　　适合人员：网络工程师 　　之所以我喜欢是这个网站很多做CISCO工程都知道，也是别人介绍我去的，时间非常久了，颜色比较暗谈，属于忧郁型。 　　评价：不错，速度也还可以 　　 　　IT营销管理类 　　http://www.topren.net/forum/index.php 　　适合人员：企业策划，CIO 　　业界知名的知识站点“唐人社区”，信息化管理顾问可以去看看，人也很多，可惜，都是下载，实质性内容需要改观，我记得是非常专业的网站。 　　评价：不错，速度也还可以。 　　 　　IT管理综合类 　　http://club.amteam.org/ 　　适合人群：大多数， 　　评论类比较多，基本上在其他媒体上看到的评论，这里都会有，要想了解IT发展的情况，就来这里看看。 　　评价：很好，休闲工作都可以看。

9:36 2006-11-9
嵌入式，高手***，给他发邮件
自：http://forum.eetchina.com/FORUM_TOPIC_POST_1200019180_0.HTM
Free Tutorial blogs: Processor Design in Verilog
本人去年退休，从事IC设计有四十年,有UC Berkeley ph.D, 曾任 ESS，Centralitycomm 等公司的技术部门的负责人。我愿意把自己在Processor设计方面的经验免费提供给国内有兴趣的年青人。如有意请和我联系。 shengfang@eastday.com

9:45 2006-11-9
休闲，杀人游戏介绍
bamvor: 感觉挺有意思的
自：电子工程，手机设计论坛
http://forum.cellphone.eetchina.com/FORUM_POST_1200019396_0.HTM?click_from=1000011537,8883567706,2006-11-08,CPCOL,FORUM
杀人游戏的玩法大致是这样的：10-20个人大家做在一起围成圈，然后通过抽扑克牌或者其他什么决定一个人做法官主持游戏，2-3人做杀手，其他的都是好人。然后游戏就开始了。首先大家闭眼，然后杀手都睁开眼睛，决定杀一个人，被杀的人就退出游戏了。接着大家睁眼开始讨论谁会是杀手，经过一番公决后选出一人，然后将嫌疑人处决--无论最后证实他是好人或者杀人。接着再开始第二轮杀人，讨论，处决嫌疑人，如果最终杀手杀死了所有的好人，那么杀手获胜；相反如果好人们找出所有的杀手那么好人便获得的胜利。就是这么简单的一个游戏，却让许多人纷纷着迷，一局游戏可以多时可以玩上一两个小时，兴致高时连续玩上十几个小时也不愿听手，其魅力可见一斑。 
......

9:51 2006
-11-9
嵌入式，单片机，博客
http://carryonli.spaces.live.com/
一壶单片机：单片机开发，技术研究。 
待看***

14:44 2006-11-9
嵌入式, protel DXP
修改单位, Design-Board Options, Measurement, Unit选择Imperial, 用mil做为单位.
Tools-Reset Error Makers: 清除错误表示，就是把高亮显示的区域恢复正常。
Tools-Preferences-Display-Display Options: Highlight in Full, 表示出错区域全部高亮显示，否则仅仅边缘高亮显示。

16:06 2006-11-9
嵌入式，
金辉同学，用wince做了集散控制。

19:17 2006-11-9
YOCSEF-GS，我加入了这个组织。
http://yocsefgs.grids.cn/index.htm
中国计算机学会青年计算机科技论坛(简称YOCSEF)为了促进各高校及研究机构的研究生之间的学习和交流，帮助研究生提升科学研究能力和为其将来的职业生涯提供帮助，创建研究生分论坛。该分论坛全称为：中国计算机学会青年计算机科技论坛研究生分论坛，英文名称为：CCF Young Computer Scientists & Engineers Forum For Graduate Student，简称YOCSEF-GS。

15:02 2006-11-10
近期安排，有机会问问郭莉莉音频编码***

16:11 2006-11-10
孙建辉说pic i/o口不够用。经分析，可能是理解文档有问题。继续关注太阳能灯项目

20:18 2006-11-10
嵌入式，显示技术，FED关注
自：电子工程专辑，数字电视论坛
http://forum.digitaltv.eetchina.com/FORUM_POST_1200019486_0.HTM
FED英文全称是Field Emission Display，即场致发射显示器

20:39 2006-11-10
嵌入式，甘军宁，关注***
正在做加密键盘。就是使用led显示键盘上每个按键的作用。联：罗国华原来说看到的俄罗斯做的oled同类键盘。

00:48 2006-11-12
嵌入式，LEON***
有了LEON下载的过程。用DSU可以下载。下周，一方面看LEON启动原理，在TSIM上面试验。一方面接fpga的jtag线，问罗师兄。

00:42 2006-11-13
要做的事
继续下载www.gaisler.com除了snapgear linux以外的其它linux资料。

11:31 2006-11-13
嵌入式, 网络, skyeye, s3c2410, CS8900A, 关注***
bamvor: (22:26 2006-11-18) 远峰的开发板用的网络芯片也是CS8900A. ***
自: skyeye邮件列表
Date: Sun, 12 Nov 2006 09:59:22 +0800
From: "kang shuo" <blackfin.kang@gmail.com>
Subject: Re: [Skyeye-developer] CS8900A
There is a CS8900A + at91 testcase under at91/uclinux_cs8900/ of
testsuite-2.0 package of SkyEye.You can refer them.
Another testcase under s3c2410/2.4.18 directory of testsuite2 package
is cs8900a + s3c2410.
bamvor: CS8900A是cirrus logic公司的网络控制器
http://www.cirrus.com/en/products/pro/detail/P46.html
http://crystal.com/cn/products/pro/detail/P46.html

15:46 2006-11-13
网址，嵌入式，待看（网站和论坛）
http://www.upsdn.net/
便携多媒体播放器(PMP/MP4)等数码消费电子产品的研究开发与产品评测,关注基于ARM/DSP等嵌入式多媒体处理器的MPEG-4的编解码技术,各种实时嵌入式操作系统(RTOS)(如uCLinux uCOS/II等),以及其他嵌入式系统相关的网络通信与电路设计理论技术...
http://www.eepw.com.cn/
EEPW电子产品世界 - 依托科技核心期刊及时提供网络通信、消费电子、嵌入式系统、模拟、电源、测试测量等专题资讯和分析报道
http://www.ecnchina.com/index.asp

http://www.freefpga.com/
自由电子。bamvor: 一个做fpga开发板的公司

10:11 2006-11-14

10:27 2006-11-14
嵌入式，CPU，提问
自：http://forum.eetchina.com/thread.jspa?threadID=1200019180
您好，有几个问题想请教您：
1, 如果是为了学习数字IC设计，您觉得看CPU代码是否合适，看什么代码比较合适，8位，32位？因为与我同届或以前的同学最初学习数字IC时都看过CPU的代码。但是现在我们对于以后的同学如何培养有不同意见，有人认为看CPU代码工作量很大，而且毕业以后不一定会做CPU；有人认为CPU代码集中体现了数字IC的很多设计方法，而且看CPU会阅读大量HDL代码，这些对学习数字IC的入门都非常有帮助。
2, 我本人从事做嵌入式linux的开发，最近在fpga上的软核CPU(sparc v8)开发linux，希望研究linux内核以及体系结构。您觉得选择什么CPU比较合适？
(9:53 2006-11-20)
发了帖子后，一直没有回应。他又新开了一个帖子，说会在下面的博客写processor design in verilog的连载。
http://myverilog.sheng-fang.net/
http://sheng-fang.net/ 是他的网站

11:34 2006-11-14
软件下载***
http://www.9iv.com/
E维商务网,最新软件资讯,专业,热门软件信息,打造一流信息
您的E号: 399603 (登陆E维用E号)

14:01 2006-11-14
英语口语，明天下午6:30
di san 置业 B座506，xiao, www.oksp.cn

20:21 2006-11-14
网址，嵌入式，linux
http://www.linuxjournal.com
***

23:17 2006-11-14
论文，
说自己做的好在哪里。但不说别人哪里做的不好。

12:38 2006-11-15
查，美国CMP网站
自：献身西部大开发，中国新生代工程师与离岸外包“绝缘”？
http://www.eetchina.com/ART_8800441780_675277_0f6c9a86200611_no.HTM?click_from=1000011635,8883567706,2006-11-15,EECOL,EENEWS

14:48 2006-11-15
找，linux下生成pdf的工具 windows下是acrobat distiller

20:25 2006-11-15
嵌入式，家庭插电联盟，电力线网络，关注***
家庭插电联盟(HomePlug Powerline Alliance, Inc.)由业界倡议发起，旨在制订家庭高速电力线网络产品、家庭内部各平台间指令与控制以及入户宽带接入服务的技术规范。联盟赞助市场和用户培训项目，以此扩大全球对“家庭插电”型产品和服务的需求。65家以上行业领先企业成为该联盟会员。家庭插电联盟发起者包括：思科、Comcast、 EarthLink、通用电气公司旗下的通用电气安防公司、英特尔公司、摩托罗拉、 RadioShack公司、夏普美国实验室以及索尼公司。贡献会员企业包括：Arkados、Conexant、Gigle Semiconductor、Intellon Corporation和法国速比特公司。
自：着眼推动数字家庭技术发展，TI加入家庭插电联盟
http://www.mediaplayer.eetchina.com/ART_8800441654_2200001_6e2d6256200611.HTM?1000011634&8800441654&click_from=1000011634,8883567706,2006-11-14,MPCOL,EENEWS

21:24 2006-11-15
网址，嵌入式，重要***
http://www.embedded.com/

http://www.opensystems-publishing.com/
感觉也不错，待看
http://www.biplip.com/Default.aspx?tabid=1
移动开发网。感觉也不错，待看***

http://check.techtarget.com.cn/techtarget/login.jsp?service=http://searchmobilecomputing.techtarget.com.cn:80/askexperts/87/1814087.shtml
注册

查下面的杂志
C语言用户日记》(C Users Journal
嵌入式系统编程》(Embedded System Programming)

关于linux的一些链接，看
RT-Linux,ftp://ftp.fsmlabs.com/pub/rtlinux
RTAI, ftp://www.aero.polimi.it/RTAI/
KURT, http://www.ittc.ukans.edu/kurt/
Linux/RK, http://www.cs.cmu.edu/~rajkumar/linux-rk.html
RED-Linux, http://linux.ece.uci.edu/RED-Linux/SDK/
ART Linux, http://www.etl.go.jp/etl/robotics/Projects/ART-Linux/
SMART-Linux, http://www.ime.usp.br/~dilma
Linux-SRT, http://www.uk.research.att.com/~dmi/linux-srt/
QLinux, http://www.cs.umass.edu/~lass/software/qlinux/

linux会议，看论文集
http://dslab.lzu.edu.cn/rtlws8/index.html

22:51 2006-11-15
嵌入式, Leon, 简单程序的编译, 运行和调试
Leon程序在模拟器tsim上的运行和调试验, log见"uClinux on Leon\NonOS\"

注: 
1, 如果最后一个printf输出的字符串没有加"\n", 这个字符串的最后两字节的字符不会显示. 程序中间的prtinf输出字符串没有这个问题. 可以查一下printf的源代码***
2, /opt/sparc-elf-3.2.3/src/libgloss/sparc_leon, 目录下面好像是LEON的启动代码.
找进一步的资料(估计得先深入学习gcc), 分析***
3, gdb调试有问题, 下面是当时的过程. 查maillist
当时的过程见"uClinux on Leon\NonOS\gdbDebugLog"

11:34 2006-11-16
可能是工具链的目录有问题, 下午重新安装.
/opt/sparc-elf-3.2.3 可能应该是/opt/sparc-elf
(15:42 2006-11-16)
经检查, 安装目录没有问题.

13:47 2006-11-16
嵌入式，LEON综合，Xilinx DCM
WARNING:Bitgen:200 - CLKFX period 50000 ps is greater than maximum of 41700 ps.
这个警告是由于Xilinx DCM没有使用造成的，可以忽略。
原文如下：
自：Re: Fwd: leon3- synthesis problem
Posted by: "Jiri Gaisler" jiri@gaisler.com   jiri_gaisler

You can safely ignore this warning, it comes from a generic in the Xilinx DCM which is not used.

Jiri.

lava bhargava wrote:
> 
> Hi Jiri,
>  Hi all,
>      I have synthesized leon3 for digilent board
>  using
>  ise8.2i  on  linux platform. I have synthesized the
>  downloaded files as it is without any change.
>  
>  I got the following warning message during course of
>  synthesis. Which is this clock? CLKFX?  Please
>  help?.
>  
>  regards
>  Lava Bhargava
>   
>  WARNING:Bitgen:200 - CLKFX period 50000 ps is
>  greater
>  than maximum of 41700 ps.
>  Saving bit stream in "leon3mp.bit".
>  Creating bit mask...
>  Saving mask bit stream in "leon3mp.msk".
>  Bitstream generation is complete.
>  make: warning:  Clock skew detected.  Your build may
>  be incomplete.

14:52 2006-11-16
网址，嵌入式，bootloader，u-boot
http://www.denx.de/
http://sourceforge.net/projects/u-boot/

14:54 2006-11-16
要做的事***
搜集linux驱动资料

18:45 2006-11-16

18:53 2006-11-16
嵌入式，LEON，TSIM，多线程，查***
如果TSIM仿真多线程有问题，可以试试tsim启动时加上-bopt参数。
文档中对于"-dopt"的说明：
However, some (poorly written) code might use a busy loop (BA 0) instead of triggering power-down mode. The -bopt switch will enable a detection mechanism which will identify such behaviour and optimise the simulation as if the power-down mode was entered.
原文自：LEON邮件列表
http://tech.groups.yahoo.com/group/leon_sparc/
Re: tsim-leon3 2.0.6
Posted by: "Jerry Needell" jerry.needell@unh.edu   jerryneedell

Ah ha! It now works if I set the -bopt flag when I start tsim-eval-2.0.6 !!

Jerry Needell wrote:

>Jiri -
> I have been experimenting with the thread.c example and it runs
>using tsim-eval-2.0.5 but with tsim-eval-2.0.6 it prints:
>Starting threads
>then sits in the loop with no more output.
>
>- Jerry

23:17 2006-11-16
嵌入式，RFID
候哥说是要做替代msp430的那个芯片。做为师姐毕设的一部分。主要是实现SPI接口的主模式。

13:51 2006-11-17
嵌入式，AD，cs1242
自：http://forum.eetchina.com/thread.jspa?threadID=1200019492
cs1242是一款24位高精度ADC芯片,稳定性还可以，1倍增益的时候能保证21的有效位,128倍增益的时候也有十八九位,因为是国产品牌,价格还算便宜,只是转换速度相对较慢,不过在高精度电子称,显示仪表等方面足够了，或许在其他方面也可以用，大家可以说说,我们的一款电子称在用,所以我有它的DATA SHEET,有要的可以联系我 MSN:zhgyimin@hotmail.com

14:22 2006-11-17
网址，电脑咨询，守博推荐***
http://www.cnbeta.com/

15:04 2006-11-17
要买的东西
决定下周去买一根jtag线。约50元。助焊剂。热缩套管。电阻器(10K)。数字电位器。
msp430只有2121, 1101A，是否需要买新的。买msp430的开发板。

15:39 2006-11-17
刚才LEON板子电源部分短路一下。估计没事。

15:49 2006-11-17
嵌入式，arm, s3c2410, 远峰开发板学习
2410跑流程：
1, YF2410- II 型开发板使用手册里面的"2410test没有跑通"
2, 无法使用“YFSJF1.2 安装程序”烧写flash
(18:44 2006-11-17)
问题解决。原因很简单：文档说使用multi-jtag下载，我使用的是multi-ice，所以不行。开始问谢通师兄，师兄没收到短信，可能是关机了。后来去远峰的论坛查找原因，也没有找到。后来很失望的看远峰的产品介绍，看到了multi-jtag，猛然想起看到过这个，开始没注意看multi-jtag的标志，以为就是接口转换的。其实就是因为没有仔细看文档。
3, (19:19 2006-11-17) 实验室2410的板子配的是10.4寸的TFT触摸屏。驱动怎么办？上网查。
型号：NEC NL6448AC33-13
4, 远峰的multi-jtag可以用来下载cpld(好像alter公司的)，能不能用于下载xilinx fpga？估计可以，查**
cpld-jtag的原理图在远峰s3c2410开发版（YF2410-2型）底版原理图（SamArmDvk9-II底板.ddb）的buffer.sch中。
这个jtag只有四根线: TDI, TDO, TMS, TCK，查看leon fpga的原理图，同样是只有这四根线。考虑一下是否需要加上拉电阻：LEON板子上没有上拉电阻，2410板子上有上拉电阻。查一下leon那根jtag线上面是否加了上拉电阻。还是先做别的吧，周二或周三去买线。
(11-21)把4510的jtag叉到2410板子上，无法使用远峰flash烧写程序烧写flash，提示找不到开发板。
5, 文档"YF2410-IIlinux.pdf"看到了20页
6, (23:19 2006-11-20)
开始minicom不能用，把串口接到ttyS1，minicom也设置为ttyS1。就行了。不知道我实验室台式机的ttyS0为什么不行。
联：4510原来不能下载的原因可能也是这个。
7, (1)，在linux使用tftp出错。
TFTP from server 192.168.1.106; our IP address is 192.168.1.134
Filename 'YFloader.bin'.
Load address: 0x30008000
Loading: *
TFTP error: 'Access denied' (2)
Starting again
这是因为tftp没有开启，用下面的方法3开启。
(2), windows下如何下载？
tftp问题：在论坛上查，主要是防火墙的问题。高级用户的信息看不到。先注册。
设置tftp的方法1：
#vi /etc/xinetd.d/tftp,将其中“disable=yes”改为“disable=no”
#service xinetd.d restart    //重启xinetd.d
#chkconfig --list | grep 'tftp'   //显示tftp-server已启动
设置tftp的方法2：
netstat -a| grep tftp命令显示
udp   0   0  *:tftp            *:*
说明tftp服务已经启动。
***查上面命令的含义。
设置tftp的方法3：
我是使用ntsysv开启的tftp。开启以后，执行“chkconfig --list | grep 'tftp'”，显示“tftp: 启动”。但是“netstat -a| grep tftp”命令没有显示。注销在登录时linux死机，按了几次电源键后，关机。重新启动后，执行“netstat -a| grep tftp”，显示“udp	0	0 *:tftp		*:*”。说明tftp应该是启动了。
并且把主机和开发板ip地址设置为同一个网段（文档YF2410-IIlinux中，上位机192.168.1.106，开发板192.168.1.134）。tftp就可以使用了。
注：可以使用上位机测试tftp是否工作：启动tftp后在上位机的终端下输入tftp。然后使用get命令下载一个tftp工作目录的文件。如果没有出错，说明tftp工作正常。
另外file not found错误是找不到文件。
参考文档：嵌入式linux的tftp开发环境建立
位置：Embed嵌入式系统\OS操作系统\linux
8, 按照文档下载bootloader，内核和文件系统后，linux无法启动。重新用远峰写flash的程序写入bootloader(YFloader.bin)后，linux成功启动。后来发现是上位机的bootloader文件有问题造成的linux无法启动。注：使用load命令时最后一个地址需要比映象大，且低地址是0就可以。例如映象大小0x1873000，使用“load flash 0x40 0x1900000”。
下一步下载自己配置的内核：下载自己配置的内核和文件系统成功。仅仅是去除了没有用的部分，例如液晶屏驱动，qt等。映象见log/s3c2410目录。
9, 下一步读懂每一步的操作。在2410下使用按键和led，写驱动。然后实现液晶驱动。
0x30000000是flash的起始地址，学存储器地址是如何计算的。
10, (13:00 2006-11-22)
2410test如何使用？按照文档“YF2410- II 型开发板使用手册”，把文件下载后。却不知道如何使用，后来试着接上串口，按一下回车（2410test有一个菜单，如果没有输入选择会重新显示一次菜单），才看到了菜单，然后测试了下面的东西。
音频播放，录放：为了测试音频的播放，先擦除了flash。然后在运行2410test程序时axd无法测试，提示出错，处理器重启。开始很奇怪，以为是multi-ice的问题，在multi-ice中重新启动2410芯片，但是axd仍然不行，出现同样的错误提示。后来想到刚才是擦除了flash，现在2410没有程序，存储器和看门狗没有正确设置，想起光盘上有一个“ADS2410boot.ini”说是设置2410状态的。于是在axd的system view菜单的command line interface中输入ob ADS2410boot.ini，这样2410运行正常。
注：用axd载入程序后，可以先按F10执行一句，看看是否执行了显示在窗口的代码，如果是再继续调试，如果不是可以按上面步骤初始化2410。
录音：启动后选择11，record。可以用麦克风录音，然后会回放到耳机中。利用这里例子可以学习存储器，ad, da。利用音频播放那个学习串口通信和led灯的使用。

问题：
1, (22:21 2006-11-18)s3c2410 linux启动时, linuxrc脚本的最后一句: "exec
/sbin/init". 文档"YF2410-IIlinux.pdf"p12页, 说会执行root_china/usr/etc/rc.local. 为什么? 查linux帮助init是linux所有进程的父进程.  
2, 液晶屏驱动。
3, YF2410使用的vivi做为bootloader. 查vivi的使用方法。

21:17 2006-11-17芸注册的一个网站
http://www.myzlw.com
bamv2006

21:26 2006-11-17
帮刘成查一下下面的论文
1, Czamul, "Performance comparison of integrated continuous-time
integrators containing matched MOS transistors," in IEE Proc., Pt.G,
vol. 133, no. 4, pp. 203-208, 1986.
2, Z. Y. Chang and W. M. C. Sansen, Low-Noise Wide-Band Amplifiers
in Bipolar and CMOS Technologies. Nonvell, MA: Kluwer Academic,
1991.
这两篇文章实在当不着，帮帮忙！ 谢谢！！！

21:25 2006-11-19
嵌入式，uITRON
micro Industry The Real-time Operation system Nucleus，是一个标准。
适合与16, 32位系统。最小内核10-20k
查现在支持哪些CPU。可以做为实验室发展同时支持16/32位系统的一个备选。还有rtems和ucos2。
相关网页：
http://www.rtos.com/comp-uitron.asp
threadX对uITRON的兼容性。bamvor: threadX和uITRON什么关系？
http://forum.cellphone.eetchina.com/FORUM_POST_1100034442_0.HTM
对uITRON的讨论。

21:48 2006-11-19
网址，嵌入式，待看
http://www.embed.com.cn

21:49 2006-11-19
网址，嵌入式，待看
http://www.rtos.com/
一个实时操作系统提供商

12:16 2006-11-20
嵌入式，linux，文件系统，yaffs，待看。
http://www.aleph1.co.uk/taxonomy/term/31/
http://www.linuxfans.org/nuke/modules.php?name=Forums&file=viewtopic&t=111540

16:28 2006-11-20
网址，博客，
火鸟字幕合并工具作者的博客，待看。下载火鸟
http://blog.csdn.net/redbirdli/category/182219.aspx

20:04 2006-11-20
嵌入式，ADI的三轴MEMS加速计
bamvor: 老罗的ADI同事在做这个，（在blackfin讲座log中写的是加速度传感器）。
自：电子工程专辑，手机设计
MEMS技术全面“入侵”手机？设备商为推进应用各显神通
上网时间: 2006年11月20日
http://www.cellphone.eetchina.com/ART_8800442475_2000002_f0548e78200611.HTM?1000011691&8800442475&click_from=1000011691,8883567706,2006-11-20,CPCOL,EENEWS

21:34 2006-11-20
嵌入式, GCC, GDB技巧
自：gdb-guide
backtrace可以显示之前堆栈运行过程，可以用于查错。还要学习如果回溯一般的执行过程。***
break的用法：
break 行号
break 函数名
break 行号或函数名 if 条件

22:46 2006-11-21
网址，待看
http://www.yuanma.org
中国源码，常用网址，从这里下载了很多很好的文档
http://www.hhcn.com/chinese/embedlinux-res.htm
嵌入式linux开发资源大全
http://www.cnemb.com/
嵌入式研究网
http://www.embedworld.com/
嵌入式世界网
www.seekbooks.net
英文搜索网站，图书，网站。待看***
http://linuxdevices.com/
LinuxDevices.com -- your embedded Linux resource，待看***
http://baike.chinaecnet.com/eewiki/index.php/%E9%A6%96%E9%A1%B5
电子技术百科全书
http://www.bluewaternz.com/
一个做arm开发系统的公司。从上面找到一些系统移植的概要介绍。***
http://www.xxlinux.com/linux/
linux联盟, 不错的网站, 待看***

23:27 2006-11-21
嵌入式，linux, vivi
1, 如果实在找不到vivi，给vivi_usb@163.com（王生）发信，看他有没有。
http://www.hhcn.com/cgi-bin/topic.cgi?forum=6&topic=992&show=
2, http://www.pudn.com/downloads54/sourcecode/unix_linux/detail187533.html
有vivi，但是要注册一个月80元。
3, http://familyj.spaces.live.com/blog/cns!F3D148183B0189EE!169.entry
问了博主有没有。关注***

23:34 2006-11-21
嵌入式，2410
vivi暂时没有找到，上网问了人。先看远峰2410流程的其它部分。

13:33 2006-11-22
嵌入式，msp430，开发板，实验室
购买msp430开发板建议：
1, 有串口，led和键盘。io口有2.0的，用于接太阳人的液晶屏。
2, 如果为了学习也可以自己画一个，光栅那个板子基本就是开发板了。如果为了省事也可以买300左右的开发板。比自己做板子贵100元左右。

14:52 2006-11-22
网址，msn，电子行业群
http://www.szjunyuan168.zke360.com/AutoSite/TemplateFile/T63/ProductShow.aspx?id=2745
阿俊，在做充电器的公司。

16:01 2006-11-22
windows，技巧
在运行窗口输入“\\主机名”或“\\ip地址”会打开默认浏览器访问该机器。

16:17 2006-11-22
网址，常用，水木社区新版
http://new.smth.org/bbsdoc.php?board=Career_POST&ftype=6&page=267
招聘信息发布版。多看***

16:57 2006-11-22
嵌入式，IC设计的两个工作***
现在公司里面一般不说前端和后端。自张乃燃
LDV: logic design verification 逻辑设计验证工程师
SPR: synthesis placement routing 综合布局布线工程师

17:21 2006-11-22
加入RSS
http://myverilog.sheng-fang.net/?feed=rss2&p=3
http://myverilog.sheng-fang.net/?feed=rss2

20:43 2006-11-22
嵌入式，linux
现在远峰s3c2410基本的开发流程和工具都跑过了，参(15:49 2006-11-17)2410跑流程。下一步考虑如何做LEON的开发。自己做一个半年的计划：包括嵌入式linux做到什么程序，其中自己的代码量超过10000等。
路线图：先准备周五嵌入式linux报告，然后自己半年计划和实验室嵌入式linux计划一起写完，下周周五之前给吴老师。期间做两个工作：1, LEON uClinux下载运行成功（含买jtag线）；2, arm 2410存储器的使用（存储器的地址是如何确定的，存储器的读写），3, linux下led和键盘的驱动。

21:36 2006-11-22
嵌入式，linux，代码风格
indent可以按照指定的方式对源代码进行格式化，默认情况下使用GNU风格。如下命令可以把代码代为linux内核风格：
indent -kr -i8 -ts8 -sob -l80 -ss -bs -psl <文件名>
用这个软件，***。一直希望有一个修改代码风格的软件。

14:56 2006-11-23
英语，嵌入式，***
Incorporating an object-oriented architecture and written in ANCI C, ...
使用标准C语言和面向对象的体系结构, ......
可以用于显示会议那篇论文
自：How to make your asymmetric multiprocessor design OS and CPU independent
http://www.embedded.com/showArticle.jhtml?articleID=175007215

21:04 2006-11-23
嵌入式，我的研究生方向，音视频播放器
1, 查LEON邮件列表中运行linux的那个邮件是uClinux还是linux？如果是linux，就可以先跑2410的流程，然后2410 2.6内核的移植。然后把2410做为LEON linux的对照，写驱动程序，移植bootloader. 
2, 路线1：
1), uClinux2.0 On LEON2 的led灯的驱动程序。
2), s3c2410 linux2.6的移植，同时进行linux2.6在LEON的下载以及代码分析（本学期完成？）
3), 建立网络音视频播放器（linux2.6 LEON3），研二第二学期
3, “s3c2410linux文档”使用的是远峰的开发版，这个不错。学的难度有降低了不少。
4, (19:30 2006-11-24)路线2：
1) 本学期使用LEON实现音频播放，点阵液晶显示和局域网接口，基于uClinux。重点是熟悉硬件和编写驱动程序。
2) 第二学期：s3c2410 linux2.6的移植，同时进行linux2.6在LEON的下载以及代码分析；实现功能更强大的音视频播放器。
3) 这样的好处是尽快出了一个小的基于fpga和linux的东西。增大的下学期找兼职的可能。如果先做s3c2410Linux2.6移植，，感觉没有什么把握。
4) 难点：LEON fpga配置一个IIS是否方便？当然也可以考虑用IIC等其它接口模拟。考六级还需要分精力。而且还要考虑去芸芸家，可能会去的比较早。
5, (01:31 2006-11-28)路线3***:
1) 本学期实现led, 键盘和128*64点阵液晶.
2) 第二学期实现触摸屏的TFT液晶, 移植framebuffer驱动, 建立minigui环境. 基于minigui编写一个实用程序, 使用UML, 代码约10000行. 
3) 暑假软件模拟IIS, 实现音频播放. 
4) 研三第三学期移植u-boot.

15:12 2006-11-24
亚洲显示会议：40241。重要***
(02:01 2006-12-3)
自：http://ad07.ecnu.edu.cn/AD07%20Abstract%20Acceptance%20List.htm
40241: Oral
OLED Low-power and portable display system for OLED and LCD  
Jian Zhang 
Beijing University of Technology, China 
考完六级写论文。

15:35 2006-11-24
c语言，const含义，***
区分const int *a;int * const a;int const *a const;
开始总是分不清，后来发现只要认为const修饰其后的变量就明白了：
const int *a; const修饰int，所以是整型数是不能修改的，所以a是一个指向常整数的指针。
int * const a; const修饰a，a表示地址，所以地址是不能修改的，所以a是一个指向整数的常指针。
第三个a是一个指向常整数的常指针。
自：c语言进阶——第一讲概述.pdf（自C语言进阶——嵌入式系统高级C语言编程.rar）

15:51 2006-11-24
嵌入式，arm, s3c2410, 远峰开发板学习（续）
11, (15:14 2006-11-24)
读程序。在实验室看串口，ad,da等。不在实验室时看"ads2410boot.ini"以及开始的汇编初始化等基本工作。
2410addr.h定义寄存器地址。
分析：#define rGPFDAT    (*(volatile unsigned *)0x56000054) //Port F data
定义存储器映射寄存器rGPFFDAT，(*(volatile unsigned *)0x56000054)表示0x56000054地址保存的数据。
(volatile unsigned *)a，表示把a强制转化为挥发性的无符号整数指针，此时a保存的数据就是一个指针保存的数据——一个地址。*b表示取地址（b保存的数据）上面的保存的数据。最外面这个括号表示
GP表示General Purpose，F表示F端口，DAT表示数据寄存器。CON表示命令。不知道r表示什么？***. bamvor: r可能表示寄存器.
0x56000054地址可以从S3C2410.pdf查到，p275。这个地址是如何确定的？***
查核心板原理图“1_CPU.Sch”，nLED_1接GPF4，nLED_2接GPF7。
分析Led_Display：
void Led_Display(int data)
{
    /* (rGPFDAT & ~(0xf<<4))表示清除高四位的数据；((~data & 0xf)<<4)表示把输入数据设置为高四位，~data说明led是低有效 */
    rGPFDAT = (rGPFDAT & ~(0xf<<4)) | ((~data & 0xf)<<4);
}
也可以在AXD下面直接测试LED：
smem 0x56000054, 0x00000090, 32或smem 0x56000054, 0x90, 8或smem 0x56000054 0x90 8表示led灭。
smem 0x56000054, 0x80, 32表示led2亮。
注：smem是设置存储器数值的命令。命令格式：
smem 地址 数据 [位宽]
把一定位宽的数据写入地址
该看uart的初始化和收发了。今天看完。
2410音频采用了一个支持IIS的音频编解码芯片UDA1341TS.pdf，外围连接比较简单。启动脚本中有一句："/sbin/modprobe s3c2410-uda1341" 是加载音频模块的驱动，查是否有代码。

18:19 2006-11-24
查盈科管理培训生***

21:25 2006-11-24
嵌入式，linux，掌上电脑，论文阅读笔记
页码的表示：括号中的页码表示：pCAJ文件页码(p论文标注的页码)
基于ARM9_Linux的掌上电脑样机系统的设计与实现，西北工业大学，李伟
主体：感觉很多地方和远峰的2410开发板类似：从芯片选择2个一样，示意图一个一样。当然远峰好像也是抄板。看完论文后感觉基本就是把开发板原有资料重新，贴上一个数据手册的内核和开源的代码。总体感觉是没有什么实际工作。文中提到的画的是6层PCB板，暂时无法判断真假，参考p87(p81)的图，查***。
p37(p31): 触摸屏，低通滤波器，噪声滤波算法
在接入S3C2410A触摸屏接口前，触摸屏的坐标输入都通过一个阻容式低通滤波器滤除坐标信号噪声。这里的滤波十分重要，如果传递给S3C2410A模拟输入接口的信号中干扰过大，不利于后续的软件处理。针对坐标点采样时产生的噪声，本文采用噪声滤波算法，编写了相应的噪声滤波程序，滤除干扰采样点。
p60(p54): 烧写Flash的工具很多，比如FIashPGM+Wiggler, F1uteD, sjfz410等。系统中采用sjf2410工具通过JTAG对NAND Flash进行烧写，查这些软件。使用DNW监视串口。
p62(p56): 图4.7，bootloader显示的是"http://www.hfrk.net"和8项菜单。从这里可以看出bootloader不是自己写的。上网查找这是那个bootloader***。
p63(p57): linux内核采用2.4.18，是2410开发板普遍采用的版本，说明内核也没有移植。

0:38 2006-11-25
嵌入式，LEON3
使用Xilinux Virtex2pro FPGA可以达到125MHz, 使用典型的0.13um标准单元工艺，可以超过400MHz. 自："Leon3 Grlib folder"p2。
bamvor: LEON2从几十到一百多兆。这说明用LEON3做音视频播放器没有任何问题。可以大胆去做。

15:28 2006-11-25
嵌入式，我的毕业设计，音视频播放器的fgpa原型设计，本学期计划
自：logAllOther200606222"23:05 2006-11-24"，本周安排10, 最终想法：
1) 实现led驱动后；
2) 去买一根jtag线，下载LEON linux；
3) （取消）做完参考刘淼linux驱动那本书，完成音频PCB。这个要考虑一下：实验室给不给出钱；我会不会焊接；时间会不会很长。可能适合放到下学期。
4) （取消）同时看音频驱动。
5) 查看LEON的ip核没有IIS。下学期考虑去网上找一下网上有没有软核；或者买不需要IIS的音频器件。
6) 本学期完成led, 键盘，液晶的基本驱动，使用LEON3已经配置好的配置，下学期学如何自己配置。本科生可以完成彩色液晶驱动程序，甚至液晶驱动程序。下学期可以安排实现minigui。

15:43 2006-11-25
嵌入式，我的毕业设计，音视频播放器的fgpa原型设计，开发方法
采用原型开发方法（敏捷方法），最后要用上RUP, UML等。原因：人力有限（只有2-3人），瀑布方法无法保证项目推进。
原型1：基于LEON3 uClinux2.0的有键盘，led和单色液晶显示的系统；本学期完成。
原型2：基于LEON3 linux，有彩色液晶显示的视频播放系统：实现linux2.6（同时跑完2410linux2.6），彩色液晶驱动。研二第二学期完成。
原型3：bootloader, 音频，在virtex-2上进行下载试验...（待补充***）。
ppt在周四晚上做。1小时完成。

17:10 2006-11-25
嵌入式，我的毕业设计，音视频播放器的fgpa原型设计，开发方法
软件模拟环境：
1, tsim——LEON的指令集仿真器，用于仿真LEONcpu以及linux软件。由于评估版tsim不可配置硬件，，所以只能仿真部分功能。
2, skyeye——跨平台的仿真器，支持多个arm芯片和blackfin DSP，本课题中使用skyeye仿真2410开发板，与实验室2410开发板配合，是LEON3 Linux2.6开发的辅助工具，主要用于测试与体系结构无法的软件部分，例如，驱动，文件系统等等。
参考：一步一步在skyeye上运行Linux2.6for2410==+，位于/嵌入式系统/CPU/skyeye

17:49 2006-11-25
嵌入式，LEON, uClinux, 工具链的建立
见：Developing a Network Hardware Lock using uClinux on LEON2=+参考附录C编译sparc-linux工具链部分
自：罗仁贵师兄。

17:53 2006-11-25
网址，嵌入式，linux
http://www.kernel.org/
内核官方站点
http://vger.kernel.org/
邮件列表
http://marc.theaimsgroup.com/?l=linux-kernel
http://www.ussg.iu.edu/hypermail/linux/kernel/
两个非官方的邮件列表打包下载站点
http://vger.kernel.org/vger-lists.html
http://vger.kernel.org/vger-lists.html#sparclinux
看一下是什么，好像是不同体系结构的列表，再看***

有时间：继续看linux官方资源

订阅linux邮件列表

20:59 2006-11-25
嵌入式, arm, s3c2410, 远峰开发板学习（续）, 文件系统, 
mkcramfs是生成cramfs文件系统的工具, cramfs是一个使用zlib压缩算法的只读的压缩文件系统. "mkcramfs 目录 文件名", 把目录下内容生成为以文件名命名的cramfs文件系统映象.

22:28 2006-11-25
嵌入式, LEON, Linux2.6, grsim
使用基本配置+helloworld根据grsim配置为8Msram, 2Mrom, 成功编译后使用grsim启动,
grsim
load image.dsu
启动速度明显比uClinux2.0慢很多. 另外image.flashbz和image.tsim无法启动.说明Linux2.6.11没有问题, 以后就使用这个内核进行开发. Linux2.6.11已经可以支持2410了, 下学期可以考虑使它完全支持, 另外试一下skyeye能不能使用这个版本的内核. 如果可以就有了统一的内核版本. 
另外试验一下前几天新下载的内核***.
注: 之前tsim仿真器中无法运行, 原因是tsim不支持MMU. 

22:49 2006-11-25
嵌入式, fpga, LEON, fpga配置和引脚的使用
*.bit文件是fpga的配置文件, 使用jtag下载, 位于挥发性存储器中, 断电后内容消失. *.mcs文件是保存在prom中的fpga的配置文件, 使用jtag下载. *_0.mcs, *_1.mcs分别对应两块prom的下载文件.
LEON光盘"/Product_Documentation/Bitfiles/grlib-eval-1.0/"有leon3的SOC与fpga
pad的对应关系. "/Product_Documentation/Bitfiles/grlib-eval-1.0.2a/"没有,
但是有范例程序, 包括一个image.dsu(不能在grsim-eval-1.1.6中运行).
可以用1.0里面的mcs文件, 参考1.0.2a的例子. 
M0, M1, M2的含义在ds099.pdf p39页
PIN编号含义: IO_L28P_2, L表示, 28表示差分对的编号, P表示正输入/输出, N表示负输入/输出. 2表示Bank编号. p93. 是否所有pin都是差分对? 
leon3mp_pad.txt(grlib-eval-1.0)的引脚根据需要选用了P或N. 
如何使用一个引脚?
1, grsim或grmon中输入info sys显示系统所有资源, 可以得到所需设备的地址. 
2, 在grlib.pdf中查找该设备有哪些输出引脚;
3, 在leon3mp_pad.txt查映射到了哪个端口. 
//4, 从ds099.pdf p111开始根据封装型号和提供的pinout table网址下载文件. 查找具体是芯片的哪个引脚.
5, 根据gr-xc3s-1500原理图p3和光栅图(gerber), 找出在开发板的对应位置. 
6, 根据1中找到的地址, 访问对应引脚.
7, 问题, 综合时是如何指定的? 肯定有这一步. 配置LEON的问题, 留在第二学期解决. 

23:54 2006-11-25
嵌入式，我的毕业设计，音视频播放器的fgpa原型设计，进展
通过"22:28 2006-11-25"和"22:49 2006-11-25"LEON开发板已经可以有和2410板子类似的硬件配置, 完成本学期工作, 应该没有问题. 
下周要做的: DSU能否使用网口下载? 如果不能但是支持网络, 尝试NFS文件系统. 
将来要做的: 查pad文件是如何生成的(从leon3mp_pad.txt的描述看是Xilinx ISE生成的). 看懂pad文件.

15:41 2006-11-26
嵌入式，linux，待做***
硬盘上Linux Device Drivers这本书是基于Linux2.4的，有时间找新版。

16:33 2006-11-26
嵌入式，我的毕业设计，音视频播放器的fgpa原型设计，周五例会ppt结构
两部分，要控制在20'以内：
1, 解题：分软件和硬件
硬件：ip复用，pcb版图
软件：Linux SOC芯片和板级移植；bootloader的移植；Linux驱动程序的编写；中间件（minigui）。
2, 查找方法：
业内动态（嵌入式系统，Linux：3G手机，PMP，无线网络，ESL）；论文和文档：2410Linux文档；毕业论文；厂商招聘；

21:44 2006-11-26
uClinuxFPGA module hardware goes open source=+ADNP_ESC1+NIOS-50MHz+uClinux2.4
在http://www.altera.com提到的开发板uClinux支持的软件
How to use free software in FPGA embedded designs
文章自Xilinx Xcell。去http://www.linuxdevices.com/articles/AT6411901280.html下载这个PDF文档。
查fpga+linux：
1, ***http://www.linuxdevices.com 
2, ***Xilinx及其杂志，和Altera

22:26 2006-11-26
周一要做的事：
1, 有时间去(http://www.opencores.org)和IP Core开发小组(http://www.IPcore.com.cn)，考查IIS总线加入LEON系统的可能性。
2, 看eXvision's Blog：EDN博客
3, 查这些公司：第三方软件开发商Wind River和Montvisa已分别宣布其VxWorks和HardHat Linux实时操作系统（RTOS）及其集成开发环境支持Virtex II Pro 系列FPGA，Insight和Avnet已开始销售含有Virtex II Pro FPGA的高端评估板。依元素科技也推出了用于开发PowerPC系列处理器的GNU集成开发工具和利刃®系列调试工具，以及含有PowerPC处理器的原型评估板。
4, 查这本书：An Illustrated Introduction to Microprocessors and Computer Architecture。亚马逊。
5, 找国内linux方面的论文，文档；英语听力听昨天没听的内容；背六级常考词汇。
6, 根据文档“Writing a Linux Driver 待看”实现没有硬件的Linux字符驱动，晚上实现led驱动。看三篇linux方面毕业论文，主要看名校的；看linux maillist。

9:50 2006-11-27
嵌入式，关注的信息
1, 应对嵌入式时钟频率限制，T-Engine完成多处理器RTOS设计
关注这个操作系统及其对多核的支持
2, “芯片发电机”大胆构想中，MIT将带来电池技术革新 ++
http://www.eetchina.com/ART_8800439523_628868_12bf653b200610.HTM?click_from=11540,8883567706,2006-11-27,EECOL,NEWSLETTER 
使用MEMS技术。Jacobson认为有希望在两到三年内能进行现场测试

14:19 2006-11-27
嵌入式，arm, s3c2410, 远峰开发板学习（续）
计划完成LED灯的驱动:
一, 写代码(参考刘淼书);
(一)对Linux2.4端口实现方式的分析:
注:远峰开发板中红色LED对应GPIO_LED2即F7引脚, 绿色LED对应GPIO_LED1即F4引脚
待看: /YF2410/kernel/drivers/char/s3c2410_gpio_button.h和.c文件, 应该对编写按键的驱动有帮助.***
代码P22
(1)刘淼代码的17, 18行分别定义GPIO_G12, GPIO_G13为绿色和红色LED. 查在哪里定义的GPIO_G12和GPIO_G12. 首先分析驱动中所有的头文件, 最有可能hardware.h中进行了定义. 查这个文件. 根据#inclue <asm/hardware.h>, 又知道Linux默认的头文件目录是 内核/include, 于是查看/usr/src/src2/YF2410/kernel/include/asm/hardware.h 此文件是根据系统配置, 包含不同的头文件, 容易看出下面语句中可能会有所需的GPIO定义:
#ifdef __KERNEL__
#include <asm/arch/hardware.h>
#endif  /* __KERNEL__ */
思: 不同平台下应该有不同的IO定义, 这是如何体现的? 查:
[root@localhost asm]# ll arch
lrwxrwxrwx  1 root root 12 11月 21 21:59 arch -> arch-s3c2410
应该是由make menuconfig配置后, 出现的这个符号连接, 以后再查这个***
打开asm/arch/hardware.h, 发现'#include "S3C2410.h"'和'#include "smdk.h"'有''可能包含所需信息, 分别查看:
1, S3C2410.h
定义了与S3C2410有关的各种常量, 与"15:51 2006-11-24"提到的"2410addr.h"作用差不多.#define GPIO_F4                         MAKE_GPIO_NUM(PORTF_OFS, 4)
在同一个文件中, 查相关的下列宏定义:
#define PORTF_OFS               5
#define MAKE_GPIO_NUM(p, o)     ((p << GPIO_PORT_SHIFTT) | (o <<
GPIO_OFS_SHIFT))
#define GPIO_PORT_SHIFTT        8
#define GPIO_OFS_SHIFT          0
所以: GPIO_F4=5<<8+4<<0=0x504 ??***
2, smdk.h把2410的通用IO与中断等, 与具体硬件对应起来, 例如: 
#define IRQ_CS8900              IRQ_EINT9
#define GPIO_LED1       (GPIO_MODE_OUT | GPIO_PULLUP_DIS | GPIO_F4)
在S3C2410.h有: 
#define GPIO_MODE_OUT           (1 << GPIO_MODE_SHIFT)
#define GPIO_MODE_SHIFT         24
#define GPIO_PULLUP_DIS         (1 << GPIO_PULLUP_SHIFT)
#define GPIO_PULLUP_SHIFT       16
GPIO_LED1=1<<24+1<<16+504=1000000+10000+504=1010504(十六进制) ??***

需要找一个使用GPIO的地方, 结合例子进行理解, 在"YF2410/kernel/arch/arm/mach-s3c2410"查找"GPIO", 得到若干信息, 其中: 
./smdk.c:       set_gpio_ctrl(GPIO_LED1);
./leds-smdk.c:  write_gpio_bit(GPIO_LED1, (state & LED0));
set_gpio_ctrl在"YF2410/kernel/include/asm/arch/S3C2410.h"定义, 类似的还有:  set_gpio_pullup set_gpio_pullup_user set_gpio_mode set_gpio_mode_user  set_gpioA_mode read_gpio_bit read_gpio_reg write_gpio_bit write_gpio_reg 
同时S3C2410.h还有:
#define GPCON(x)        __REG2(0x56000000, (x) * 0x10)
#define GPDAT(x)        __REG2(0x56000004, (x) * 0x10)
#define GPUP(x) __REG2(0x56000008, (x) * 0x10)

#define GRAB_MODE(x)            (((x) & GPIO_MODE_MASK) >> GPIO_MODE_SHIFT)
#define GRAB_PULLUP(x)          (((x) & GPIO_PULLUP_MASK) >>
GPIO_PULLUP_SHIFT)
#define GRAB_PORT(x)            (((x) & GPIO_PORT_MASK) >> GPIO_PORT_SHIFTT)
#define GRAB_OFS(x)             (((x) & GPIO_OFS_MASK) >> GPIO_OFS_SHIFT)

#define GPIO_OFS_MASK           0x000000ff
#define GPIO_PORT_MASK          0x0000ff00
#define GPIO_PULLUP_MASK        0x00ff0000
#define GPIO_MODE_MASK          0xff000000

这样看明白了端口的定义与使用. 
总结: 2410 Linux端口的定义与使用***:
1, 用一个八位十六进制数字保存四个端口寄存器的值, 从高到低每两位分别对应工作模式, 上拉电阻设置, 端口号, 引脚号. 数值的产生方法: 端口号和引脚号使用"MAKE_GPIO_NUM"生成, "上拉电阻设置"使用GPIO_PULLUP_DIS GPIO_PULLUP_SHIFT生成, "工作模式"使用GPIO_MODE_OUT GPIO_MODE_SHIF生成. 
注: 这里的引脚号表示某个端口的第几个引脚.
2, 端口的使用方法. 
(1)上面的诸如GRAB_MODE(x), GPIO_MODE_MASK等八个定义是从第1步产生的八位十六进制数求出所需的数值(工作模式, 上拉电阻设置, 端口号, 引脚号). 
(2)GPCON(x) GPDAT(x) GPUP(x)分别表示设置端口控制寄存器, 数据寄存器和上拉电阻寄存器. __REG2(x)应该表示x地址上保存的数值. 但是不知道是如何定义的, 可能和编译器有关? 查***
(3)以下面代码为例:
#define write_gpio_bit(x, v) \
        ({ GPDAT(GRAB_PORT((x))) &= ~(0x1 << GRAB_OFS((x))); \
           GPDAT(GRAB_PORT((x))) |= ((v) << GRAB_OFS((x))); })
向x引脚写入数值v:
GPDAT(GRAB_PORT((x))) &= ~(0x1 << GRAB_OFS((x)));表示把要写入的引脚清零;
GPDAT(GRAB_PORT((x))) |= ((v) << GRAB_OFS((x)));表示把v写入该引脚.

s3c2410-test.c是S3C2410驱动的一个例子: 初始化时, 向s3c2410_testbuf写入数据,
然后使用read函数读出. 看***
3, 总结: 关键是分析"内核/include/asm/"和"内核/arch/"目录下对应体系结构的文件. 
即: asm/arch-s3c2410/S3C2410.h ......

(二)对Linux2.6端口实现方式的分析:
感觉简单很多:)
1, 分析GPF4:
查看: snapgear-p17/linux-2.6.11/include/asm-arm/arch-s3c2410/regs-gpio.h
#define S3C2410_GPF4        S3C2410_GPIONO(S3C2410_GPIO_BANKF, 4)
同一个文件:
#define S3C2410_GPIONO(bank,offset) ((bank) + (offset))
#define S3C2410_GPIO_BANKF   (32*5)
所以: S3C2410_GPF4=5*32+4. 定义方法与mizi Linux2.4类似
2, 如何使用IO? 在snapgear-p17/linux-2.6.11/include/asm-arm/arch-s3c2410/搜索没有找到, 于是在"snapgear-p17/linux-2.6.11/arch/arm/mach-s3c2410/"搜索, 找到gpio.c, 仍以向引脚写入为例: 
void s3c2410_gpio_setpin(unsigned int pin, unsigned int to)
{
        unsigned long base = S3C2410_GPIO_BASE(pin);
        unsigned long offs = S3C2410_GPIO_OFFSET(pin);
        unsigned long flags;
        unsigned long dat;

        local_irq_save(flags);

        dat = __raw_readl(base + 0x04);
        dat &= ~(1 << offs);
        dat |= to << offs;
        __raw_writel(dat, base + 0x04);

        local_irq_restore(flags);
}

EXPORT_SYMBOL(s3c2410_gpio_setpin);

在include/asm-arm/arch-s3c2410/regs-gpio.h中
#define S3C2410_GPIO_BASE(pin)   ((((pin) & ~31) >> 1) + S3C2410_VA_GPIO)
#define S3C2410_GPIO_OFFSET(pin) ((pin) & 31)
同目录, map.h中
#define S3C2410_VA_GPIO    S3C2410_ADDR(0x00E00000)
#define S3C2410_ADDR(x)   (0xF0000000 + (x))
还缺少一个实例:
在driver目录搜索s3c2410_gpio_setpin没找到, 在linux-2.6.11/arch/arm/mach-s3c2410找到: ./usb-simtec.c: s3c2410_gpio_setpin(S3C2410_GPB4, 1);
在gpio.c的头文件中查找local_irq_save, __raw_readl, __raw_writel, local_irq_restore. 
include/asm-arm/io.h中:
#define __raw_writel(v,a)       (*(volatile unsigned int __force   *)(a) = (v))
#define __raw_readl(a)          (*(volatile unsigned int __force   *)(a))
/include/asm-arm中定义了local_irq_save和local_irq_restore. 用汇编语言编写的,
待看***.
查"__force"的含义和EXPORT_SYMBOL的含义.***,
所以: 
S3C2410_GPIO_BASE(S3C2410_GPF4)=(5*32>>1)+0xF0E00000=5*16+0xF0E00000=0xF0E00050
S3C2410_GPIO_OFFSET(S3C2410_GPF4)=4
"base + 0x04"表示访问GPIO的DAT寄存器, 0x4是GPIO DAT寄存器相对于GPIO CON寄存器的偏移地址. 
不明白 S3C2410_GPIO_BASE=0xF0E... 是什么意思***, 和2410手册不符.会不会是这个版本移植尚未完成.  snapgear-p26的Linux2.6版本仍然是11. 回家时下载一个最新内核.***

14:27 2006-11-27
嵌入式, Linux, 驱动***
查Linux2.6 udev和系统文件系统. 刘淼Linux驱动P17.***

17:58 2006-11-27
继续分析完Linux2.6 端口, 然后完成驱动.

19:50 2006-11-27
Linux, 查找文件filename在$PATH中的哪个目录
#把$PATH路径中的":"用" "代替, 结果保存在DIR_ZJ
DIR_ZJ=`echo $PATH | sed s/:/\ /g`
ls $DIR_ZJ > temp`date +%k%M`
vi temp`date +%k%M`
#然后在打开的文件中查找$filename
#查找完成后删除temp`date +%k%M`

23:43 2006-11-27
嵌入式，arm, s3c2410, 远峰开发板学习（续），led驱动***
led驱动编译成功，忘了把s3c2410-led.o加入到文件系统中。今天来不及了。明天试验NFS和led驱动。
另外，今天开始用2410开发板时出现串口没有显示bootloader启动信息的情况，重新下载了二次，仍然不行。当时是使用远峰2410test程序测试了"10录音"，没有问题。后来串口就又有bootloader的显示了。原因未知。

注: 驱动编写完成后, 如果希望与内核一起编译, 需要修改driver/char/Makefile, driver/char/Config.in.
Config.in中加入:
#add by bamvor. for s3c2410 led driver(s3c2410-led.c). 2006-11-27
dep_tristate 'S3C2410 GPIO led support' CONFIG_S3C2410_GPIO_LED $CONFIG_ARCH_S3C2410
dep_tristate表示定义一个具有三种编译状态的变量. n(不编译),y(加入内核),M(编译为模块)
Makefile中: 
#add by bamvor. for s3c2410 led driver(s3c2410-led.c). 2006-11-27
obj-$(CONFIG_S3C2410_GPIO_LED) += s3c2410-led.o
加入"add by bamvor"那行注释的目的: 说明下面语句的作用; 便于将来查找,
例如使用"grep "add by bamvor" -A 2 -n ./* | more", 就可以列出当前目录下包含"add by bamvor"的行及下面两行的内容. 
然后使用"make modules"可以在.c文件的同一个目录生成.o文件. 然后把.o文件复制到文件系统中即可(一般是lib/moduels/), 也可以使用Makefile直接把.o文件加入到文件系统中(参/usr/src/src2/snapgear-p17/Makefile的modules_install规则, 细分析, 待看***).
可以使用"insmod 模块文件名"插入模块, lsmod显示加载的模块, "rmmod 模块名"卸载加载的模块. (模块的使用待补充***)
例如:
# insmod /lib/modules/s3c2410-led.o
# lsmod
Module                  Size  Used by
s3c2410-led             1888   0
s3c2410-uda1341         8144   0  (unused)
soundcore               4288   2  [s3c2410-uda1341]
# rmmod s3c2410-led
# lsmod
Module                  Size  Used by
s3c2410-uda1341         8144   0  (unused)
soundcore               4288   2  [s3c2410-uda1341]

10:11 2006-11-28
找吴老师谈过了：
1, 细化我自己LEON fpga板子的想法；
2, 考虑单片机讲座。

09:30 2006-11-28
嵌入式，arm, s3c2410, 远峰开发板学习（续）, 加入NFS文件系统
根据远峰的开发板加入NFS文件系统，需要修改配置文件的CONFIG_CMDLINE，查一下原理：
[root@localhost kernel]# grep -R CONFIG_CMDLINE ./* | more
./arch/arm/config.in:   string 'Default kernel command string' CONFIG_CMDLINE ""
./arch/arm/def-configs/smdk2410]:CONFIG_CMDLINE="root=/dev/bon/2 noinitrd init=/linuxrc console=ttyS0"
./arch/arm/kernel/setup.c:#ifndef CONFIG_CMDLINE
./arch/arm/kernel/setup.c:#define CONFIG_CMDLINE ""
./arch/arm/kernel/setup.c:static char default_command_line[COMMAND_LINE_SIZE] __initdata = CONFIG_CMDLINE;
./Documentation/Configure.help:CONFIG_CMDLINE
./include/linux/autoconf.h:#define CONFIG_CMDLINE "root=/dev/bon/2 noinitrd init=/linuxrc console=ttyS0"
./include/config/cmdline.h:#define CONFIG_CMDLINE "root=/dev/bon/2 noinitrd init=/linuxrc console=ttyS0"
上面的结果中去掉了: arm/def-configs与2410无关的; 有关其它体系结构(e.g. ppc)的配置，可以看出在setup.c中把CONFIG_CMDLINE的内容赋给了字符串，里面可能有进一步的处理，另外CONFIG_CMDLINE的定义可以参考kernel/Documentation/nfsroot.txt，对每个参数都有说明。有时间再进一步分析.***
但是配置完成后NFS文件系统无法使用，但是采取的方法如下（完整的NFS使用见后面的log）： 
[root@localhost arch]# /etc/rc.d/init.d/nfs restart
关闭 NFS mountd：                                          [失败]
关闭 NFS 守护进程：                                        [失败]
关闭 NFS quotas：                                          [失败]

[root@localhost arch]# mount 192.168.1.106:/YF2410/root_dir/root_zj /mnt
mount to NFS server '192.168.1.106' failed: server is down.

执行: [root@localhost arch]# ifconfig eth0 192.168.1.106
再挂载:
[root@localhost arch]# mount 192.168.1.106:/YF2410/root_dir/root_zj /mnt
mount: 192.168.1.106:/YF2410/root_dir/root_zj failed, reason given by server: 权 限不够

修改了/etc/exports:
/YF2410/root_dir/root_zj 192.168.1.106(rw,sync,no_root_squash) 192.168.1.134(rw,sync,no_root_squash)
此时: [root@localhost arch]# /etc/rc.d/init.d/nfs restart
关闭 NFS mountd：                                          [  确定  ]
关闭 NFS 守护进程：                                        [  确定  ]
关闭 NFS quotas：                                          [  确定  ]
关闭 NFS 服务：                                            [  确定  ]
启动 NFS 服务：                                            [  确定  ]
关掉 NFS 配额：                                            [  确定  ]
启动 NFS 守护进程：                                        [  确定  ]
启动 NFS mountd：                                          [  确定  ]
[root@localhost arch]#                                     [  确定  ]
结果正确

[root@localhost arch]# mount 192.168.1.106:/YF2410/root_dir/root_zj /mnt
[root@localhost arch]# ls /mnt/
bin  dev  etc  lib  linuette  linuxrc  mnt  proc  sbin  tmp  usr  var
工作正常
[root@localhost arch]# exportfs
/usr/src/src2/YF2410/root_dir/root_zj
                192.168.1.106
/usr/src/src2/YF2410/root_dir/root_zj
                192.168.1.134

13:05 2006-11-28
嵌入式，arm, s3c2410, 远峰开发板学习（续）, NFS文件系统的使用
根据远峰的文档向2410开发板写入bootloader和内核后, 重起开发板. 系统使用NFS文件系统作为根文件系统启动成功，log见log/s3c2410/bootWithNFS。只截取了Linux内核启动和加载文件系统到console启动之前的部分，其余部分与boot.txt相同。从中可以看到下面两句话，说明的确加载了NFS文件系统：
Kernel command line: root=/dev/nfs rw nfsroot=192.168.1.106:/YF2410/root_dir/roo...
VFS: Mounted root (nfs filesystem).
为了验证是否真的使用了NFS文件系统，我在笔记本上把bin/busybox改名，结果ls等命令无法使用（嵌入式Linux中ls等命令通过busybox实现），把busybox改回来后，ls可以使用。
NFS文件系统的使用：
1, 主机的设置：参考远峰文档”YF2410-IIlinux.pdf”p23-p25。但是/etc/exports按远峰的写法会提示没有权限，于是参考”s3c2410linux文档.pdf”修改了/etc/exports:
/YF2410/root_dir/root_zj 192.168.1.106(rw,sync,no_root_squash) 192.168.1.134(rw,sync,no_root_squash)
其中106是主机的ip地址，用于在主机上测试NFS:
mount 192.168.1.134:/YF2410/root_dir/root_zj /mnt
这样可以在/mnt下查看/YF2410/root_dir/root_zj 目录的文件。使用umount /mnt卸载。
2, 开发板的设置：参考远峰文档”YF2410-IIlinux.pdf”p22-p23。
(10:31 2008-8-15)
如果仍有问题可以在开发板上运行portmap试试，详见贺明工作日志"03-23-2008"。

14:01 2006-11-28
嵌入式，arm, s3c2410, 远峰开发板学习（续）, LED驱动
借助NFS文件系统，加载和使用了led驱动，但是开发板的led好像被linux控制了——写入数值led无变化。需要用其它的led试验一下。
呵呵2410远峰2410引脚不会使用。研究一下如何使linux不控制led.***

14:49 2006-11-28
实验室, 毕设, 保研同学的选题
RISC CPU和UART

15:04 2006-11-28
嵌入式，arm, s3c2410, 远峰开发板学习（续）, LED驱动
在"YF2410/kernel/arch/arm/mach-s3c2410/Makefile中有"
# LEDs support
leds-y := leds.o
leds-$(CONFIG_S3C2410_SMDK) += leds-smdk.o
obj-$(CONFIG_LEDS) += $(leds-y)
把这部分注释, 然后再编译, 得到的内核命名为zImage_ledtest, 复制到/tftpboot目录.看看Linux是否就不在控制LED了, 然后再测试自己写的LED驱动.

15:18 2006-11-28
嵌入式，arm, s3c2410, 远峰开发板学习（续）, Linux编译
今天有一次编译时使用"make clean;make dep;make zImage",
编译过程中想起可能配置文>件需要修改, 于是按Ctrl+c停止(因为要停止多个命令,
好像按了两次Ctrl+c). 但是此时使用make menuconfig, make clean, make dep出错:
/usr/src/src2/YF2410/kernel/.hdepend:776: ***
对函数“wildcard”的未终止的调用：遗漏“)”。 停止。
当时觉得彻底清除Linux数据就可以了, 根据"11:05 2006-9-8"使用了make mrproper,
make disclean, 仍然是同样错误. 于是直接把".hdepend"改名, 错误消失.

注: 加入配置文件时, 输入"arch/arm/def-configs/smdk2410", 如果成功加入配置文件.
"[*]   IP: kernel level autoconfiguration"下面的:
[ ]     IP: DHCP support 
[*]     IP: BOOTP support
[ ]     IP: RARP support
三项不会有[NEW]字样.

21:29 2006-11-28
(21:00 2006-12-10)
嵌入式, LEON, 调试, GRMON
1, 如果应用程序使用LEON MMU(例如Linux2.6)或者使用了数据异常句柄(data exception handlers)(例如, eCos), GRMON应用使用"-nb"参数启动以避免在缺页或数据异常时进入调试模式.
原文自: grmon手册1.1.16, p14
If the application uses the LEON MMU (e.g. linux-2.6) or installs data exception handlers (e.g. eCos), the GRMON should be started with -nb to avoid going into break mode on a page-fault or data exception.
参考: LEON 邮件列表 Re: Problem with linux-2.6.11 on NuHorizon
2, SIGSEGV是gdb信号, 如果使用grmon, 启动grmon时加上-nb参数避免在error traps时中断.
原文: SIGSEGV is a gdb signal, so if you are running your codevia grmon, start it with -nb to avoid breaking on error traps.
自: Re: Exception handling in LEON2 Posted by: "Jiri Gaisler" jiri@gaisler.com   jiri_gaisler Mon Nov 27, 2006 10:20 am (PST)

23:03 2006-11-28
嵌入式，arm, s3c2410, 远峰开发板学习（续）, led驱动
下载zImage_ledtest映象后, led不再闪烁. 
insmod /lib/modules/s3c2410-led.o
点亮绿色LED(GPIO_LED1)
echo -n 0 > /dev/led/0
但是无法控制红色LED. 后来查找源代码, 发现led定义不正确. 红色LED是GPIO_LED4而不是GPIO_LED2, 改正后, 重新编译模块, 并复制到root_zj/usr/lib/modules目录, 在开发板重新装载模块, 工作正确. 由于有NFS文件系统, 所以不需要重新烧写文件系统, NFS文件系统体现了很大的优势.

00:18 2006-11-29
嵌入式, Linux, mizilinux, 开发光盘(已下载)
ftp://ftp.mizi.com/pub/linuette/SDK/iso/sdk15-S3C2410-tk-20030630.iso
ftp://ftp.mizi.com/pub/linuette/SDK/iso/sdk15-S3C2410-tk-20030630.iso.md5sum
光盘中有vivi(bootloader)的代码

00:41 2006-11-29
网站, 嵌入式, 常用****
http://www.linuxfans.org/nuke//modules.php?name=Forums&file=viewforum&f=50
中国linux公社, 嵌入式
http://www.linuxfans.org/nuke//modules.php?name=Forums&file=viewtopic&t=112750&postdays=0&postorder=asc&start=0
中国linux公社, 嵌入式linux2.6 2410专题

01:11 2006-11-29
网址, 嵌入式, minigui
http://www.minigui.com/api_ref/1.6.x/modules.html
minigui 1.6 api

01:43 2006-11-29
嵌入式，arm, s3c2410, 远峰开发板学习（续）, 如何控制端口?
在板子上找到这个四个端口对应开发板下面的引脚. 但是如何使用呢?  查一下2410test***
DATA6	DATA7	DATA8	DATA9
A7	C6	F7	B6
后来发现这些就是无法配置成GPIO, 那几个小口是可以用的(CON6, CON7, CON8), 加在一起似乎不够液晶用:( 

明天白天按计划找毕设资料. 晚上试验jtag线. 或会读写2410的端口***. 这两个都完成后做液晶驱动.

10:46 2006-11-29
嵌入式, verilog HDL, FSM
如何设计高效安全的状态机，非常好！
http://www.edacn.net/bbs/thread-62338-1-1.html

11:09 2006-11-29
先写按键驱动程序.
间隙, 继续看完美国优秀硕士论文.

12:33 2006-11-29
今日安排:
1, 测试arm的中断(完成, 程序由Eint.c实现, 阅读看arm 2410文档p354 中断控制器, 为Eint.c加注释).
(1), 由谁提供电平? 开发板串口对着我时, 2410核心板led离我近的引脚是高电平.
(2), 哪个是EINT0/2/11/19? PF0/2 = EINT0/2, PG3/11 = EINT11/19. 位于开发板CON8(EINT/UART). 
CON8- 4=EINT0
CON8- 6=EINT2
CON8- 8=EINT11
CON8-10=EINT19
如下图:
/------------------------------------------/
CPLD Jtag
				
			核心板 led1 led2
				Vcc Vcc

		9  7  5  3  1
串口1	串口2	CON8(EINT/UART)
		10 8  6  4  2
/------------------------------------------/

2, Linux实现驱动read函数读外部信号, 
(1) copy to user函数
内核分析.copy_to_user, copy_from_user.
kernel-hacking.tmpl 有内核编程的资料. 看***. 其中提到copy_from_user在"include/asm-体系结构"目录的uaccess.h文件定义:
static __inline__ unsigned long copy_to_user(void *to, const void *from,
unsigned long n)
从中可以看出copy_to_user的使用方法: 第一个参数是目的地址, 第二个参数是源地址,
第三参数是长度.
同时还有一个定义:
static __inline__ unsigned long __copy_to_user(void *to, const void *from,
unsigned long n)
这个应该是为汇编语言提供的函数.
最后这两个函数实际都调用了"__do_copy_to_user(to, from, n);".
但是前者调用前使用"access_ok(VERIFY_WRITE, to, n"检验是否可以访问,
这应该就是所谓内存保护吧***.
查"__do_copy_to_user", include/asm/proc/uaccess.h有:
extern unsigned long __arch_copy_from_user(void *to, const void *from,
unsigned long n);
#define __do_copy_from_user(to,from,n)                          \
        (n) = __arch_copy_from_user(to,from,n)
下面就没有找到. 以后继续分析.***

(2) 如何读取gpio, 设置gpio, 参见"14:19 2006-11-27"一,(一),2
read_gpio_bit(x)
set_gpio_ctrl(GPIO_MODE_IN | GPIO_PULLUP_DIS | x)
(3)read函数: 
在include/linux/fs.h中定义了"struct file_operations ":
ssize_t (*read) (struct file *, char *, size_t, loff_t *);
(16:38 2006-11-29)
完成s3c2410-io.c, 只是读取IO数值, 晚上编译, 并且输入刘淼键盘程序
3, Linux下使用中断, 实现按键驱动.
4, 完成测试jtag线

19:45 2006-11-29
今天状态不好, 先准备周五内容. 明天写驱动.
今天进展： 发现白天改的程序有问题，根本没有读入端口的数值。

19:45 2006-11-29
网址, 嵌入式, Linux
http://www.betanews.com/
BetaNews | Inside Information; Unreleased Products 不错***
http://threewater.blog.com.cn/
刘淼的博客, 关于他linux驱动的讨论. 关注***

20:39 2006-11-29
嵌入式，arm, s3c2410, 远峰开发板学习（续）, 网址
内核源码:
http://www.kernerl.org上获得。获得的内核及补
补丁下载:
http://www arm.linux.org.uk/developers
http://ftp.lnux.org.uk/pub/linux/arm

20:50 2006-11-29
我的毕业设计
做智能摄像头怎么样? 原来好像在哪里听说过. 就是借助网络(有线, 无线)传递信息, 而不是借助电缆, 这样可以提高灵活性.

11:39 2006-11-30
今日计划：
中午饭后把昨天程序调试通过。在用户应用程序部分写一个把键盘按键在LED显示的程序。
使用linux中断和linux定时器.
下午输入刘淼键盘的程序，要调试通过。晚上完成按键驱动。下午回图书馆后，背单词，背作文2h。
在图书馆时查周立功linux驱动到了没有.***
jtag线什么时候测试？估计需要一个小时。
做明天ppt，加入驱动的ppt。题目还是做基于fpga的音视频编解码开发平台

(14:42 2006-11-30)
昨天程序调试通过. 问题: 
1, 开始没有写读io的函数, 所以结果不正确.
2, 由于没有定时器, 读入数据太多, linux会从最旧的数据开始显示, 一共8192个, 无法显示出最新的端口值.
为了测试方面加入ONE_IO_TEST, 当加入端口值变化时通过printk输出端口值. 由于IO模式是输入+上拉, 所以无按键时键值是1, 有按键是0.
当DEBUG开启时: 
# insmod lib/modules/s3c2410-io.o
# cat /dev/lib/0
s3c2410 - io: io=0x1
s3c2410 - io: io=0x0
s3c2410 - io: io=0x1
s3c2410 - io: io=0x0
s3c2410 - io: io=0x1
s3c2410 - io: release
# 

当DEBUG关闭时, 没有按键时回显的是ASCII码0x01的字符, 按键按下数值是0, 没有显示. 可能是因为copy_to_user不复制全0的信息.查***

15:07 2006-11-30
张默毕设题目是"形式验证", 在今天暑假兼职那个公司. (实际主要是做别的). 关注***

20:24 2006-11-30
我的毕业设计
1, 查LEON邮件列表，有没有彩色液晶控制器***。由于LEON3自带的vga控制器只支持字符显示，所以开题中不能写彩色显示的东西了。彩色液晶的显示在2410中做实验（移植linux2.6到2410之后）。如果有人能把LCD/VGA控制器的wishbone改为amba. 已经有了支持frame-buffer的像素显示的vga模块.
2, 今晚进入linux时查一下snapgear对frame-buffer的支持. 支持
http://www.easygui.com/ 做液晶显示驱动程序等的网站，待看***
3, 查Embedded Systems Conference Proceedings。找国际上linux影响比较大的会议和刊物。
http://www.embedded.com/esc/boston/proceedings/
4, 看linux 邮件列表和LEON邮件列表: 嵌入式LEON或SPARC SOC的bootloader是否都使用mkrom？查mkprom的原理。不急——做彩色液晶驱动时再考虑

22:58 2006-11-30
李京波师兄和冯哲师姐收到NEC笔试通知。笔试结束后问一下情况。
找cisco笔试题，有时间做一下。

23:39 2006-11-30
嵌入式，arm, s3c2410, 远峰开发板学习（续）, 内核中的时间
1, jiffies和HZ（参见嵌入式Linux应用开发详解，TP316.81/245 p247）：
jiffies是自操作系统启动以来的时间间隔，每次时间中断加一，在linux/sched.h中定义为extern unsigned long volatile jiffies。HZ是与平台无关的量，不同系统结构下使用宏定义定义HZ。
下面是加入了jiffies和10毫秒（#define DELAY_10MS HZ/100）延时后，运行的结构。信息中time的单位是jiffies，interval的单位是10毫秒。由于一直向用户空间写数数据太多，所以测试时禁止了copy_to_user
# cat /dev/io/0
s3c2410 - io: open
s3c2410 - io: io=0x0, time is 99027
s3c2410 - io: interval far from last io action is 6145
s3c2410 - io: io=0x1, time is 99038
s3c2410 - io: interval far from last io action is 11
s3c2410 - io: io=0x0, time is 99057
s3c2410 - io: interval far from last io action is 19
s3c2410 - io: io=0x1, time is 99065
s3c2410 - io: interval far from last io action is 8
s3c2410 - io: release

11:49 2006-11-30
1, 单片机讲座：和耿师姐，郭月商量。给吴老师整体的流程。初步想郭月画开发板，用光栅的开发流程，加上串口通信。
(1)开发板的设计：
开发板功能的基本描述(12-5):
参考利尔达msp430f44x开发板的原理图, 做如下修改:
(1)-1 不实现rs485和TSS721. 不实现8段显示. 串口做一个. 
(1)-2 AT45DB021 2-Megabit 2.7-volt Only Serial DataFlash 是NOR型flash, 使用SRAM接口. 另外还有EEPROM. 考虑是否使用. 能有最好
(1)-3 要加入USB接口. 使用CP210x. 
注: USB, FLash, EEPROM, 段式液晶, 都只是画板子, 但是不调试. 
(1)-4 加上一个cpld做功能扩展, 可以使用原来用的CoolRunner系列；
(1)-5 郭月选芯片时注意回流焊的模板是否有这个封装。问金辉还没有当时那个模板.
(1)-6 加上几个LED. 另外在电源处加LED指示灯. 
(1)-7 是否需要考虑ESD?
(1)-8 所有插座使用防呆设计, 避免用户插反. 电源要保证即使插反也不会烧.
(2)液晶显示的代码要优化——在实现linux驱动的同时做。
(3)讲不讲汇编？
(4)讲不讲画板子？讲，就以画实验板简单说明两层板的画法。
(5)问王龙伟是否确定做模拟IC(是)，问孙建辉PIC进度(完成了定时器和AD的调试)。
(6)总体思路(已经和吴老师首肯): 
借助实验室自己做的msp430开发板, 
i, 从系统和体系结构的角度***了解计算机系统的基本工作原理: CPU, I/O, 存储器. 参<嵌入式微控制器>
ii, 了解嵌入式系统c语言编程基本要领: 面向对象思想等等, 参嵌入式C语言修炼之道; 吴老师: 加上简单的OS***, bamvor: 参考<嵌入式C语言修炼之道>.
指针与面向对象, 指针与存储器管理和使用, 
iii, 常用和基本的外网硬件:
	基本调试方法: jtag, 开发环境提供的调试手段(profiling, watch(联光栅的调试));
	基本输入输出: 点阵液晶显示, 键盘; 
	串口UART, SPI.
(7)bamvor补充: 从硬件看软件, 从软件看硬件. 要分析中断——包括有无操作系统的中断处理.
(8)参考资料补充: 李京波师兄的嵌入式微控制器. <嵌入式C语言修炼之道>
(9)考虑以后的扩展, 能不能跑ucosII, ecos等小型操作系统. 尽量选择ram大的版本. msp430fg4619(完成, 资料已给郭跃).
(10)下载msp430x4xx user guide. 找有没有介绍msp430 CPU核.
(11)范例程序需要有能体现实时性, 任务调度的. 
(12)参考资料: MSP430单片机中的WDT研究***; 构造一个51单片机的实时操作系统***.
(13)(19:47 2006-12-22)嵌入式, 单片机讲座
(2006-12-22)向吴老师解释了这段时间比较忙，忙完就开始弄单片机项目的东西。吴老师说不用太着急，抽时间做就可以。寒假想想方案，明年开学开始准备就可以。基于这个考虑，完全可以和郭跃一起（带上郭跃）逐步增加单片机板子的功能，郭跃边调RF模块，边画版图。
(14)调试分工：
郭跃：射频模块，RS232，复位电路
孙建辉：JTAG，液晶
(15)，费用约(900+300)，已经和吴老师说过，原定1月底买元件，投板子，由于孙建辉要做LED项目，修改为：
可以考虑我自己做开发板的布局，然后完成原来分配给孙建辉的版图任务：JTAG，液晶。春节后2月底投板子，预计3月开始调试。
(16), 问王龙伟寒假安排，能否写个以前项目的介绍和经验分享。尤其时PIC的项目，能不能把原来PIC的代码在孙建辉的板子上调通。
2, 本科毕设：(1)电脑问题，(2)题目的选择，(3)还是要做周报，每周都要给我。由张旺负责。下周三要结果。
(15:43 2006-12-2)周日晚上找候哥商量能不能让一个保研同学做linux驱动那个题目。***
2-1, 我一直认为基于fpga的嵌入式开发回越来越重要；
2-2, 
(1)让保研同学做基于fpga的嵌入式开发可以完善我做不完的平台，对实验室以后的发展很有好处；
(2)仅仅是学习，对他的就业也有好处。嵌入式很火。同时大家也不可能都找集成电路的工作。
(16:21 2006-12-2)
UART题目，能不能换题目，做IIC（同样周日问候哥）：
1, 下载到fpga验证，与上位机通信；
2, 可以建议做UART的同学做USART，即加入对IIC和SPI的支持。，

13:31 2006-11-30
今晚回家看明天双选会的单位招聘情况。***

20:16 2006-11-30
网址，招聘
http://www.yingjiesheng.com/
应届生求职网YingJieSheng.COM-校园招聘

